{"post_stream":{"posts":[{"id":5662,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2015-04-04T09:14:58.000Z","cooked":"\u003cp\u003eHi folks!\u003cbr\u003e\nToday i‚Äôm figure out how to add the affect of the NormalMap to CookTorrance lightning tech.\u003c/p\u003e\n\u003cp\u003emy tech DiffCookTorrance.xml based on Diff.xml\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u0026lt;technique vs=\"LitSolidCookTorrance\" ps=\"LitSolidCookTorrance\" psdefines=\"DIFFMAP NORMALMAP COOKTORRANCE\"\u0026gt;\n    \u0026lt;pass name=\"base\" /\u0026gt;\n    \u0026lt;pass name=\"litbase\" psdefines=\"AMBIENT\" /\u0026gt;\n    \u0026lt;pass name=\"light\" depthtest=\"equal\" depthwrite=\"false\" blend=\"add\" /\u0026gt;\n    \u0026lt;pass name=\"prepass\" psdefines=\"PREPASS\" /\u0026gt;\n    \u0026lt;pass name=\"material\" psdefines=\"MATERIAL\" depthtest=\"equal\" depthwrite=\"false\" /\u0026gt;\n    \u0026lt;pass name=\"deferred\" psdefines=\"DEFERRED\" /\u0026gt;\n    \u0026lt;pass name=\"depth\" vs=\"Depth\" ps=\"Depth\" /\u0026gt;\n    \u0026lt;pass name=\"shadow\" vs=\"Shadow\" ps=\"Shadow\" /\u0026gt;\n\u0026lt;/technique\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCT without normalmap I guess works fine,\u003cbr\u003e\n[pastebin]DtpbyyXB[/pastebin]\u003c/p\u003e\n\u003cp\u003eBut then i‚Äôm add normalmap most of the models are have strange behavior.\u003c/p\u003e\n\u003cp\u003evec3 l = normalize (  cLightPosPS.xyz - vWorldPos.xyz);\u003cbr\u003e\nvec3 n = normal;\u003cbr\u003e\nfloat NoL = dot(n, l);\u003cbr\u003e\nfinalColor = (max(0.0, NoL) * ((diffCt.xyz + specCt.xyz))); - very bright in some angles view and color affecting on camera position\u003cbr\u003e\n\u003ca href=\"http://savepic.net/6603347.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.net/6603347m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003efinalColor = (max(0.0, NoL) * ( diff * (diffCt.xyz + specCt.xyz))); - very dark in most angles view and color mostly constants and not affecting on scene lights\u003cbr\u003e\n\u003ca href=\"http://savepic.net/6566483.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.net/6566483m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI‚Äôm don‚Äôt understand how to doing right affecting the normal mapping with CT tech.\u003cbr\u003e\nAny ideas how to marge CT with normal mapping ?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:04:33.307Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":8,"reads":5,"readers_count":4,"score":41.0,"yours":false,"topic_id":975,"topic_slug":"cooktorrance-normalmap","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://savepic.net/6603347.htm","internal":false,"reflection":false,"title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 6603347 | –°–µ—Ä–≤–∏—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π : —Ö–æ—Å—Ç–∏–Ω–≥ –∫–∞—Ä—Ç–∏–Ω–æ–∫ : —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Ñ–æ—Ç–æ–∫ : –º–µ—Å—Ç–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π : —Ñ–æ—Ç–æ—Ö–æ—Å—Ç–∏–Ω–≥ : Free Image Hosting","clicks":0},{"url":"http://savepic.net/6566483.htm","internal":false,"reflection":false,"title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 6566483 | –°–µ—Ä–≤–∏—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π : —Ö–æ—Å—Ç–∏–Ω–≥ –∫–∞—Ä—Ç–∏–Ω–æ–∫ : —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Ñ–æ—Ç–æ–∫ : –º–µ—Å—Ç–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π : —Ñ–æ—Ç–æ—Ö–æ—Å—Ç–∏–Ω–≥ : Free Image Hosting","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5666,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2015-04-04T22:06:48.000Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eTough to say without the CookTorrance function, but I‚Äôd really expect your specular color to be an input into the fresnel function in your CookTorrance function.\u003cbr\u003e\nactual full source version of shader\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e[pastebin]4dvKwg2h[/pastebin]\u003c/p\u003e\n\u003cp\u003ei‚Äôm rewrite fresnel with:\u003cbr\u003e\nfloat fresnel = F_Schlick(mix(0.004, 0.9, cFresnel), NoV);\u003cbr\u003e\nbefore i‚Äôm put cFresnel directly from material settings into CT function ( float ct = CookTorrance(h, NoV, NoL, NoH, VoH, cRougness, fresnel); ) and this in wrong as for me talked on \u003ca href=\"http://gd.ru\"\u003egd.ru\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eProbably just:\u003cbr\u003e\nfinalColor = (max(0.0, NoL) * (((diffCt.xyz + specColor.xyz) * cLightColor.a));\u003cbr\u003e\nNo, it still have a same strange behavior with normal map and without it the CT lightning is - ok, I guess.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003ethe bug with normal: it like the light change own direction and lightning the opposite side of model and not front side what it must lightning. And also this is huges specs on model‚Äôs\u003cbr\u003e\ncontours )\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:04:33.570Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":4,"readers_count":3,"score":0.8,"yours":false,"topic_id":975,"topic_slug":"cooktorrance-normalmap","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://gd.ru","internal":false,"reflection":false,"title":"¬´–ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –î–∏—Ä–µ–∫—Ç–æ—Ä¬ª - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∂—É—Ä–Ω–∞–ª —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5858,"name":"","username":"sabotage3d","avatar_template":"/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png","created_at":"2015-04-21T19:39:47.000Z","cooked":"\u003cp\u003eHey man thanks for sharing this it looks quite cool .\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:04:47.988Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":4,"readers_count":3,"score":0.8,"yours":false,"topic_id":975,"topic_slug":"cooktorrance-normalmap","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":151,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[5662,5666,5858]},"timeline_lookup":[[1,2790],[2,2789],[3,2772]],"suggested_topics":[{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7074,"title":"First Person and 3rd person camera and water reflections","fancy_title":"First Person and 3rd person camera and water reflections","slug":"first-person-and-3rd-person-camera-and-water-reflections","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-01T18:37:28.669Z","last_posted_at":"2021-12-01T21:19:51.519Z","bumped":true,"bumped_at":"2021-12-01T21:19:51.519Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":158,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7107,"title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u003cSDL/SDL_gamecontroller.h\u003e","fancy_title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u0026lt;SDL/SDL_gamecontroller.h\u0026gt;","slug":"error-sdl-sdl-gamecontroller-h-no-such-file-or-directory-include-sdl-sdl-gamecontroller-h","posts_count":6,"reply_count":1,"highest_post_number":6,"image_url":null,"created_at":"2021-12-21T15:29:52.810Z","last_posted_at":"2021-12-22T15:32:44.818Z","bumped":true,"bumped_at":"2021-12-22T15:32:44.818Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":271,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}],"tags_descriptions":{},"id":975,"title":"CookTorrance \u0026 NormalMap","fancy_title":"CookTorrance \u0026amp; NormalMap","posts_count":3,"created_at":"2015-04-04T09:14:58.000Z","views":198,"reply_count":0,"like_count":0,"last_posted_at":"2015-04-21T19:39:47.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"cooktorrance-normalmap","category_id":10,"word_count":392,"deleted_at":null,"user_id":148,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_975","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":151,"username":"sabotage3d","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"},"last_poster":{"id":151,"username":"sabotage3d","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png"}}}