{"post_stream":{"posts":[{"id":8774,"name":"","username":"Bananaft","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png","created_at":"2015-11-30T22:18:49.000Z","cooked":"\u003cp\u003eIt seems to me that directional light‚Äôs frustum near and far planes are set to some very high numbers and does no change no matter what (am I right?). The only way to fix bad depth precision (like this: \u003ca href=\"http://i.imgur.com/B6MLGHz.png\" rel=\"nofollow noopener\"\u003ei.imgur.com/B6MLGHz.png\u003c/a\u003e) is to set renderer.shadowQuality from 16 to 24 bit. It helps a bit, but wouldn‚Äôt be better to set near and far planes automatically (\u003ca href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee416324(v=vs.85).aspx\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003elike described here\u003c/a\u003e), so the range between them will be minimal, thus will provide higher precision even with 16 bit?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:08:21.062Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":12,"reads":5,"readers_count":4,"score":61.0,"yours":false,"topic_id":1537,"topic_slug":"shadowmap-depth-precission","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://i.imgur.com/B6MLGHz.png","internal":false,"reflection":false,"title":"B6MLGHz.png","clicks":3},{"url":"https://msdn.microsoft.com/en-us/library/windows/desktop/ee416324(v=vs.85).aspx","internal":false,"reflection":false,"title":"Common Techniques to Improve Shadow Depth Maps (Windows)","clicks":2}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":165,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8782,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-12-01T09:26:07.000Z","cooked":"\u003cp\u003eThe logic to set the dir light shadow camera‚Äôs near \u0026amp; far plane could be better, I agree. Right now it‚Äôs derived from the amount of main view frustum it‚Äôs covering. One thing to keep in mind is that changing the near / far planes radically (in a scene or view angle dependent way) also dynamically changes the significance of depth bias, making it harder to adjust.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:08:21.602Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":5,"readers_count":4,"score":1.0,"yours":false,"topic_id":1537,"topic_slug":"shadowmap-depth-precission","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8788,"name":"","username":"Bananaft","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png","created_at":"2015-12-01T22:06:33.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e Right now it‚Äôs derived from the amount of main view frustum it‚Äôs covering.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eAh, ok, thanks for clarifying. I have camera‚Äôs far clip set to 12000, and last shadow split fading at 5000.\u003c/p\u003e\n\u003cp\u003eI see, it makes sense to cover all main camera depth for cases like dawn with very long shadows, even if shadow distance is much smaller. But one thing I‚Äôve noted in my case, is that, when the sun is low you don‚Äôt need as much precision as when it high.\u003c/p\u003e\n\u003cp\u003eHere is pretty ugly leaks i have with high sun (16 bits) \u003ca href=\"http://imgur.com/Bt3ULqH\" rel=\"nofollow noopener\"\u003eimgur.com/Bt3ULqH\u003c/a\u003e\u003cbr\u003e\nAnd with low: \u003ca href=\"http://imgur.com/51XXetb\" rel=\"nofollow noopener\"\u003eimgur.com/51XXetb\u003c/a\u003e\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eOne thing to keep in mind is that changing the near / far planes radically (in a scene or view angle dependent way) also dynamically changes the significance of depth bias, making it harder to adjust.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThe choice is to always have worst precision, or only sometimes. It may as well adjust bias automatically with some extra parameter. Setting up perfect bias is a pain anyway, I‚Äôm okay to have a bit more pain for better results.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:08:22.071Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":2,"reads":5,"readers_count":4,"score":11.0,"yours":false,"topic_id":1537,"topic_slug":"shadowmap-depth-precission","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://imgur.com/Bt3ULqH","internal":false,"reflection":false,"title":"Imgur: The most awesome images on the Internet","clicks":5},{"url":"http://imgur.com/51XXetb","internal":false,"reflection":false,"title":"Imgur: The most awesome images on the Internet","clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":165,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[8774,8782,8788]},"timeline_lookup":[[1,2549],[3,2548]],"suggested_topics":[{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7110,"title":"Resource fetch define","fancy_title":"Resource fetch define","slug":"resource-fetch-define","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-27T12:28:55.126Z","last_posted_at":"2021-12-27T17:00:37.699Z","bumped":true,"bumped_at":"2021-12-27T17:00:37.699Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":7,"views":184,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7230,"title":"Issue with lighting in DiffAlpha","fancy_title":"Issue with lighting in DiffAlpha","slug":"issue-with-lighting-in-diffalpha","posts_count":12,"reply_count":5,"highest_post_number":12,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/1/1cdd13d06cf85c41cdc82209ea0e638e4bdc93ea.jpeg","created_at":"2022-04-01T23:36:26.647Z","last_posted_at":"2022-04-07T07:40:42.459Z","bumped":true,"bumped_at":"2022-04-07T07:40:42.459Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1513,"username":"emenninga","name":"Eric","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/e/f04885/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7268,"title":"Get vertex position before Morph in shader","fancy_title":"Get vertex position before Morph in shader","slug":"get-vertex-position-before-morph-in-shader","posts_count":8,"reply_count":6,"highest_post_number":8,"image_url":null,"created_at":"2022-05-15T19:44:19.139Z","last_posted_at":"2022-05-16T06:11:07.099Z","bumped":true,"bumped_at":"2022-08-12T22:38:31.553Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":5,"views":209,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1205,"username":"Askhento","name":"Askhento","avatar_template":"/user_avatar/discourse.urho3d.io/askhento/{size}/3849_2.png"}},{"extras":"latest","description":"Most Recent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7328,"title":"Any Expense if Setting AnimationState.Time to Previous Value?","fancy_title":"Any Expense if Setting AnimationState.Time to Previous Value?","slug":"any-expense-if-setting-animationstate-time-to-previous-value","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2022-09-19T17:51:43.462Z","last_posted_at":"2022-09-22T11:28:01.861Z","bumped":true,"bumped_at":"2022-09-22T11:28:01.861Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":115,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":1537,"title":"Shadowmap depth precission","fancy_title":"Shadowmap depth precission","posts_count":3,"created_at":"2015-11-30T22:18:49.000Z","views":421,"reply_count":0,"like_count":0,"last_posted_at":"2015-12-01T22:06:33.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"shadowmap-depth-precission","category_id":11,"word_count":382,"deleted_at":null,"user_id":165,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1537","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":165,"username":"Bananaft","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":3,"username":"cadaver","name":"Lasse √ñ√∂rni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2}],"created_by":{"id":165,"username":"Bananaft","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png"},"last_poster":{"id":165,"username":"Bananaft","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png"},"links":[{"url":"http://imgur.com/Bt3ULqH","title":"Imgur: The most awesome images on the Internet","internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":165,"domain":"imgur.com","root_domain":"imgur.com"},{"url":"http://imgur.com/51XXetb","title":"Imgur: The most awesome images on the Internet","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":165,"domain":"imgur.com","root_domain":"imgur.com"},{"url":"https://msdn.microsoft.com/en-us/library/windows/desktop/ee416324(v=vs.85).aspx","title":"Common Techniques to Improve Shadow Depth Maps (Windows)","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":165,"domain":"msdn.microsoft.com","root_domain":"microsoft.com"}]}}