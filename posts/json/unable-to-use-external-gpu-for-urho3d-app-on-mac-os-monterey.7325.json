{"post_stream":{"posts":[{"id":45722,"name":"Limin Fu","username":"daokoder","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/898d66/{size}.png","created_at":"2022-09-13T10:07:14.525Z","cooked":"\u003cp\u003eHello! I recently upgraded my macbook pro from Mojave to Monterey. Everything work fine for me except some minor issues. But one thing bugs me the most is the strange problem I encountered when trying to use an external GPU to run an Urho3D application.\u003c/p\u003e\n\u003cp\u003eThe problem is that, if I configure an app bundle to prefer the external GPU (AMD Radeon RX 580), the app will run using a software renderer!\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5f906b318833e198a50421d1068fb2d87d17c231.jpeg\" data-download-href=\"/uploads/short-url/dDoM4ztGkBMRCd8txjSTiu8Ujkd.jpeg?dl=1\" title=\"Urho3D_Using_SoftwareRenderer_for_ExternalGPU\" rel=\"noopener nofollow ugc\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/5f906b318833e198a50421d1068fb2d87d17c231_2_690x394.jpeg\" alt=\"Urho3D_Using_SoftwareRenderer_for_ExternalGPU\" data-base62-sha1=\"dDoM4ztGkBMRCd8txjSTiu8Ujkd\" width=\"690\" height=\"394\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/5f906b318833e198a50421d1068fb2d87d17c231_2_690x394.jpeg, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/5f906b318833e198a50421d1068fb2d87d17c231_2_1035x591.jpeg 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5f906b318833e198a50421d1068fb2d87d17c231.jpeg 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/5f906b318833e198a50421d1068fb2d87d17c231_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\n\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eUrho3D_Using_SoftwareRenderer_for_ExternalGPU\u003c/span\u003e\u003cspan class=\"informations\"\u003e1280×732 147 KB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\n\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003eThis is very weird! I have spent more than one day trying to solve the problem without success. Anyone knows how this happens or how to fix it? Thanks a lot!\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2022-09-13T12:54:01.977Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":18,"readers_count":17,"score":3.6,"yours":false,"topic_id":7325,"topic_slug":"unable-to-use-external-gpu-for-urho3d-app-on-mac-os-monterey","display_username":"Limin Fu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5f906b318833e198a50421d1068fb2d87d17c231.jpeg","internal":false,"reflection":false,"title":"5f906b318833e198a50421d1068fb2d87d17c231.jpeg","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1424,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":45725,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2022-09-13T20:14:45.247Z","cooked":"\u003cp\u003eI’m not at all sure, but I wonder based on this list if Apple always give that string for the graphics adapter?\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://feedback.wildfiregames.com/report/opengl/feature/GL_MAX_3D_TEXTURE_SIZE\" class=\"onebox\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003ehttps://feedback.wildfiregames.com/report/opengl/feature/GL_MAX_3D_TEXTURE_SIZE\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eOr maybe not. Not sure. But here’s some info about storing multiple GPUs or switching GPUs in an application. I’m not sure how you’re trying to run on the external GPU, or what Urho is doing on a Mac, but it might be helpful for figuring out what is happening. Unfortunately I don’t have a Mac, so I can’t really help you any more than this.\u003c/p\u003e\n\u003caside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://developer.apple.com/library/archive/qa/qa1734/_index.html\"\u003e\n  \u003cheader class=\"source\"\u003e\n\n      \u003ca href=\"https://developer.apple.com/library/archive/qa/qa1734/_index.html\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003edeveloper.apple.com\u003c/a\u003e\n  \u003c/header\u003e\n\n  \u003carticle class=\"onebox-body\"\u003e\n    \n\n\u003ch3\u003e\u003ca href=\"https://developer.apple.com/library/archive/qa/qa1734/_index.html\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eTechnical Q\u0026amp;A QA1734: Allowing OpenGL applications to utilize the...\u003c/a\u003e\u003c/h3\u003e\n\n  \u003cp\u003eQA1734: describes the required steps to allow OpenGL applications to utilize the integrated GPU on Mac OS X Lion and later.\u003c/p\u003e\n\n\n  \u003c/article\u003e\n\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n","post_number":2,"post_type":1,"updated_at":"2022-09-13T20:31:02.074Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":8.0,"yours":false,"topic_id":7325,"topic_slug":"unable-to-use-external-gpu-for-urho3d-app-on-mac-os-monterey","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://feedback.wildfiregames.com/report/opengl/feature/GL_MAX_3D_TEXTURE_SIZE","internal":false,"reflection":false,"title":"OpenGL capabilities report: GL_MAX_3D_TEXTURE_SIZE","clicks":0},{"url":"https://developer.apple.com/library/archive/qa/qa1734/_index.html","internal":false,"reflection":false,"title":"Technical Q\u0026A QA1734: Allowing OpenGL applications to utilize the integrated GPU","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":45727,"name":"Limin Fu","username":"daokoder","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/898d66/{size}.png","created_at":"2022-09-14T07:07:26.247Z","cooked":"\u003cp\u003eThank you for trying to help.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI’m not at all sure, but I wonder based on this list if Apple always give that string for the graphics adapter?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eNo, it gives the right vendor and card information for the integrated GPU (and for the external GPU as well before the system upgrade). And it was actually using a software renderer with an extremely poor performance.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI’m not sure how you’re trying to run on the external GPU, or what Urho is doing on a Mac, but it might be helpful for figuring out what is happening.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAmong a few laptops I am using for developing and testing, only Macbook Pro that has a sufficiently powerful CPU. I am trying to use it to test and record some videos for my game, but its GPU is too poor, so I have to use an external GPU for this.\u003c/p\u003e\n\u003cp\u003eLuckily, by looking through SDL source code and Apple’s online documentation for OpenGL, I just found a solution, by adding the following line in Graphics::SetMode() to enforce the using of hardware accelerated drivers:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eSDL_GL_SetAttribute(SDL_GL_ACCELERATED_VISUAL, 1);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow it can ignore Apple’s software renderer and use the external GPU properly as before.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2022-09-14T07:07:26.247Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":18.0,"yours":false,"topic_id":7325,"topic_slug":"unable-to-use-external-gpu-for-urho3d-app-on-mac-os-monterey","display_username":"Limin Fu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1424,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true}],"stream":[45722,45725,45727]},"timeline_lookup":[[1,71],[2,70]],"suggested_topics":[{"id":7083,"title":"Using custom models in Xamarin.Forms shared project","fancy_title":"Using custom models in Xamarin.Forms shared project","slug":"using-custom-models-in-xamarin-forms-shared-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-03T08:34:21.895Z","last_posted_at":"2021-12-03T11:40:30.983Z","bumped":true,"bumped_at":"2021-12-03T11:40:30.983Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":198,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1493,"username":"Nikolai","name":"Nikolai Miroshnichenko","avatar_template":"/user_avatar/discourse.urho3d.io/nikolai/{size}/3632_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7215,"title":"How to build rbfx?","fancy_title":"How to build rbfx?","slug":"how-to-build-rbfx","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-03-11T01:28:40.314Z","last_posted_at":"2022-03-12T19:16:39.360Z","bumped":true,"bumped_at":"2022-03-12T19:16:39.360Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":268,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1447,"username":"Batch","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/f17d59/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7243,"title":"Android compile fails","fancy_title":"Android compile fails","slug":"android-compile-fails","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2022-04-25T08:46:07.947Z","last_posted_at":"2022-05-06T08:22:51.592Z","bumped":true,"bumped_at":"2022-05-06T08:22:51.592Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":181,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":7325,"title":"Unable to use external GPU for Urho3D app on Mac OS Monterey","fancy_title":"Unable to use external GPU for Urho3D app on Mac OS Monterey","posts_count":3,"created_at":"2022-09-13T10:07:14.458Z","views":84,"reply_count":1,"like_count":1,"last_posted_at":"2022-09-14T07:07:26.247Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"unable-to-use-external-gpu-for-urho3d-app-on-mac-os-monterey","category_id":10,"word_count":424,"deleted_at":null,"user_id":1424,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/5f906b318833e198a50421d1068fb2d87d17c231_2_1024x585.jpeg","slow_mode_seconds":0,"draft":null,"draft_key":"topic_7325","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":[{"max_width":null,"max_height":null,"width":1280,"height":732,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5f906b318833e198a50421d1068fb2d87d17c231.jpeg"},{"max_width":1024,"max_height":1024,"width":1024,"height":585,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/5f906b318833e198a50421d1068fb2d87d17c231_2_1024x585.jpeg"}],"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":3,"username":"daokoder","excerpt":"Thank you for trying to help. \n\nI’m not at all sure, but I wonder based on this list if Apple always give that string for the graphics adapter? \n\nNo, it gives the right vendor and card information for the integrated GPU (and for the external GPU as well before the system upgrade). And it was actuall\u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1424,"username":"daokoder","name":"Limin Fu","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/898d66/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1424,"username":"daokoder","name":"Limin Fu","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/898d66/{size}.png"},"last_poster":{"id":1424,"username":"daokoder","name":"Limin Fu","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/898d66/{size}.png"}}}