{"post_stream":{"posts":[{"id":14402,"name":"","username":"amit.nath30","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/3da27b/{size}.png","created_at":"2016-11-10T20:08:19.000Z","cooked":"\u003cp\u003eHello every\u003c/p\u003e\n\u003cp\u003efor past 7days i have been trying hard to integrate qt5.7 with urho3d but could not figure out the way, I followed aster2013 particle editor 2d (seems to using qt4) but didn’t succeed.\u003c/p\u003e\n\u003cp\u003eI really appreciate if some one show me the way\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:15:09.970Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":113,"reads":22,"readers_count":21,"score":571.4,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":585,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14416,"name":"","username":"rasteron","avatar_template":"/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png","created_at":"2016-11-11T07:12:07.000Z","cooked":"\u003cp\u003eMaybe you should try it first with the same exact version that aster originally used in building the particle editor. Once you are familiar with it then try upgrading and know the difference between these versions. I remember changing the header files and looking up some function equivalents to make it work with some test projects.\u003c/p\u003e\n\u003cp\u003eQt is a big library and I think getting some experience building some Qt4 and 5 apps with it is the first step. \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:15:10.950Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":54,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14428,"name":"","username":"dakilla","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","created_at":"2016-11-11T20:59:04.000Z","cooked":"\u003cp\u003eI have a project with Qt5.7 and it works fine.\u003c/p\u003e\n\u003cp\u003eI use a QWidget to draw inside. I use a class based on Urho3D object to communicate easily with urho.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eclass eRenderView : public QWidget, public Object\n{\n    Q_OBJECT\n    URHO3D_OBJECT(eRenderView, Object)\n...\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eAt Urho init I set the  ExternalWindow param with the QWidget handle.\u003cbr\u003e\nsomething like that :\u003c/p\u003e\n\u003cp\u003em_hwnd = (void*)m_renderWindow\u0026gt;winId();\u003cbr\u003e\n…\u003cbr\u003e\nengineParameters[“ExternalWindow”]  = m_hwnd;\u003c/p\u003e\n\u003cp\u003eI also use a Qtimer to repaint each frame by calling Engine::RunFrame().\u003c/p\u003e\n\u003cp\u003eFor inputs, I also need to map and push the Qwidget events to SDL2 ex :\u003c/p\u003e\n\u003cp\u003e[code]void eRenderView::keyPressEvent(QKeyEvent *ke)\u003cbr\u003e\n{\u003cbr\u003e\nQWidget::keyPressEvent(ke);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// add key to held keys list\nif (!m_keysDown.contains(ke-\u0026gt;key()) \u0026amp;\u0026amp; !ke-\u0026gt;isAutoRepeat())\n    m_keysDown.append(ke-\u0026gt;key());\n\n// Transmit key press event to SDL\nSDL_Event sdlEvent;\nsdlEvent.type = SDL_KEYDOWN;\nsdlEvent.key.keysym.sym = __convertQtKeyToSDL( Qt::Key(ke-\u0026gt;key()) );\nsdlEvent.key.keysym.mod = __convertQtKeyModifierToSDL(ke-\u0026gt;modifiers());\nSDL_PushEvent(\u0026amp;sdlEvent);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}[/code]\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:15:11.750Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":24,"readers_count":23,"score":14.8,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":394,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14432,"name":"","username":"amit.nath30","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/3da27b/{size}.png","created_at":"2016-11-12T07:08:06.000Z","cooked":"\u003cp\u003eproblem I am having is creating the Context. When i use below code in main.cpp\u003c/p\u003e\n\u003cp\u003eUrho3D::SharedPtr\u003ca\u003eUrho3D::Context\u003c/a\u003e context(new Urho3D::Context());\u003cbr\u003e\nor by\u003cbr\u003e\nUrho3D::Context* context = new Urho3D::Context();\u003c/p\u003e\n\u003cp\u003eI am getting error in ptr.h at AddRef() and ReleaseRef()\u003c/p\u003e\n\u003cp\u003ei might overlooking some settings which causing this error, but couldn’t able to track it down\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:15:12.022Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":585,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14433,"name":"","username":"dakilla","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","created_at":"2016-11-12T09:19:23.000Z","cooked":"\u003cp\u003eI created a static context in a class  :\u003c/p\u003e\n\u003cp\u003e[code]class eGraphics : public Object\u003cbr\u003e\n{\u003cbr\u003e\nURHO3D_OBJECT(eGraphics, Object)\u003c/p\u003e\n\u003cp\u003epublic:\u003cbr\u003e\neGraphics();\u003cbr\u003e\n~eGraphics();\u003c/p\u003e\n\u003cp\u003epublic:\u003cbr\u003e\nstatic void                 createContext();\u003cbr\u003e\nstatic void                 freeContext();\u003cbr\u003e\nstatic Context*           m_gcontext;             // Urho3D global context\u003cbr\u003e\n…\u003c/p\u003e\n\u003cp\u003evoid eGraphics::createContext()\u003cbr\u003e\n{\u003cbr\u003e\nassert(!m_gcontext);\u003cbr\u003e\nm_gcontext = new Context();\u003cbr\u003e\nassert(m_gcontext);\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003evoid eGraphics::freeContext()\u003cbr\u003e\n{\u003cbr\u003e\ndelete m_gcontext;\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003e[/code]\u003c/p\u003e\n\u003cp\u003eand in main :\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\nint main(int argc, char **argv)\n{\n   ...\n\n    // create urho3d context\n    eGraphics::createContext();\n\n    // init and run Qt\n    QApplication app(argc, argv);\n    eMainWnd mainWnd();\n    eDevice* device = new eDevice(eWF_VSYNC, eSize(300, 200), (void*)mainWnd.getRenderWidget()-\u0026gt;winId());\n    app.setActiveWindow(\u0026amp;mainWnd);\n    mainWnd.show();\n\n    // enter Qt event loop\n    int ret = app.exec();\n\n\n    // free Urho3D context\n    eGraphics::freeContext();\n\n    ---\u003c/code\u003e\u003c/pre\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:15:12.084Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":20,"readers_count":19,"score":9.0,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":394,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14435,"name":"","username":"amit.nath30","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/3da27b/{size}.png","created_at":"2016-11-12T13:32:42.000Z","cooked":"\u003cp\u003eNope, tried your way but still getting error.\u003c/p\u003e\n\u003cp\u003eno matter what i do keep getting error when trying to create an instance of Context. which version of urho3d you are using mine is 1.6\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://lh3.googleusercontent.com/wDj9nCFO_UzCC7_LIJfAv3kXnliPz3uiXGbIu3hnYYBDi02MiLoAVbmG5AWZH4CO7_WJdCfq94Qhwjs=w1920-h979\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:15:12.256Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":3.8,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":585,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14438,"name":"","username":"amit.nath30","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/3da27b/{size}.png","created_at":"2016-11-12T20:10:10.000Z","cooked":"\u003cp\u003eSwitch to visual studio 2015 edition of qt getting this error\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://lh3.googleusercontent.com/X3sNWYDFkm9_3Ja2Vt4BYcm0Z0Qkt430pkT6KGdMwQKkB2DPciPuUWMX3c0_SS4qNj1yH1TDXZtN-dg=w1920-h979\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"bbcode-b\"\u003e\u003ca class=\"mention\" href=\"/u/dakilla\"\u003e@dakilla\u003c/a\u003e\u003c/span\u003e can you share your qt .pro file please\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:15:12.460Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":585,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14445,"name":"","username":"dakilla","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","created_at":"2016-11-13T07:09:04.000Z","cooked":"\u003cp\u003eI use the current master branch on github, but haven’t had any problem in previous versions.\u003c/p\u003e\n\u003cp\u003ehere a minimalist sample (not tested on windows), don’t forget to put Data and CoreData in your build directory :\u003c/p\u003e\n\u003cp\u003eQUrhoWidget.h\u003c/p\u003e\n\u003cp\u003e[code]\u003cspan class=\"hashtag\"\u003e#ifndef\u003c/span\u003e QTWIDGET_H\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#define\u003c/span\u003e QTWIDGET_H\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Urho3DAll.h\u0026gt;\u003c/p\u003e\n\u003cp\u003eclass QUrhoWidget : public QWidget, public Urho3D::Object\u003cbr\u003e\n{\u003cbr\u003e\nQ_OBJECT\u003cbr\u003e\nURHO3D_OBJECT(QUrhoWidget, Object)\u003c/p\u003e\n\u003cp\u003eprivate:\u003cbr\u003e\nSharedPtr engine_;\u003cbr\u003e\nSharedPtr scene_;\u003cbr\u003e\nSharedPtr cameraNode_;\u003cbr\u003e\nint timerId;\u003c/p\u003e\n\u003cp\u003epublic:\u003cbr\u003e\nQUrhoWidget(Context* context);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003evoid timerEvent(QTimerEvent* e) override;\nvoid resizeEvent(QResizeEvent* e) override;\nvoid keyPressEvent(QKeyEvent* e) override;\n\nvoid Setup();\nvoid Start();\nvoid Stop();\n\nvoid HandleKeyDown(StringHash eventType, VariantMap\u0026amp; eventData);\nvoid HandleUpdate(StringHash eventType, VariantMap\u0026amp; eventData);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e};\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"hashtag\"\u003e#endif\u003c/span\u003e // QTWIDGET_H\u003cbr\u003e\n[/code]\u003c/p\u003e\n\u003cp\u003emain.cpp\u003c/p\u003e\n\u003cp\u003e[code]\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e “QUrhoWidget.h”\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;SDL/SDL.h\u0026gt;\u003c/p\u003e\n\u003cp\u003e//------------------------------------------------------------------------------------------------------\u003cbr\u003e\n// key utilities to convert Qt key to SDL key\u003cbr\u003e\n//------------------------------------------------------------------------------------------------------\u003cbr\u003e\nstatic QMap\u0026lt;Qt::Key, SDL_Keycode\u0026gt; __keymap;\u003cbr\u003e\nstatic void         __initKeyMap();\u003cbr\u003e\nstatic Uint16       __convertQtKeyModifierToSDL(Qt::KeyboardModifiers qtKeyModifiers);\u003cbr\u003e\nstatic SDL_Keycode  __convertQtKeyToSDL(Qt::Key qtKey);\u003c/p\u003e\n\u003cp\u003e//------------------------------------------------------------------------------------------------------\u003cbr\u003e\n// map keys Qt/SDL\u003cbr\u003e\n//------------------------------------------------------------------------------------------------------\u003cbr\u003e\nvoid __initKeyMap()\u003cbr\u003e\n{\u003cbr\u003e\n__keymap[Qt::Key_unknown]     = SDLK_UNKNOWN;\u003cbr\u003e\n__keymap[Qt::Key_Escape]      = SDLK_ESCAPE;\u003cbr\u003e\n__keymap[Qt::Key_Tab]         = SDLK_TAB;\u003cbr\u003e\n__keymap[Qt::Key_Backspace]   = SDLK_BACKSPACE;\u003cbr\u003e\n__keymap[Qt::Key_Return]      = SDLK_RETURN;\u003cbr\u003e\n__keymap[Qt::Key_Enter]       = SDLK_KP_ENTER;\u003cbr\u003e\n__keymap[Qt::Key_Insert]      = SDLK_INSERT;\u003cbr\u003e\n__keymap[Qt::Key_Delete]      = SDLK_DELETE;\u003cbr\u003e\n__keymap[Qt::Key_Pause]       = SDLK_PAUSE;\u003cbr\u003e\n__keymap[Qt::Key_Print]       = SDLK_PRINTSCREEN;\u003cbr\u003e\n__keymap[Qt::Key_SysReq]      = SDLK_SYSREQ;\u003cbr\u003e\n__keymap[Qt:]        = SDLK_HOME;\u003cbr\u003e\n__keymap[Qt::Key_End]         = SDLK_END;\u003cbr\u003e\n__keymap[Qt:]        = SDLK_LEFT;\u003cbr\u003e\n__keymap[Qt::Key_Right]       = SDLK_RIGHT;\u003cbr\u003e\n__keymap[Qt::Key_Up]          = SDLK_UP;\u003cbr\u003e\n__keymap[Qt:]        = SDLK_DOWN;\u003cbr\u003e\n__keymap[Qt::Key_PageUp]      = SDLK_PAGEUP;\u003cbr\u003e\n__keymap[Qt::Key_PageDown]    = SDLK_PAGEDOWN;\u003cbr\u003e\n__keymap[Qt::Key_Shift]       = SDLK_LSHIFT;\u003cbr\u003e\n__keymap[Qt::Key_Control]     = SDLK_LCTRL;\u003cbr\u003e\n__keymap[Qt::Key_Alt]         = SDLK_LALT;\u003cbr\u003e\n__keymap[Qt::Key_CapsLock]    = SDLK_CAPSLOCK;\u003cbr\u003e\n__keymap[Qt::Key_NumLock]     = SDLK_NUMLOCKCLEAR;\u003cbr\u003e\n__keymap[Qt::Key_ScrollLock]  = SDLK_SCROLLLOCK;\u003cbr\u003e\n__keymap[Qt::Key_F1]          = SDLK_F1;\u003cbr\u003e\n__keymap[Qt::Key_F2]          = SDLK_F2;\u003cbr\u003e\n__keymap[Qt::Key_F3]          = SDLK_F3;\u003cbr\u003e\n__keymap[Qt::Key_F4]          = SDLK_F4;\u003cbr\u003e\n__keymap[Qt::Key_F5]          = SDLK_F5;\u003cbr\u003e\n__keymap[Qt::Key_F6]          = SDLK_F6;\u003cbr\u003e\n__keymap[Qt::Key_F7]          = SDLK_F7;\u003cbr\u003e\n__keymap[Qt::Key_F8]          = SDLK_F8;\u003cbr\u003e\n__keymap[Qt::Key_F9]          = SDLK_F9;\u003cbr\u003e\n__keymap[Qt::Key_F10]         = SDLK_F10;\u003cbr\u003e\n__keymap[Qt::Key_F11]         = SDLK_F11;\u003cbr\u003e\n__keymap[Qt::Key_F12]         = SDLK_F12;\u003cbr\u003e\n__keymap[Qt::Key_F13]         = SDLK_F13;\u003cbr\u003e\n__keymap[Qt::Key_F14]         = SDLK_F14;\u003cbr\u003e\n__keymap[Qt::Key_F15]         = SDLK_F15;\u003cbr\u003e\n__keymap[Qt:]        = SDLK_MENU;\u003cbr\u003e\n__keymap[Qt:]        = SDLK_HELP;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// A-Z\nfor(int key='A'; key\u0026lt;='Z'; key++)\n    __keymap[Qt::Key(key)] = key + 32;\n\n// 0-9\nfor(int key='0'; key\u0026lt;='9'; key++)\n    __keymap[Qt::Key(key)] = key;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e//------------------------------------------------------------------------------------------------------\u003cbr\u003e\n// get SDL key from Qt key\u003cbr\u003e\n//------------------------------------------------------------------------------------------------------\u003cbr\u003e\nSDL_Keycode __convertQtKeyToSDL(Qt::Key qtKey)\u003cbr\u003e\n{\u003cbr\u003e\nSDL_Keycode sldKey = __keymap.value(Qt::Key(qtKey));\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eif(sldKey == 0)\n    printf(\"Warning: Key %d not mapped\", qtKey);\n\nreturn sldKey;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e//------------------------------------------------------------------------------------------------------\u003cbr\u003e\n// get SDL key modifier from Qt key modifier\u003cbr\u003e\n//------------------------------------------------------------------------------------------------------\u003cbr\u003e\nUint16 __convertQtKeyModifierToSDL(Qt::KeyboardModifiers qtKeyModifiers)\u003cbr\u003e\n{\u003cbr\u003e\nUint16 sdlModifiers = KMOD_NONE;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eif(qtKeyModifiers.testFlag(Qt::ShiftModifier))\n    sdlModifiers |= KMOD_LSHIFT | KMOD_RSHIFT;\nif(qtKeyModifiers.testFlag(Qt::ControlModifier))\n    sdlModifiers |= KMOD_LCTRL | KMOD_RCTRL;\nif(qtKeyModifiers.testFlag(Qt::AltModifier))\n    sdlModifiers |= KMOD_LALT | KMOD_RALT;\n\nreturn sdlModifiers;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e//------------------------------------------------------------------------------------------------------\u003cbr\u003e\n//------------------------------------------------------------------------------------------------------\u003c/p\u003e\n\u003cp\u003eQUrhoWidget::QUrhoWidget(Context* context) :\u003cbr\u003e\nUrho3D::Object(context),\u003cbr\u003e\nengine_(nullptr),\u003cbr\u003e\nscene_(nullptr)\u003cbr\u003e\n{\u003cbr\u003e\n// init key map Qt =\u0026gt; SDL\u003cbr\u003e\n__initKeyMap();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// start timer to refresh engine at each frame\ntimerId = startTimer(0);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid QUrhoWidget::timerEvent(QTimerEvent *e)\u003cbr\u003e\n{\u003cbr\u003e\nQWidget::timerEvent(e);\u003cbr\u003e\nQApplication::processEvents();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eengine_-\u0026gt;RunFrame();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid QUrhoWidget::resizeEvent(QResizeEvent* e)\u003cbr\u003e\n{\u003cbr\u003e\nQWidget::resizeEvent(e);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eif(engine_-\u0026gt;IsInitialized())\n{\n    int width = e-\u0026gt;size().width();\n    int height = e-\u0026gt;size().height();\n\n    Graphics* graphics = GetSubsystem\u0026lt;Graphics\u0026gt;();\n\n    SDL_Window * win = (SDL_Window*)graphics-\u0026gt;GetWindow();\n    SDL_SetWindowSize(win, width, height);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid QUrhoWidget::keyPressEvent(QKeyEvent* e)\u003cbr\u003e\n{\u003cbr\u003e\nQWidget::keyPressEvent(e);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// Transmit key press event to SDL\nSDL_Event sdlEvent;\nsdlEvent.type = SDL_KEYDOWN;\nsdlEvent.key.keysym.sym = __convertQtKeyToSDL( Qt::Key(e-\u0026gt;key()) );\nsdlEvent.key.keysym.mod = __convertQtKeyModifierToSDL(e-\u0026gt;modifiers());\nSDL_PushEvent(\u0026amp;sdlEvent);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid QUrhoWidget::Setup()\u003cbr\u003e\n{\u003cbr\u003e\nVariantMap engineParameters_;\u003cbr\u003e\nengineParameters_[“FullScreen”]=false;\u003cbr\u003e\nengineParameters_[“WindowWidth”]=1280;\u003cbr\u003e\nengineParameters_[“WindowHeight”]=720;\u003cbr\u003e\nengineParameters_[“WindowResizable”]=true;\u003cbr\u003e\nengineParameters_[“ExternalWindow”]=(void*)winId();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eengine_ = new Engine(context_);\nengine_-\u0026gt;Initialize(engineParameters_);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid QUrhoWidget::Start()\u003cbr\u003e\n{\u003cbr\u003e\nResourceCache* cache = GetSubsystem();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003escene_ = new Scene(context_);\nscene_-\u0026gt;CreateComponent\u0026lt;Octree\u0026gt;();\n\nNode* planeNode = scene_-\u0026gt;CreateChild(\"Plane\");\nplaneNode-\u0026gt;SetScale(Vector3(100.0f, 1.0f, 100.0f));\nStaticModel* planeObject = planeNode-\u0026gt;CreateComponent\u0026lt;StaticModel\u0026gt;();\nplaneObject-\u0026gt;SetModel(cache-\u0026gt;GetResource\u0026lt;Model\u0026gt;(\"Models/Plane.mdl\"));\nplaneObject-\u0026gt;SetMaterial(cache-\u0026gt;GetResource\u0026lt;Material\u0026gt;(\"Materials/StoneTiled.xml\"));\n\nNode* lightNode = scene_-\u0026gt;CreateChild(\"DirectionalLight\");\nlightNode-\u0026gt;SetDirection(Vector3(0.6f, -1.0f, 0.8f));\nLight* light = lightNode-\u0026gt;CreateComponent\u0026lt;Light\u0026gt;();\nlight-\u0026gt;SetLightType(LIGHT_DIRECTIONAL);\n\nconst unsigned NUM_OBJECTS = 25;\nfor (unsigned i = 0; i \u0026lt; NUM_OBJECTS; ++i)\n{\n    Node* mushroomNode = scene_-\u0026gt;CreateChild(\"Mushroom\");\n    mushroomNode-\u0026gt;SetPosition(Vector3(Random(90.0f) - 45.0f, 0.0f, Random(90.0f) - 45.0f));\n    mushroomNode-\u0026gt;SetRotation(Quaternion(0.0f, Random(360.0f), 0.0f));\n    mushroomNode-\u0026gt;SetScale(0.5f + Random(2.0f));\n    StaticModel* mushroomObject = mushroomNode-\u0026gt;CreateComponent\u0026lt;StaticModel\u0026gt;();\n    mushroomObject-\u0026gt;SetModel(cache-\u0026gt;GetResource\u0026lt;Model\u0026gt;(\"Models/Mushroom.mdl\"));\n    mushroomObject-\u0026gt;SetMaterial(cache-\u0026gt;GetResource\u0026lt;Material\u0026gt;(\"Materials/Mushroom.xml\"));\n}\n\ncameraNode_ = scene_-\u0026gt;CreateChild(\"Camera\");\nCamera* camera = cameraNode_-\u0026gt;CreateComponent\u0026lt;Camera\u0026gt;();\ncameraNode_-\u0026gt;SetPosition(Vector3(0.0f, 5.0f, 0.0f));\n\n\nRenderer* renderer = GetSubsystem\u0026lt;Renderer\u0026gt;();\nViewport* viewport = new Viewport(context_, scene_, camera);\nrenderer-\u0026gt;SetViewport(0, viewport);\n\nSubscribeToEvent(E_KEYDOWN, URHO3D_HANDLER(QUrhoWidget, HandleKeyDown));\nSubscribeToEvent(E_UPDATE, URHO3D_HANDLER(QUrhoWidget, HandleUpdate));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid QUrhoWidget::Stop()\u003cbr\u003e\n{\u003cbr\u003e\n// exit urho\u003cbr\u003e\nengine_-\u0026gt;Exit();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// close widget\nclose();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid QUrhoWidget::HandleUpdate(StringHash eventType, VariantMap\u0026amp; eventData)\u003cbr\u003e\n{\u003cbr\u003e\nusing namespace Update;\u003cbr\u003e\nfloat timeStep = eventData[“TimeStep”].GetFloat();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ecameraNode_-\u0026gt;Rotate(Quaternion(30.0f * timeStep, Vector3(0, 1, 0)));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid QUrhoWidget::HandleKeyDown(StringHash eventType, VariantMap\u0026amp; eventData)\u003cbr\u003e\n{\u003cbr\u003e\nusing namespace KeyDown;\u003cbr\u003e\nint key = eventData[P_KEY].GetInt();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eif (key == KEY_ESCAPE)\n{\n    Stop();\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003eint main(int argc, char *argv[])\u003cbr\u003e\n{\u003cbr\u003e\nint ret;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eQApplication app(argc, argv);\n\nUrho3D::Context* context = new Urho3D::Context();\n\nQUrhoWidget* urhoWidget = new QUrhoWidget(context);\nurhoWidget-\u0026gt;Setup();\nurhoWidget-\u0026gt;Start();\nurhoWidget-\u0026gt;resize(800,600);\nurhoWidget-\u0026gt;show();\n\nret =  app.exec();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003cbr\u003e\n[/code]\u003c/p\u003e\n\u003cp\u003eand .pro (linux only version sorry, for window just set rights win libs and urho path directory)\u003c/p\u003e\n\u003cp\u003e[code]URHO_HOME = /home/fred/Documents/Urho3D/BUILD\u003c/p\u003e\n\u003cp\u003eQT += core gui\u003c/p\u003e\n\u003cp\u003egreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\u003c/p\u003e\n\u003cp\u003eTARGET = QtUrho\u003cbr\u003e\nTEMPLATE = app\u003c/p\u003e\n\u003cp\u003eINCLUDEPATH += $${URHO_HOME}/include\u003cbr\u003e\nINCLUDEPATH += $${URHO_HOME}/include/Urho3D/ThirdParty\u003c/p\u003e\n\u003ch1\u003eEnv var pointing to builded Urho3D installation’s library\u003c/h1\u003e\n\u003cp\u003eLIBS += -L$${URHO_HOME}/lib\u003c/p\u003e\n\u003ch1\u003elink urho3d\u003c/h1\u003e\n\u003cp\u003eunix:!macx:LIBS += -lUrho3D\u003c/p\u003e\n\u003ch1\u003elink linux\u003c/h1\u003e\n\u003cp\u003eunix:!macx: LIBS +=   -lXi -ldl  -lpthread -lGL -lGLU -lX11\u003c/p\u003e\n\u003cp\u003eSOURCES += main.cpp\u003c/p\u003e\n\u003cp\u003eHEADERS  += \u003cbr\u003e\nQUrhoWidget.h\u003cbr\u003e\n[/code]\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:15:13.007Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":33,"reads":20,"readers_count":19,"score":169.0,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":394,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14483,"name":"","username":"amit.nath30","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/3da27b/{size}.png","created_at":"2016-11-16T17:34:57.000Z","cooked":"\u003cp\u003eSuccess at last  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"\u003e\u003cbr\u003e\ngoing through the forum I find out that I was missing some macro and library which is needed by Urho3d\u003cbr\u003e\nadding following flags and libs to .pro file solved the problem\u003c/p\u003e\n\u003cp\u003e[code]\u003cspan class=\"hashtag\"\u003e#Then\u003c/span\u003e these guys, every single one of them seems to be needed on Windows\u003cbr\u003e\nLIBS += -LC:/Qt/Qt5.7.0/Tools/mingw530_32/i686-w64-mingw32/lib/ -lkernel32\u003cbr\u003e\nLIBS += -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32\u003cbr\u003e\nLIBS += -ldbghelp -limm32 -lversion -lwinmm -lws2_32\u003c/p\u003e\n\u003cp\u003eQMAKE_CXXFLAGS += -DURHO3D_STATIC_DEFINE\u003cbr\u003e\nQMAKE_CXXFLAGS += -DWIN32[/code]\u003c/p\u003e\n\u003cp\u003eHope someone find it helpful\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:15:15.825Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":6,"reads":19,"readers_count":18,"score":33.8,"yours":false,"topic_id":2393,"topic_slug":"integration-with-qt5-7","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":585,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[14402,14416,14428,14432,14433,14435,14438,14445,14483]},"timeline_lookup":[[1,2203],[3,2202],[7,2201],[9,2197]],"suggested_topics":[{"id":7081,"title":"Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"","fancy_title":"Install Urho3D Library - Windows 10 - rake build - \u0026ldquo;project does not exist\u0026rdquo;","slug":"install-urho3d-library-windows-10-rake-build-project-does-not-exist","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-03T03:06:40.974Z","last_posted_at":"2021-12-03T17:53:10.844Z","bumped":true,"bumped_at":"2021-12-03T17:53:10.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":190,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]},{"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","slug":"view-physics-event-for-convexcast","posts_count":11,"reply_count":5,"highest_post_number":11,"image_url":null,"created_at":"2021-12-09T23:56:27.507Z","last_posted_at":"2021-12-12T20:20:02.788Z","bumped":true,"bumped_at":"2021-12-12T20:20:02.788Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":206,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7104,"title":"Bug in my partial-model copying code","fancy_title":"Bug in my partial-model copying code","slug":"bug-in-my-partial-model-copying-code","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5367e370779d64989e5c3ff2c1ebfb0689908c87.png","created_at":"2021-12-17T03:50:19.405Z","last_posted_at":"2021-12-17T13:50:49.662Z","bumped":true,"bumped_at":"2021-12-17T13:50:49.662Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}],"tags_descriptions":{},"id":2393,"title":"Integration with qt5.7","fancy_title":"Integration with qt5.7","posts_count":9,"created_at":"2016-11-10T20:08:19.000Z","views":883,"reply_count":0,"like_count":0,"last_posted_at":"2016-11-16T17:34:57.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"integration-with-qt5-7","category_id":10,"word_count":1526,"deleted_at":null,"user_id":585,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2393","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":9,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":585,"username":"amit.nath30","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/3da27b/{size}.png","post_count":5,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":394,"username":"dakilla","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":54,"username":"rasteron","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":585,"username":"amit.nath30","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/3da27b/{size}.png"},"last_poster":{"id":585,"username":"amit.nath30","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/3da27b/{size}.png"}}}