{"post_stream":{"posts":[{"id":43485,"name":null,"username":"PsychoCircuitry","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/a9a28c/{size}.png","created_at":"2021-09-12T17:08:30.805Z","cooked":"\u003cp\u003eHello, I have an instance where I‚Äôm trying to write a vector buffer into another vector buffer. I built Urho3D from latest master on 08/28/21\u003c/p\u003e\n\u003cp\u003eNow when attempting to write a buffer into another buffer, it always returns false.\u003c/p\u003e\n\u003cp\u003eI‚Äôve used Cadaver‚Äôs example from \u003ca href=\"https://discourse.urho3d.io/t/solved-serialize-deserialize-a-vectorbuffer-as/754\"\u003ethis\u003c/a\u003e post where the feature was added, and this also returns false.\u003c/p\u003e\n\u003cp\u003eSo I had an old build on my system still (sometime around 1.7.1 release) and this works as expected. Writing a buffer into a buffer returns true and the size is \u0026gt; 0.\u003c/p\u003e\n\u003cp\u003eAs example:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eVectorBuffer mainBuffer;\n\nVectorBuffer addThisBuffer;\naddThisBuffer.WriteString(\"TestData\");\n\nmainBuffer.WriteVectorBuffer(addThisBuffer);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis will return false with mainBuffer size of zero on latest master branch I‚Äôve built. However, works as expected on older versions.\u003c/p\u003e\n\u003cp\u003eI‚Äôm wondering if this is a local issue with my build, or if it is an issue with the actual latest master.\u003c/p\u003e\n\u003cp\u003eI have worked around this temporarily by casting the VectorBuffer I wish to add as a Variant data type, then writing this to the buffer. And this works.\u003c/p\u003e\n\u003cp\u003eExample:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003emainBuffer.WriteVariant(Variant(addThisBuffer));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis works on the latest build I have.\u003c/p\u003e\n\u003cp\u003eIs this a bug? A build issue I have? Or a conscious redesign of the VectorBuffer (at least as exposed to AngelScript)?\u003c/p\u003e\n\u003cp\u003eAny additional thoughts would be appreciated. And also a heads up if anyone else is attempting to do something similar.\u003c/p\u003e\n\u003cp\u003eThanks\u003cbr\u003e\n-PsychoCircuitry\u003c/p\u003e\n\u003cp\u003eEdit: if anyone else is running into this issue, I thought I‚Äôd clarify how to use the work around to retrieve the buffer objects since when you write them as Variant data type, you cant just use the ReadVectorBuffer(UInt) method.\u003c/p\u003e\n\u003cp\u003eFortunately the Variant container wraps the buffer with info about its size, so you dont have to worry about the size of the object when reconstructing, as the container itself adds additional size to the object(which could make it tricky).\u003c/p\u003e\n\u003cp\u003eIn the example above, I‚Äôd read the data back as:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003emainBuffer.Seek(0);\n\nVectorBuffer readAddThisBuffer = mainBuffer.ReadVariant().GetBuffer();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis seems to be working ok. I have no issues with the reconstructed buffer after this process.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2021-09-13T12:14:34.885Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":8,"reads":19,"readers_count":18,"score":58.8,"yours":false,"topic_id":6987,"topic_slug":"solved-angelscript-writevectorbuffer-issue","display_username":null,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":4,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/solved-serialize-deserialize-a-vectorbuffer-as/754","internal":true,"reflection":false,"title":"[SOLVED] Serialize/Deserialize a VectorBuffer [AS]","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1228,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43489,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2021-09-13T07:11:02.547Z","cooked":"\u003cp\u003eCan you test latest master?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-09-13T12:10:34.475Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":6987,"topic_slug":"solved-angelscript-writevectorbuffer-issue","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":43491,"name":null,"username":"PsychoCircuitry","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/a9a28c/{size}.png","created_at":"2021-09-13T12:11:12.954Z","cooked":"\u003cp\u003eFixed. Thanks for the quick fix on this, 1vanK. Fantastic!\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-09-13T12:11:12.954Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":6987,"topic_slug":"solved-angelscript-writevectorbuffer-issue","display_username":null,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1228,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[43485,43489,43491]},"timeline_lookup":[[1,436]],"suggested_topics":[{"id":7087,"title":"Android how to get error message sometimes little change gives me just crash","fancy_title":"Android how to get error message sometimes little change gives me just crash","slug":"android-how-to-get-error-message-sometimes-little-change-gives-me-just-crash","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-05T16:59:59.376Z","last_posted_at":"2021-12-05T18:17:02.335Z","bumped":true,"bumped_at":"2021-12-05T18:17:02.335Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":153,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1436,"username":"Maco","name":"Maco","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/90ced4/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7104,"title":"Bug in my partial-model copying code","fancy_title":"Bug in my partial-model copying code","slug":"bug-in-my-partial-model-copying-code","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5367e370779d64989e5c3ff2c1ebfb0689908c87.png","created_at":"2021-12-17T03:50:19.405Z","last_posted_at":"2021-12-17T13:50:49.662Z","bumped":true,"bumped_at":"2021-12-17T13:50:49.662Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7160,"title":"RayCast trouble","fancy_title":"RayCast trouble","slug":"raycast-trouble","posts_count":17,"reply_count":9,"highest_post_number":19,"image_url":null,"created_at":"2022-01-29T00:06:00.367Z","last_posted_at":"2022-01-30T00:29:39.356Z","bumped":true,"bumped_at":"2022-01-30T00:29:39.356Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":260,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7209,"title":"Need Compute Shader for Heightmap Normals Calculation","fancy_title":"Need Compute Shader for Heightmap Normals Calculation","slug":"need-compute-shader-for-heightmap-normals-calculation","posts_count":14,"reply_count":5,"highest_post_number":14,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/f/f3699392311fc006b02311f4ac539017ce2ba760.jpeg","created_at":"2022-02-26T04:46:13.776Z","last_posted_at":"2022-03-10T00:07:52.127Z","bumped":true,"bumped_at":"2022-03-10T00:07:52.127Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":410,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]}],"tags_descriptions":{},"id":6987,"title":"[Solved]AngelScript WriteVectorBuffer issue","fancy_title":"[Solved]AngelScript WriteVectorBuffer issue","posts_count":3,"created_at":"2021-09-12T17:08:30.739Z","views":202,"reply_count":0,"like_count":1,"last_posted_at":"2021-09-13T12:11:12.954Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"solved-angelscript-writevectorbuffer-issue","category_id":10,"word_count":384,"deleted_at":null,"user_id":1228,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6987","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":2,"username":"1vanK","excerpt":"Can you test latest master?"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1228,"username":"PsychoCircuitry","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/a9a28c/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":4}],"created_by":{"id":1228,"username":"PsychoCircuitry","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/a9a28c/{size}.png"},"last_poster":{"id":1228,"username":"PsychoCircuitry","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/a9a28c/{size}.png"}}}