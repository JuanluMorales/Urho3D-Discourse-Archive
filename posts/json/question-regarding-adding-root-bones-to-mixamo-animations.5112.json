{"post_stream":{"posts":[{"id":29469,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-04-20T05:51:02.259Z","cooked":"\u003cp\u003eI’ve recently been fighting an issue with respect to rootmotion (something I’d like to incorporate) : Mixamo animations don’t have a root bone, they apply translation directly to the skeleton root bone (ie the hips).\u003c/p\u003e\n\u003cp\u003eI’ve come up with a 14-point workflow (for Blender) for adding root bones to affected animations (ie those that contain root motion). It involves creating a new root bone for the hips, between the feet, which coincides with where we expect the model origin to be:) I appreciate that it would be astute to use the same root bone name on every affected animation. The workflow involves creating a new bone at (typically 0,0,0), adding translation keyframe channels to the new bone, copying the translation of the “previous” root bone (generally “Hips”) to the new bone, deleting the translation keyframes from previous root bone (except for the first key), and parenting the hips to the new root bone, while preserving offset. It’s exhausting!\u003c/p\u003e\n\u003cp\u003eMy question is in two parts - since I am changing the skeleton hierarchy, will I also need to re-export the Model? And secondly, will I need to perform these changes to all animations - even though some don’t need it - or will exported animations target the most appropriate root bone, even if some bones fail to be mentioned?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-04-20T05:59:12.325Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":748,"reads":33,"readers_count":32,"score":3746.6,"yours":false,"topic_id":5112,"topic_slug":"question-regarding-adding-root-bones-to-mixamo-animations","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29471,"name":"","username":"Lumak","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","created_at":"2019-04-20T15:49:04.570Z","cooked":"\u003cp\u003eHave you looked at rku’s work:\u003c/p\u003e\u003caside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"4464\"\u003e\n  \u003cdiv class=\"title\"\u003e\n    \u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n    \u003cimg loading=\"lazy\" alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/rku/40/3200_2.png\" class=\"avatar\"\u003e\n    \u003ca href=\"https://discourse.urho3d.io/t/root-motion-patch/4464\"\u003eRoot motion patch\u003c/a\u003e \u003ca class=\"badge-wrapper  bullet\" href=\"/c/showcase/code-exchange/13\"\u003e\u003cspan class=\"badge-category-parent-bg\" style=\"background-color: #F1592A;\"\u003e\u003c/span\u003e\u003cspan class=\"badge-category-bg\" style=\"background-color: #231F20;\"\u003e\u003c/span\u003e\u003cspan style=\"\" data-drop-close=\"true\" class=\"badge-category clear-badge\" title=\"Share your helpful Urho3D code snippets, samples and tutorials here.\"\u003eCode Exchange\u003c/span\u003e\u003c/a\u003e\n  \u003c/div\u003e\n  \u003cblockquote\u003e\n    I implemented root motion support in animations. Im not entirely sure of it’s correctness so be aware. Also i am not entirely happy with the API. Probably there is a better way to do it. This is why i am not submitting PR. \n[root-motion] \nEnable root motion: \nanimCtrl-\u0026gt;PlayExclusive(\"walk.ani\", 0, true, 0.3f);  // play animation\nanimCtrl-\u0026gt;SetRootMotionMode(\"walk.ani\", ANIM_ROOT_MOTION_XZ);  // enable root motion\n\nApply root motion: \nSubscribeToEvent(E_POSTRENDERUPDATE, [](StringHash, VariantMap\u0026amp;)…\n  \u003c/blockquote\u003e\n\u003c/aside\u003e\n","post_number":2,"post_type":1,"updated_at":"2019-04-20T15:49:04.570Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":30,"readers_count":29,"score":26.0,"yours":false,"topic_id":5112,"topic_slug":"question-regarding-adding-root-bones-to-mixamo-animations","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/root-motion-patch/4464","internal":true,"reflection":false,"title":"Root motion patch","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":256,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29472,"name":"","username":"rku","avatar_template":"/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png","created_at":"2019-04-20T16:51:25.165Z","cooked":"\u003cp\u003eWhy don’t you use hip bone as root bone?\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2019-04-20T16:51:25.165Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":27,"readers_count":26,"score":30.4,"yours":false,"topic_id":5112,"topic_slug":"question-regarding-adding-root-bones-to-mixamo-animations","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":246,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29476,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-04-21T02:14:01.259Z","cooked":"\u003cp\u003eI tried using hip as root bone, the problem with that is that the offset from the character root node to the hips is not constant (even a simple walk contains desirable translation keys on the hips) - and when (desired) root motions translate the hips, that translation is not transferred to the character root node. If I want to avoid adding a root bone that coincides with the character root node, I have to wait until after animation occurs, and then teleport the character root and physics capsule to synch them to the animated hips. Seems a lot simpler to fix the bad assets than try to deal with it in code.\u003c/p\u003e\n\u003cp\u003eAnd yeah, I saw the proposed root motion patch - but like the other guys, I need the final deltas, not the deltas per animationstate but the blended deltas. I tried measuring and applying hip deltas but the values are often tiny, and numerical precision errors quickly mount up.\u003c/p\u003e\n\u003cp\u003eJust adding (to animations, and to our rig) a root bone at the origin (0,0,0) and retargeting hip translation to the new root bone should make all my troubles go away, since I now have two nodes whose world positions should be equality-constrained - the character root node (direcly under the physics capsule) and the skeleton root bone can then easily be constrained to the same world position.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2019-04-21T02:20:23.772Z","reply_count":1,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":3,"reads":25,"readers_count":24,"score":25.0,"yours":false,"topic_id":5112,"topic_slug":"question-regarding-adding-root-bones-to-mixamo-animations","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"reply_to_user":{"username":"rku","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29516,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-04-26T08:49:51.452Z","cooked":"\u003cp\u003eI’ve experimented with using DrawableUpdateFinished (?) to measure delta-transforms on the Hips and apply (some of) those deltas to my character’s root node and physics hull, but the results are “unpleasant”. This was a bit of a fail for me.\u003cbr\u003e\nThe problem really is that my character has a RootBone, but my animations don’t get applied to it. For animations, the root bone is “Hips”, the Skeleton has a “RootBone” that never receives animation, and the real boss node, owner of my character controller, is not the node that applies default rotation and scale! I need to transfer animation from one track to another. AnimationController offers no way to do it. Doing it in code should have been trivial, but isn’t working. Sigh.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2019-04-26T08:49:51.452Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":6,"reads":16,"readers_count":15,"score":33.2,"yours":false,"topic_id":5112,"topic_slug":"question-regarding-adding-root-bones-to-mixamo-animations","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"reply_to_user":{"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[29469,29471,29472,29476,29516]},"timeline_lookup":[[1,1313],[3,1312],[5,1307]],"suggested_topics":[{"id":7204,"title":"How handle with multiple scenes?","fancy_title":"How handle with multiple scenes?","slug":"how-handle-with-multiple-scenes","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-02-23T16:15:02.697Z","last_posted_at":"2022-02-23T16:15:02.762Z","bumped":true,"bumped_at":"2022-02-23T16:15:02.762Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":131,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}}]},{"id":7176,"title":"Orthographic scene slowing down when zooming out","fancy_title":"Orthographic scene slowing down when zooming out","slug":"orthographic-scene-slowing-down-when-zooming-out","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-30T10:05:50.218Z","last_posted_at":"2022-01-30T10:05:50.294Z","bumped":true,"bumped_at":"2022-01-30T10:05:50.294Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":127,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1351,"username":"Haukinger","name":"Haukinger","avatar_template":"/user_avatar/discourse.urho3d.io/haukinger/{size}/3670_2.png"}}]},{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","slug":"view-physics-event-for-convexcast","posts_count":11,"reply_count":5,"highest_post_number":11,"image_url":null,"created_at":"2021-12-09T23:56:27.507Z","last_posted_at":"2021-12-12T20:20:02.788Z","bumped":true,"bumped_at":"2021-12-12T20:20:02.788Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":206,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7208,"title":"ScreenSpace Y - Inverted for View3D and RTT","fancy_title":"ScreenSpace Y - Inverted for View3D and RTT","slug":"screenspace-y-inverted-for-view3d-and-rtt","posts_count":14,"reply_count":11,"highest_post_number":15,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/506273b200a2f3337a69438a7989218d599e587b_2_823x1024.png","created_at":"2022-02-24T23:11:35.590Z","last_posted_at":"2022-03-09T12:27:07.577Z","bumped":true,"bumped_at":"2022-03-09T12:27:07.577Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":268,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1004,"username":"GoldenThumbs","name":"Golden Thumbs","avatar_template":"/user_avatar/discourse.urho3d.io/goldenthumbs/{size}/1669_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1335,"username":"justanotherdev","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/e8c25b/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":5112,"title":"Question regarding adding root bones to Mixamo animations","fancy_title":"Question regarding adding root bones to Mixamo animations","posts_count":5,"created_at":"2019-04-20T05:51:02.178Z","views":1745,"reply_count":2,"like_count":2,"last_posted_at":"2019-04-26T08:49:51.452Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"question-regarding-adding-root-bones-to-mixamo-animations","category_id":10,"word_count":607,"deleted_at":null,"user_id":1098,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_5112","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":246,"username":"rku","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":256,"username":"Lumak","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png"},"last_poster":{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png"}}}