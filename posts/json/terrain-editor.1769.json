{"post_stream": {"posts": [{"id": 10117, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-11T19:26:57.000Z", "cooked": "<p>What I had originally planned to create a simple terrain height map editor, something to just tweak the height, has now turned into a full terrain editor.<br>\nThis is my first attempt working with a terrain editor, and it turned out to be a fun project to work on.</p>\n<p>The original source code is listed below, but since then I\u2019ve added a lot more features and have included binary releases for Windows and Linux.<br>\n<span class=\"bbcode-b\">[size=150]Binary release[/size]</span> - <a href=\"https://drive.google.com/open?id=0B2Yd1AZoTDywX20wTVVzUF9wZzg\" data-bbcode=\"true\">TerrainEdit-V0.03.zip</a>.<br>\nUnzip it in your &lt;urho3d/project&gt;/bin folder.</p>\n<h2>\n<span class=\"bbcode-b\">[size=150]Features:[/size]</span> items in [color=#0000FF]blue[/color] are included in the binary release</h2>\n<p>[ul]<br>\n[li]Edit<br>\n[list]<br>\n[<em>] raise/lower[/li]<br>\n[li] smooth[/li]<br>\n[li] flatten[/li]<br>\n[li] set height[/li]<br>\n[li] edit terrain weights(color) map[/li]<br>\n[li] undo edit[/li]<br>\n[li] [color=#0000FF]add light noise[/color][/li]<br>\n[li] [color=#0000FF] add noise[/color][/li]<br>\n[li] [color=#0000FF] add erosion[/color][/li][/ul][/</em>:m][/list:u]<br>\n[color=#0000FF][ul] [li]Terraform<br>\n[list]<br>\n[<em>] minimal[/li]<br>\n[li] smooth[/li]<br>\n[li] rough[/li]<br>\n[li] very rough[/li]<br>\n[li] auto-paint height layers[/li][/ul][/</em>:m][/list:u]<br>\n[ul] [li] DDS texture support[/li][/ul]<br>\n[/color]---------------------------------------------</p>\n<p><span class=\"bbcode-b\"><strong>NOTE</strong></span> in the source code listed below the terrain paint feature paints the terrain weight image but you\u2019ll need to use PNG file or JPG. Detail images still can be dds files.<br>\nHere is the png file that I used <a href=\"http://wikisend.com/download/759326/TerrainWeights.png\" data-bbcode=\"true\">TerrainWeights.png</a>  The binary release has no limitations.</p>\n<p>[spoiler]<span class=\"bbcode-b\">TerrainEdit.cpp</span></p>\n<pre><code class=\"lang-auto\">//\n// Copyright (c) 2008-2015 the Urho3D project.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n//\n\n#include &lt;Urho3D/Urho3D.h&gt;\n\n#include &lt;Urho3D/Graphics/Camera.h&gt;\n#include &lt;Urho3D/Physics/CollisionShape.h&gt;\n#include &lt;Urho3D/Physics/Constraint.h&gt;\n#include &lt;Urho3D/Core/CoreEvents.h&gt;\n#include &lt;Urho3D/Engine/Engine.h&gt;\n#include &lt;Urho3D/IO/FileSystem.h&gt;\n#include &lt;Urho3D/UI/Font.h&gt;\n#include &lt;Urho3D/Input/Input.h&gt;\n#include &lt;Urho3D/Graphics/Light.h&gt;\n#include &lt;Urho3D/Graphics/Material.h&gt;\n#include &lt;Urho3D/Graphics/Model.h&gt;\n#include &lt;Urho3D/Graphics/Octree.h&gt;\n#include &lt;Urho3D/Physics/PhysicsWorld.h&gt;\n#include &lt;Urho3D/Core/ProcessUtils.h&gt;\n#include &lt;Urho3D/Graphics/Renderer.h&gt;\n#include &lt;Urho3D/Physics/RigidBody.h&gt;\n#include &lt;Urho3D/Resource/ResourceCache.h&gt;\n#include &lt;Urho3D/Scene/Scene.h&gt;\n#include &lt;Urho3D/Graphics/StaticModel.h&gt;\n#include &lt;Urho3D/Graphics/Terrain.h&gt;\n#include &lt;Urho3D/UI/Text.h&gt;\n#include &lt;Urho3D/UI/UI.h&gt;\n#include &lt;Urho3D/Graphics/Zone.h&gt;\n#include &lt;Urho3D/Graphics/DebugRenderer.h&gt;\n#include &lt;Urho3D/Graphics/TerrainPatch.h&gt;\n#include &lt;Urho3D/Graphics/Skybox.h&gt;\n#include &lt;Urho3D/UI/Slider.h&gt;\n#include &lt;Urho3D/UI/UIEvents.h&gt;\n#include &lt;Urho3D\\UI\\Window.h&gt;\n\n#include \"TerrainEdit.h\"\n\n#include &lt;Urho3D/DebugNew.h&gt;\n#include &lt;SDL/SDL_log.h&gt;\n\n//=============================================================================\n//=============================================================================\n\nDEFINE_APPLICATION_MAIN(TerrainEdit)\n//=============================================================================\n//=============================================================================\n// debug defines\n#define DBG_TERRAIN_POS         // realign the world position by calling InvWorldToHeightMap()\n//#define DBG_DRAW_PIX_LINES    // show pixel lines\n\n#define RAYCAST_DISTANCE             600.0f  // make this user adjustable or just set it to 1k?\n#define INCREMENTAL_VALUE            0.012f  // make this user adjustable\n#define INCREMENTAL_VALUE_SMOOTH     0.060f  // make this user adjustable\n#define INCREMENTAL_VALUE_PAINT      0.300f  // make this user adjustable\n#define DEFAULT_SCALER_VAL           0.100f\n\n#define PAINT_TIMER_RATE             100\n#define PAINT_UNDO_RATE              100\n#define DEBOUNCE_TIMER               200\n\n//=============================================================================\n//=============================================================================\nTerrainEdit::TerrainEdit(Context* context) :\n    Sample(context)\n{\n    // terrain\n    terrMode = kTerrainMode_Increase;\n    terrRadius = 10.0f;\n    terrMinSphSize = 2.0f;\n    terrMaxSphSize = 40.0f;\n\n    // terrain paint\n    colorMap_ = NULL;\n    m_iTerrPaintMode = kPaintWeight_Red;\n    \n    // history\n    historyInIdx = 0;\n    historyStartIdx = 0;\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::Setup()\n{\n    // Modify engine startup parameters\n    engineParameters_[\"WindowTitle\"]  = GetTypeName();\n    engineParameters_[\"LogName\"]      = GetSubsystem&lt;FileSystem&gt;()-&gt;GetAppPreferencesDir(\"urho3d\", \"logs\") + GetTypeName() + \".log\";\n    engineParameters_[\"FullScreen\"]   = false;\n    engineParameters_[\"Headless\"]     = false;\n    engineParameters_[\"WindowWidth\"]  = 1280; \n    engineParameters_[\"WindowHeight\"] = 720;\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::Start()\n{\n    // Execute base class startup\n    Sample::Start();\n\n    // Create static scene content\n    CreateScene();\n\n    // Create the UI content\n    CreateInstructions();\n\n    // Subscribe to necessary events\n    SubscribeToEvents();\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::CreateScene()\n{\n    ResourceCache* cache = GetSubsystem&lt;ResourceCache&gt;();\n\n    scene_ = new Scene(context_);\n\n    // Create scene subsystem components\n    dbgRenderer = scene_-&gt;CreateComponent&lt;DebugRenderer&gt;();\n    scene_-&gt;CreateComponent&lt;Octree&gt;();\n    scene_-&gt;CreateComponent&lt;PhysicsWorld&gt;();\n\tPhysicsWorld *pPhysicsWorld = scene_-&gt;GetComponent&lt;PhysicsWorld&gt;();\n    pPhysicsWorld-&gt;SetDebugRenderer( dbgRenderer );\n\n    // Create camera and define viewport. We will be doing load / save, so it's convenient to create the camera outside the scene,\n    // so that it won't be destroyed and recreated, and we don't have to redefine the viewport on load\n    cameraNode_ = new Node(context_);\n    Camera* camera = cameraNode_-&gt;CreateComponent&lt;Camera&gt;();\n    camera-&gt;SetFarClip(1000.0f);\n    GetSubsystem&lt;Renderer&gt;()-&gt;SetViewport(0, new Viewport(context_, scene_, camera));\n    \n    // Set an initial position for the camera scene node above the plane\n    cameraNode_-&gt;SetPosition(Vector3(0.0f, 30.0f, 0.0f));\n\n    // Create static scene content. First create a zone for ambient lighting and fog control\n    Node* zoneNode = scene_-&gt;CreateChild(\"Zone\");\n    Zone* zone = zoneNode-&gt;CreateComponent&lt;Zone&gt;();\n    zone-&gt;SetAmbientColor(Color(0.7f, 0.7f, 0.7f));\n    zone-&gt;SetFogColor(Color(0.8f, 0.8f, 0.8f));\n    zone-&gt;SetFogStart(800.0f);\n    zone-&gt;SetFogEnd(900.0f);\n    zone-&gt;SetBoundingBox(BoundingBox(-2000.0f, 2000.0f));\n\n    Node* skyNode = scene_-&gt;CreateChild(\"Sky\");\n    skyNode-&gt;SetScale(500.0f); // The scale actually does not matter\n    Skybox* skybox = skyNode-&gt;CreateComponent&lt;Skybox&gt;();\n    skybox-&gt;SetModel(cache-&gt;GetResource&lt;Model&gt;(\"Models/Box.mdl\"));\n    skybox-&gt;SetMaterial(cache-&gt;GetResource&lt;Material&gt;(\"Materials/Skybox.xml\"));\n\n    // Create a directional light with cascaded shadow mapping\n    Node* lightNode = scene_-&gt;CreateChild(\"DirectionalLight\");\n    lightNode-&gt;SetDirection(Vector3(0.1f, -0.1f, 0.825f));\n    Light* light = lightNode-&gt;CreateComponent&lt;Light&gt;();\n    light-&gt;SetLightType(LIGHT_DIRECTIONAL);\n\t//light-&gt;SetColor(Color(0.99f, 0.99f, 0.99f));\n    light-&gt;SetCastShadows(true);\n    light-&gt;SetShadowBias(BiasParameters(0.00025f, 0.5f));\n    light-&gt;SetShadowCascade(CascadeParameters(10.0f, 50.0f, 200.0f, 0.0f, 0.8f));\n    light-&gt;SetSpecularIntensity(0.1f);\n\n    // Create heightmap terrain with collision\n    // **dbg init patchSize_, spacing_, numPatches_, numVertices_, patchWorldSize_ and patchWorldOrigin_\n    patchSize_ = 32;\n    spacing_ = Vector3(2.0f, 0.6f, 2.0f);\n\n    terrainNode_ = scene_-&gt;CreateChild(\"Terrain\");\n    terrainNode_-&gt;SetPosition(Vector3::ZERO);\n    terrain_ = terrainNode_-&gt;CreateComponent&lt;Terrain&gt;();\n    terrain_-&gt;SetPatchSize( patchSize_ );\n    terrain_-&gt;SetSpacing( spacing_ ); // Spacing between vertices and vertical resolution of the height map\n    terrain_-&gt;SetSmoothing(true);\n    terrain_-&gt;SetHeightMap(cache-&gt;GetResource&lt;Image&gt;(\"Textures/HeightMap.png\"));\n    terrain_-&gt;SetMaterial(cache-&gt;GetResource&lt;Material&gt;(\"Materials/Terrain.xml\"));\n    terrain_-&gt;SetOccluder(true);\n\n    RigidBody* body = terrainNode_-&gt;CreateComponent&lt;RigidBody&gt;();\n    body-&gt;SetCollisionLayer(2); // Use layer bitmask 2 for static geometry\n    CollisionShape* shape = terrainNode_-&gt;CreateComponent&lt;CollisionShape&gt;();\n    shape-&gt;SetTerrain();\n\n    // **dbg - equations from Terrain.cpp\n    numPatches_ = IntVector2( (terrain_-&gt;GetHeightMap()-&gt;GetWidth() - 1) / patchSize_, (terrain_-&gt;GetHeightMap()-&gt;GetHeight() - 1) / patchSize_ );\n    numVertices_ = IntVector2( numPatches_.x_ * patchSize_ + 1, numPatches_.y_ * patchSize_ + 1 );\n    patchWorldSize_ = Vector2( spacing_.x_ * (float)patchSize_, spacing_.z_ * (float)patchSize_ );\n    patchWorldOrigin_ = Vector2( -0.5f * (float)numPatches_.x_ * patchWorldSize_.x_, -0.5f * (float)numPatches_.y_ *patchWorldSize_.y_ );\n\n    // gradient map\n    m_pImageGraient = cache-&gt;GetResource&lt;Image&gt;(\"Textures/Ramp.png\");\n\n    // terrain paint\n    Texture2D *pTextureTerrainWeight = (Texture2D*)terrain_-&gt;GetMaterial()-&gt;GetTexture( TU_DIFFUSE );\n    colorMap_ = new ColorMap( context_ );\n    colorMap_-&gt;SetSourceColorMap( pTextureTerrainWeight );\n\n    // slider\n    m_pSliderScaler = CreateSlider(300, 650, 400, 20, \"Scaler\");\n    m_pSliderScaler-&gt;SetValue( DEFAULT_SCALER_VAL );\n    m_pTextSliderVal-&gt;SetText( String( DEFAULT_SCALER_VAL ) );\n    scalerColor = Color( DEFAULT_SCALER_VAL, DEFAULT_SCALER_VAL, DEFAULT_SCALER_VAL );\n    SubscribeToEvent(m_pSliderScaler, E_SLIDERCHANGED, HANDLER(TerrainEdit, HandleSliderChanged));\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::CreateInstructions()\n{\n    ResourceCache* cache = GetSubsystem&lt;ResourceCache&gt;();\n    UI* ui = GetSubsystem&lt;UI&gt;();\n\n    // Create a Cursor UI element because we want to be able to hide and show it at will. When hidden, the mouse cursor will\n    // control the camera, and when visible, it will point the raycast target\n    XMLFile* style = cache-&gt;GetResource&lt;XMLFile&gt;(\"UI/DefaultStyle.xml\");\n    Font *fontAnonymous = cache-&gt;GetResource&lt;Font&gt;(\"Fonts/Anonymous Pro.ttf\");\n\n    SharedPtr&lt;Cursor&gt; cursor(new Cursor(context_));\n    cursor-&gt;SetStyleAuto(style);\n    ui-&gt;SetCursor(cursor);\n\n    // Construct new Text object, set string to display and font to use\n    Text* instructionText = ui-&gt;GetRoot()-&gt;CreateChild&lt;Text&gt;();\n    instructionText-&gt;SetText(\n        \"Edit Modes:\\n\"\n        \"F5/F6 - inc/dec sphere size\\n\"\n        \"F7  - elevate, lower, smooth,\\n\"\n        \"      flatten, set height\\n\"\n        \"F8  - paint (cycle rgb)\\n\"\n        \"F11 - save heightmap\\n\"\n        \"F12 - save colormap\\n\"\n        \"LMB - edit terrain\\n\"\n        \"Z   - undo edit\"\n    );\n    instructionText-&gt;SetFont( fontAnonymous, 15 );\n    // The text has multiple rows. Center them in relation to each other\n    instructionText-&gt;SetTextAlignment(HA_LEFT);\n\n    // Position the text relative to the screen center\n    instructionText-&gt;SetHorizontalAlignment(HA_LEFT);\n    instructionText-&gt;SetVerticalAlignment(VA_TOP);\n    instructionText-&gt;SetPosition(30, 450);\n\n    // terrain text\n    terrText = ui-&gt;GetRoot()-&gt;CreateChild&lt;Text&gt;();\n    terrText-&gt;SetFont( fontAnonymous, 18 );\n    terrText-&gt;SetHorizontalAlignment(HA_LEFT);\n    terrText-&gt;SetVerticalAlignment(VA_TOP);\n    terrText-&gt;SetPosition(30, 350);\n    terrText-&gt;SetColor( Color::CYAN );\n\n    terrRayText = ui-&gt;GetRoot()-&gt;CreateChild&lt;Text&gt;();\n    terrRayText-&gt;SetFont( fontAnonymous, 14 );\n    terrRayText-&gt;SetHorizontalAlignment(HA_LEFT);\n    terrRayText-&gt;SetVerticalAlignment(VA_TOP);\n    terrRayText-&gt;SetPosition(30, 410);\n    terrRayText-&gt;SetColor( Color::YELLOW );\n\n    // update text\n    UpdateTerrainSetText();\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::SubscribeToEvents()\n{\n    // Subscribe to Update event for setting the vehicle controls before physics simulation\n    SubscribeToEvent(E_UPDATE, HANDLER(TerrainEdit, HandleUpdate));\n\n    // Unsubscribe the SceneUpdate event from base class as the camera node is being controlled in HandlePostUpdate() in this sample\n    UnsubscribeFromEvent(E_SCENEUPDATE);\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::UpdateTerrMode()\n{\n    Input* input = GetSubsystem&lt;Input&gt;();\n\n    // sph radius\n    if ( input-&gt;GetKeyDown(KEY_F5 ) )\n    {\n        terrRadius += 0.1f;\n    }\n    if ( input-&gt;GetKeyDown(KEY_F6) )\n    {\n        terrRadius -= 0.1f;\n    }\n    terrRadius = Clamp( terrRadius, terrMinSphSize, terrMaxSphSize );\n\n    // cycle modes\n    if ( input-&gt;GetKeyPress(KEY_F7) )\n    {\n        if ( m_TimerDebounce.GetMSec( false ) &gt; DEBOUNCE_TIMER )\n        {\n            if ( ++terrMode &gt; kTerrainMode_SetHeight )\n            {\n                terrMode = kTerrainMode_Increase;\n            }\n\n            m_TimerDebounce.Reset();\n\n            // change desc\n            switch ( terrMode )\n            {\n            case kTerrainMode_Increase:\n            case kTerrainMode_Decrease:\n            case kTerrainMode_Smooth:\n                m_pTextSliderDesc-&gt;SetText( \"Scaler\" );\n                m_pSliderScaler-&gt;SetVisible( true );\n                break;\n\n            case kTerrainMode_Flatten:\n                m_pSliderScaler-&gt;SetVisible( false );\n                break;\n\n            case kTerrainMode_SetHeight:\n                m_pTextSliderDesc-&gt;SetText( \"Height\" );\n                m_pSliderScaler-&gt;SetVisible( true );\n                break;\n            }\n        }\n    }\n\n    // cycle paint color\n    if ( input-&gt;GetKeyPress( KEY_F8 ) )\n    {\n        if ( m_TimerDebounce.GetMSec( false ) &gt; DEBOUNCE_TIMER )\n        {\n            if ( terrMode != kTerrainMode_Paint )\n            {\n                terrMode = kTerrainMode_Paint;\n            }\n            else\n            {\n                ++m_iTerrPaintMode %= kPaintWeight_End;\n            }\n            m_pTextSliderDesc-&gt;SetText( \"Scaler\" );\n            m_pSliderScaler-&gt;SetVisible( true );\n\n            m_TimerDebounce.Reset();\n        }\n    }\n\n    // update text\n    UpdateTerrainSetText();\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::UpdateTerrainSetText()\n{\n    const char *terrModeDesc[ kTerrainMode_End ] = { \"elevate\", \"lower\", \"smooth\", \"flatten\", \"set height\", \"paint\" };\n\n    char rbuf[10];\n    sprintf( rbuf, \"%4.1f\", terrRadius );\n    String strTerr;\n\n    if ( terrMode == kTerrainMode_Paint )\n    {\n        const char *terrColorDesc[ kPaintWeight_End ] = { \"red\", \"green\", \"blue\" };\n        strTerr = \"mode: \" + String(terrModeDesc[terrMode]) + \", \"+ String( terrColorDesc[m_iTerrPaintMode] )+ \"\\nradius: \" + String(rbuf);\n    }\n    else\n    {\n        strTerr = \"mode: \" + String(terrModeDesc[terrMode]) + \"\\nradius: \" + String(rbuf);\n    }\n\n    terrText-&gt;SetText( strTerr );\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::EditTerrain()\n{\n    Vector3 hitPos;\n\n    if ( Raycast( RAYCAST_DISTANCE, hitPos ) )\n    {\n        // prevent unintentional fast over painting\n        if ( terrMode == kTerrainMode_Paint )\n        {\n            if ( m_TimerColorMap.GetMSec( false ) &lt; PAINT_TIMER_RATE )\n            {\n                return;\n            }\n\n            m_TimerColorMap.Reset();\n        }\n\n        if ( GetSubsystem&lt;Input&gt;()-&gt;GetMouseButtonDown( MOUSEB_LEFT ) )\n        {\n            Image *terrHeightMap = terrain_-&gt;GetHeightMap();\n            int terrModRadius = (int)terrRadius;\n\n            IntVector2 pixelPos = WorldToHeightMap( hitPos );\n            int startPosLeft = pixelPos.x_ - terrModRadius/2;\n            int startPosTop = pixelPos.y_ - terrModRadius/2;\n\n            Vector3 outerCir = Vector3( hitPos.x_ + terrRadius, hitPos.y_, hitPos.z_ + terrRadius );\n            IntVector2 deltaCir = pixelPos - WorldToHeightMap( outerCir );\n            float fCircleRadiusSq = (float)( deltaCir.x_*deltaCir.x_ + deltaCir.y_*deltaCir.y_ );\n            Color avgColor( Color::BLACK );\n            int iAvgCnt = 0;\n            float fScaler = scalerColor.Average();\n\n            #ifdef DBG_DRAW_PIX_LINES\n            m_vHtPos.Clear();\n            #endif\n\n            // history done flag\n            HistoryData histData;\n            histData.doneAndMode = kHistoryMask_Done | terrMode;\n            InsertHistData( histData );\n\n            // find avg for smooth mode and flatten\n            if ( ( terrMode == kTerrainMode_Flatten &amp;&amp; !bFlattenHeightSet ) || terrMode == kTerrainMode_Smooth )\n            {\n                for ( int y = 0; y &lt; 2*terrModRadius; ++y )\n                {\n                    for ( int x = 0; x &lt; 2*terrModRadius; ++x )\n                    {\n                        IntVector2 pos = IntVector2( x + startPosLeft, y + startPosTop );\n                        IntVector2 diff = pixelPos - pos;\n                        float fPixRadiusSq = (float)( diff.x_*diff.x_ + diff.y_*diff.y_ );\n\n                        if ( pos.x_ &lt; 0 || pos.y_ &lt; 0 || pos.x_ &gt;= terrHeightMap-&gt;GetWidth() || pos.y_ &gt;= terrHeightMap-&gt;GetHeight() )\n                        {\n                            continue;\n                        }\n\n                        if ( fPixRadiusSq &gt; fCircleRadiusSq )\n                        {\n                            continue;\n                        }\n\n                        avgColor += terrHeightMap-&gt;GetPixel( pos.x_, pos.y_ );\n                        iAvgCnt++;\n                    }\n                }\n                \n                if ( iAvgCnt )\n                {\n                    avgColor = avgColor * (1.0f / (float)iAvgCnt);\n                }\n\n                // flatten height\n                bFlattenHeightSet = true;\n                flattenColor = avgColor;\n            }\n\n            // modify\n            for ( int y = 0; y &lt; terrModRadius; ++y )\n            {\n                for ( int x = 0; x &lt; terrModRadius; ++x )\n                {\n                    IntVector2 pos = IntVector2( x + startPosLeft, y + startPosTop );\n                    IntVector2 diff = pixelPos - pos;\n                    float fPixRadiusSq = (float)( diff.x_*diff.x_ + diff.y_*diff.y_ );\n\n                    if ( pos.x_ &lt; 0 || pos.y_ &lt; 0 || pos.x_ &gt;= terrHeightMap-&gt;GetWidth() || pos.y_ &gt;= terrHeightMap-&gt;GetHeight() )\n                    {\n                        continue;\n                    }\n\n                    if ( fPixRadiusSq &gt; fCircleRadiusSq )\n                    {\n                        continue;\n                    }\n\n                    // move the point more towards where the gradient will be darker\n                    fPixRadiusSq += fCircleRadiusSq * 0.4f;\n                    if ( fPixRadiusSq &gt; fCircleRadiusSq )\n                    {\n                        fPixRadiusSq = fCircleRadiusSq;\n                    }\n\n                    #ifdef DBG_DRAW_PIX_LINES\n                    // **dbg show pix lines\n                    Vector3 vRpos = InvWorldToHeightMap( pos );\n                    m_vHtPos.Push( vRpos );\n                    #endif\n\n                    // get pix and gradient\n                    Color htColor = (terrMode!=kTerrainMode_Paint) ? terrHeightMap-&gt;GetPixel( pos.x_, pos.y_ ) : colorMap_-&gt;GetPixel( pos.x_, pos.y_ );\n                    int iGradPos = (int)( (float)(m_pImageGraient-&gt;GetWidth() - 1) * fPixRadiusSq/fCircleRadiusSq );\n                    Color grdColor = m_pImageGraient-&gt;GetPixel( iGradPos, 0 );\n\n                    // history pix\n                    HistoryData histData;\n                    histData.doneAndMode = terrMode;\n                    histData.pos = pos;\n                    histData.color = htColor;\n                    InsertHistData( histData );\n            \n                    // edit\n                    switch ( terrMode )\n                    {\n                    case kTerrainMode_Increase:\n                        htColor += grdColor * fScaler;\n                        break;\n\n                    case kTerrainMode_Decrease:\n                        htColor += grdColor * -fScaler;\n                        break;\n\n                    case kTerrainMode_Smooth:\n                        htColor += (avgColor - htColor) * grdColor.Average() * fScaler;\n                        break;\n\n                    case kTerrainMode_Flatten:\n                        htColor = flattenColor;\n                        break;\n\n                    case kTerrainMode_SetHeight:\n                        htColor = scalerColor;\n                        break;\n\n                    case kTerrainMode_Paint:\n                        {\n                            float fIncrAvg = grdColor.Average() * fScaler;\n\n                            // paint\n                            switch ( m_iTerrPaintMode )\n                            {\n                            case kPaintWeight_Red:\n                                htColor = htColor * ( 1.0f - fIncrAvg ) + Color::RED * fIncrAvg;\n                                break;\n\n                            case kPaintWeight_Green:\n                                htColor = htColor * ( 1.0f - fIncrAvg ) + Color::GREEN * fIncrAvg;\n                                break;\n\n                            case kPaintWeight_Blue:\n                                htColor = htColor * ( 1.0f - fIncrAvg ) + Color::BLUE * fIncrAvg;\n                                break;\n                            }\n                        }\n                        break;\n                    }\n            \n                    // update pix\n                    if ( terrMode != kTerrainMode_Paint )\n                    {\n                        terrHeightMap-&gt;SetPixel( pos.x_, pos.y_, htColor );\n                    }\n                    else\n                    {\n                        colorMap_-&gt;SetPixel( pos.x_, pos.y_, htColor );\n                    }\n                }\n            }\n\n            // refresh\n            if ( terrMode != kTerrainMode_Paint )\n            {\n                terrain_-&gt;ApplyHeightMap();\n            }\n            else\n            {\n                colorMap_-&gt;ApplyColorMap() ;\n            }\n        }\n        else\n        {\n            bFlattenHeightSet = false;\n        }\n    }\n}\n\n//=============================================================================\n// the same function in terrain.cpp has bugs -- this change was added to the head of master branch\n//=============================================================================\nIntVector2 TerrainEdit::WorldToHeightMap(const Vector3&amp; worldPosition) const\n{\n    if ( !terrainNode_ || !terrain_ )\n    {\n        return IntVector2::ZERO;\n    }\n\n    Vector3 position = terrainNode_-&gt;GetWorldTransform().Inverse() * worldPosition;\n    int xPos = (int)((position.x_ - patchWorldOrigin_.x_) / spacing_.x_ + 0.5f);\n    int zPos = (int)((position.z_ - patchWorldOrigin_.y_) / spacing_.z_ + 0.5f);\n    xPos = Clamp(xPos, 0, numVertices_.x_ - 1);\n    zPos = Clamp(zPos, 0, numVertices_.y_ - 1);\n\n    return IntVector2(xPos, numVertices_.y_ - 1 - zPos);\n}\n\n//=============================================================================\n// reverse function of the WorldToHeightMap()\n//=============================================================================\nVector3 TerrainEdit::InvWorldToHeightMap(const IntVector2&amp; pixelPosition) const\n{\n    if ( !terrainNode_ || !terrain_ )\n    {\n        return Vector3::ZERO;\n    }\n\n    IntVector2 v2pos( pixelPosition.x_, numVertices_.y_ - 1 - pixelPosition.y_ );\n    float xPos = (float)(v2pos.x_ * spacing_.x_ + patchWorldOrigin_.x_);\n    float zPos = (float)(v2pos.y_ * spacing_.z_ + patchWorldOrigin_.y_);\n    Vector3 Lpos( xPos, 0, zPos );\n    Vector3 WPos = terrainNode_-&gt;GetWorldTransform() * Lpos;\n    WPos.y_ = terrain_-&gt;GetHeight( WPos );\n\n    return WPos;\n}\n\n//=============================================================================\n//=============================================================================\nbool TerrainEdit::Raycast(float maxDistance, Vector3&amp; hitPos)\n{\n    UI* ui = GetSubsystem&lt;UI&gt;();\n    Graphics* graphics = GetSubsystem&lt;Graphics&gt;();\n    IntVector2 pos = ui-&gt;GetCursorPosition();\n\n    // Check the cursor is visible and there is no UI element in front of the cursor\n    if ( !ui-&gt;GetCursor()-&gt;IsVisible() || ui-&gt;GetElementAt(pos, true) )\n    {\n        return false;\n    }\n    \n    Camera* camera = cameraNode_-&gt;GetComponent&lt;Camera&gt;();\n    Ray cameraRay = camera-&gt;GetScreenRay((float)pos.x_ / graphics-&gt;GetWidth(), (float)pos.y_ / graphics-&gt;GetHeight());\n    // Pick only geometry objects, not eg. zones or lights, only get the first (closest) hit\n    PODVector&lt;RayQueryResult&gt; results;\n    RayOctreeQuery query(results, cameraRay, RAY_TRIANGLE, maxDistance, DRAWABLE_GEOMETRY);\n    scene_-&gt;GetComponent&lt;Octree&gt;()-&gt;RaycastSingle(query);\n\n    if ( results.Size() )\n    {\n        RayQueryResult&amp; result = results[0];\n\n        if ( result.drawable_-&gt;GetType() != TerrainPatch::GetTypeStatic() )\n        {\n            return false;\n        }\n\n        hitPos = result.position_;\n\n        #ifdef DBG_TERRAIN_POS\n        //** WorldToHeightMap() func returns a pixel position that is pixel aligned, which means it's not exactly the world \n        // position that we give it, so we're going to convert the pixel pos back to world position and use that as the hitPos\n        IntVector2 pixelPos = WorldToHeightMap( hitPos );\n        hitPos = InvWorldToHeightMap( pixelPos );\n        terrRayText-&gt;SetText( \"Pix Pos:\" + String( pixelPos.x_ ) + \",\" + String( pixelPos.y_ ) );\n        #endif\n\n        #ifdef DBG_DRAW_PIX_LINES\n        // **dbg render pix lines\n        for ( unsigned i = 0; i &lt; m_vHtPos.Size(); ++i )\n        {\n            dbgRenderer-&gt;AddLine( m_vHtPos[ i ], m_vHtPos[ i ] + Vector3::UP * 2.0f, Color::BLUE );\n        }\n        #endif\n\n        dbgRenderer-&gt;AddLine( result.position_, result.position_ + Vector3::UP * 2.0f, Color::BLACK );\n        dbgRenderer-&gt;AddLine( hitPos, hitPos + Vector3::UP * 2.0f, Color::RED );\n        Sphere sph( hitPos, terrRadius );\n        dbgRenderer-&gt;AddSphere( sph, Color::GREEN );\n    }\n    \n    return ( results.Size() &gt; 0 );\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::HandleUpdate(StringHash eventType, VariantMap&amp; eventData)\n{\n    using namespace Update;\n\n    Input *input = GetSubsystem&lt;Input&gt;();\n    UI *ui = GetSubsystem&lt;UI&gt;();\n\n    // exit if the UI has a focused element (the console)\n    if ( ui-&gt;GetFocusElement() )\n    {\n        return;\n    }\n\n    // mouse\n    MouseMove( eventData[P_TIMESTEP].GetFloat() );\n\n    // history\n    if ( input-&gt;GetKeyDown( 'Z' ) )\n    {\n        UndoHistory();\n    }\n    else\n    {\n        // update terrain\n        UpdateTerrMode();\n\n        EditTerrain();\n\n        if ( input-&gt;GetKeyDown( KEY_F11 ) )\n        {\n            SaveHeightMapImage();\n        }\n\n        if ( input-&gt;GetKeyDown( KEY_F12 ) )\n        {\n            SaveColorMapImage();\n        }\n    }\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::SaveHeightMapImage()\n{\n    if ( terrain_ &amp;&amp; terrain_-&gt;GetHeightMap() )\n    {\n        String filename = GetSubsystem&lt;FileSystem&gt;()-&gt;GetProgramDir() + \"Data/Textures/HeightMapNew01.png\";\n        terrain_-&gt;GetHeightMap()-&gt;SavePNG( filename );\n    }\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::SaveColorMapImage()\n{\n    if ( colorMap_ )\n    {\n        String filename = GetSubsystem&lt;FileSystem&gt;()-&gt;GetProgramDir() + \"Data/Textures/TerrainColorMap01.png\";\n        colorMap_-&gt;SavePNG( filename );\n    }\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::InsertHistData(HistoryData &amp;histData)\n{\n    historyBuf[ historyInIdx ] = histData;\n\n    ++historyInIdx %= kHistoryBufSize;\n\n    // move the starting idx forward if the in-ptr has completely wrapped\n    if ( historyInIdx == historyStartIdx )\n    {\n        ++historyStartIdx %= kHistoryBufSize;\n\n        // set the terminator flag\n        historyBuf[ historyStartIdx ].doneAndMode |= kHistoryMask_Done;\n    }\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::UndoHistory()\n{\n    if ( historyStartIdx != historyInIdx )\n    {\n        // control paint undo rate - allow a chance to single step\n        if ( m_TimerPaintUndoRate.GetMSec( false ) &lt; PAINT_UNDO_RATE )\n        {\n            return;\n        }\n\n        if ( --historyInIdx &lt; 0 )\n        {\n            historyInIdx = kHistoryBufSize - 1;\n        }\n\n        // the pattern here is pix, ..., pix, done flag, where a done flag marks a single undo\n        while ( !( historyBuf[ historyInIdx ].doneAndMode &amp; kHistoryMask_Done ) )\n        {\n            if ( (historyBuf[ historyInIdx ].doneAndMode &amp; kHistoryMask_Mode) != kTerrainMode_Paint)\n            {\n                terrain_-&gt;GetHeightMap()-&gt;SetPixel( historyBuf[ historyInIdx ].pos.x_,\n                                                    historyBuf[ historyInIdx ].pos.y_, \n                                                    historyBuf[ historyInIdx ].color );\n            }\n            else\n            {\n                colorMap_-&gt;SetPixel( historyBuf[ historyInIdx ].pos.x_, \n                                     historyBuf[ historyInIdx ].pos.y_,\n                                     historyBuf[ historyInIdx ].color );\n            }\n\n            if ( --historyInIdx &lt; 0 )\n            {\n                historyInIdx = kHistoryBufSize - 1;\n            }\n        }\n\n        // refresh\n        if ( (historyBuf[ historyInIdx ].doneAndMode &amp; kHistoryMask_Mode) != kTerrainMode_Paint)\n        {\n            terrain_-&gt;ApplyHeightMap();\n        }\n        else\n        {\n            colorMap_-&gt;ApplyColorMap();\n\n            // reset undo timer\n            m_TimerPaintUndoRate.Reset();\n        }\n    }\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::MouseMove(float timeStep)\n{\n    // Right mouse button controls mouse cursor visibility: hide when pressed\n    UI* ui = GetSubsystem&lt;UI&gt;();\n    Input* input = GetSubsystem&lt;Input&gt;();\n    ui-&gt;GetCursor()-&gt;SetVisible(!input-&gt;GetMouseButtonDown(MOUSEB_RIGHT));\n\n    // Movement speed as world units per second\n    const float MOVE_SPEED = 80.0f;\n    // Mouse sensitivity as degrees per pixel\n    const float MOUSE_SENSITIVITY = 0.1f;\n\n    // Use this frame's mouse motion to adjust camera node yaw and pitch. Clamp the pitch between -90 and 90 degrees\n    // Only move the camera when the cursor is hidden\n    if (!ui-&gt;GetCursor()-&gt;IsVisible())\n    {\n        IntVector2 mouseMove = input-&gt;GetMouseMove();\n        yaw_ += MOUSE_SENSITIVITY * mouseMove.x_;\n        pitch_ += MOUSE_SENSITIVITY * mouseMove.y_;\n        pitch_ = Clamp(pitch_, -90.0f, 90.0f);\n\n        // Construct new orientation for the camera scene node from yaw and pitch. Roll is fixed to zero\n        cameraNode_-&gt;SetRotation(Quaternion(pitch_, yaw_, 0.0f));\n    }\n\n    // Read WASD keys and move the camera scene node to the corresponding direction if they are pressed\n    if (input-&gt;GetKeyDown('W'))\n        cameraNode_-&gt;Translate(Vector3::FORWARD * MOVE_SPEED * timeStep);\n    if (input-&gt;GetKeyDown('S'))\n        cameraNode_-&gt;Translate(Vector3::BACK * MOVE_SPEED * timeStep);\n    if (input-&gt;GetKeyDown('A'))\n        cameraNode_-&gt;Translate(Vector3::LEFT * MOVE_SPEED * timeStep);\n    if (input-&gt;GetKeyDown('D'))\n        cameraNode_-&gt;Translate(Vector3::RIGHT * MOVE_SPEED * timeStep);\n}\n\n//=============================================================================\n//=============================================================================\nSlider* TerrainEdit::CreateSlider(int x, int y, int xSize, int ySize, const String&amp; text)\n{\n    UIElement* root = GetSubsystem&lt;UI&gt;()-&gt;GetRoot();\n    ResourceCache* cache = GetSubsystem&lt;ResourceCache&gt;();\n    Font* font = cache-&gt;GetResource&lt;Font&gt;(\"Fonts/Anonymous Pro.ttf\");\n    root-&gt;SetDefaultStyle( cache-&gt;GetResource&lt;XMLFile&gt;(\"UI/DefaultStyle.xml\") );\n\n    // add a transparent window around the slider to expand the \n    // ui focus area and minimize accidental terrain editing\n    Window *pWin = root-&gt;CreateChild&lt;Window&gt;();\n    root-&gt;AddChild( pWin );\n    pWin-&gt;SetPosition( x - 20, y - 40 );\n    pWin-&gt;SetSize( xSize+40, ySize+80 );\n    pWin-&gt;SetColor( Color( 1, 1, 1, 0) );\n\n    Slider* slider = pWin-&gt;CreateChild&lt;Slider&gt;();\n    slider-&gt;SetStyleAuto();\n    slider-&gt;SetPosition( 20, 50);\n    slider-&gt;SetSize(xSize, ySize);\n    slider-&gt;SetRange( 1.0f );\n \n    m_pTextSliderDesc = slider-&gt;CreateChild&lt;Text&gt;();\n    m_pTextSliderDesc-&gt;SetPosition( 0, -20 );\n    m_pTextSliderDesc-&gt;SetFont(font, 12);\n    m_pTextSliderDesc-&gt;SetText(text);\n    m_pTextSliderDesc-&gt;SetColor(Color::YELLOW);\n    \n    m_pTextSliderVal = slider-&gt;CreateChild&lt;Text&gt;();\n    m_pTextSliderVal-&gt;SetPosition( xSize/2, 20 );\n    m_pTextSliderVal-&gt;SetFont(font, 12);\n    m_pTextSliderVal-&gt;SetText( \"0.5\" );\n    m_pTextSliderVal-&gt;SetColor(Color::YELLOW);\n    \n    return slider;\n}\n\n//=============================================================================\n//=============================================================================\nvoid TerrainEdit::HandleSliderChanged(StringHash eventType, VariantMap&amp; eventData)\n{\n    using namespace SliderChanged;\n    \n    float fVal = eventData[P_VALUE].GetFloat();\n    fVal = Clamp( fVal, 0.0f, 1.0f );\n    scalerColor = Color( fVal, fVal, fVal );\n\n    char buf[10];\n    sprintf( buf, \"%5.3f\", fVal );\n    m_pTextSliderVal-&gt;SetText( String( buf ) );\n}\n\n//=============================================================================\n//=============================================================================\nvoid ColorMap::SetSourceColorMap(Texture2D *_pTexture2DSource)\n{\n    ResourceCache* cache = GetSubsystem&lt;ResourceCache&gt;();\n    SharedPtr&lt;Image&gt; imageSource;\n\n    m_pTexture2DSource = _pTexture2DSource;\n    imageSource = cache-&gt;GetResource&lt;Image&gt;( m_pTexture2DSource-&gt;GetName() );\n\n    SetSize( imageSource-&gt;GetWidth(), imageSource-&gt;GetHeight(), imageSource-&gt;GetDepth(), imageSource-&gt;GetComponents() );\n    SetData( imageSource-&gt;GetData() );\n}\n\n//=============================================================================\n//=============================================================================\nvoid ColorMap::ApplyColorMap()\n{\n    if ( m_pTexture2DSource )\n    {\n        m_pTexture2DSource-&gt;SetData( 0, 0, 0, GetWidth(), GetHeight(), GetData() );\n    }\n}\n\n\n</code></pre>\n<p><span class=\"bbcode-b\">TerranEdit.h</span></p>\n<p>[code]<br>\n//<br>\n// Copyright \u00a9 2008-2015 the Urho3D project.<br>\n//<br>\n// Permission is hereby granted, free of charge, to any person obtaining a copy<br>\n// of this software and associated documentation files (the \u201cSoftware\u201d), to deal<br>\n// in the Software without restriction, including without limitation the rights<br>\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell<br>\n// copies of the Software, and to permit persons to whom the Software is<br>\n// furnished to do so, subject to the following conditions:<br>\n//<br>\n// The above copyright notice and this permission notice shall be included in<br>\n// all copies or substantial portions of the Software.<br>\n//<br>\n// THE SOFTWARE IS PROVIDED \u201cAS IS\u201d, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE<br>\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,<br>\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN<br>\n// THE SOFTWARE.<br>\n//</p>\n<p><span class=\"hashtag\">#pragma</span> once</p>\n<p><span class=\"hashtag\">#include</span> \u201cSample.h\u201d</p>\n<p>namespace Urho3D<br>\n{</p>\n<p>class Node;<br>\nclass Scene;</p>\n<p>}<br>\n//=============================================================================<br>\n//=============================================================================<br>\nclass ColorMap : public Image<br>\n{<br>\nOBJECT(ColorMap);</p>\n<p>public:<br>\nColorMap(Context *_pContext)<br>\n: Image( _pContext )<br>\n, m_pTexture2DSource( NULL )<br>\n{<br>\n}</p>\n<pre><code>virtual ~ColorMap()\n{\n    m_pTexture2DSource = NULL;\n}\n\nvoid SetSourceColorMap(Texture2D *_pTexture2DOrigin);\nvoid ApplyColorMap();\n</code></pre>\n<p>protected:<br>\nSharedPtr m_pTexture2DSource;<br>\n};</p>\n<p>//=============================================================================<br>\n//=============================================================================<br>\nclass TerrainEdit : public Sample<br>\n{<br>\nOBJECT(TerrainEdit);</p>\n<pre><code>enum TerrainMode\n{\n    kTerrainMode_Increase,\n    kTerrainMode_Decrease,\n    kTerrainMode_Smooth,\n    kTerrainMode_Flatten,\n    kTerrainMode_SetHeight,\n    kTerrainMode_Paint,\n    kTerrainMode_End,\n};\n\nenum PaintWeight\n{\n    kPaintWeight_Red,\n    kPaintWeight_Green,\n    kPaintWeight_Blue,\n    kPaintWeight_End,\n};\n\nenum HistorySize\n{\n    kHistoryBufSize = 200000 // this seems huge but it's not when the sphere radius is at max\n};\n\nenum HistoryMasks\n{\n    kHistoryMask_Mode = 0xf,\n    kHistoryMask_Done = 0x80000000,\n};\n\nstruct HistoryData\n{\n    HistoryData() : doneAndMode( 0 ){}\n    \n    unsigned int doneAndMode;\n    IntVector2   pos;\n    Color        color;\n};\n</code></pre>\n<p>public:<br>\n/// Construct.<br>\nTerrainEdit(Context* context);<br>\nvirtual ~TerrainEdit()<br>\n{<br>\nif ( colorMap_ )<br>\n{<br>\ndelete colorMap_;<br>\ncolorMap_ = NULL;<br>\n}<br>\n}</p>\n<pre><code>/// Setup after engine initialization and before running the main loop.\nvirtual void Setup();\nvirtual void Start();\n</code></pre>\n<p>private:<br>\n/// Create static scene content.<br>\nvoid CreateScene();<br>\n/// Construct an instruction text to the UI.<br>\nvoid CreateInstructions();<br>\n/// Subscribe to necessary events.<br>\nvoid SubscribeToEvents();<br>\n/// Handle application update.<br>\nvoid HandleUpdate(StringHash eventType, VariantMap&amp; eventData);</p>\n<pre><code>void EditTerrain();\nvoid UpdateTerrMode();\nvoid UpdateTerrainSetText();\nIntVector2 WorldToHeightMap(const Vector3&amp; worldPosition) const;\nVector3 InvWorldToHeightMap(const IntVector2&amp; pixelPosition) const;\nbool Raycast(float maxDistance, Vector3&amp; hitPos);\nvoid SaveHeightMapImage();\nvoid SaveColorMapImage();\nvoid InsertHistData(HistoryData &amp;histData);\nvoid UndoHistory();\nvoid MouseMove(float timeStep);\n\nSlider* CreateSlider(int x, int y, int xSize, int ySize, const String&amp; text);\nvoid HandleSliderChanged(StringHash eventType, VariantMap&amp; eventData);\n</code></pre>\n<p>private:<br>\nDebugRenderer *dbgRenderer;</p>\n<pre><code>// terrain\nSharedPtr&lt;Terrain&gt; terrain_;\nfloat       terrRadius;\nint         terrMode;\n\nText        *terrText;\nfloat       terrMinSphSize;\nfloat       terrMaxSphSize;\n\nSharedPtr&lt;Image&gt; m_pImageGraient;\n\n// dbg - same vars from terrain.cpp/.h\nSharedPtr&lt;Node&gt; terrainNode_;\nint patchSize_;\nVector3 spacing_;\nIntVector2 numPatches_;\nIntVector2 numVertices_;\nVector2 patchWorldSize_;\nVector2 patchWorldOrigin_;\n\nVector&lt;Vector3&gt; m_vHtPos;\nText        *terrRayText;\n\n// paint texture\nColorMap        *colorMap_;\nint             m_iTerrPaintMode;\n\n// timers\nTimer           m_TimerColorMap;\nTimer           m_TimerDebounce;\nTimer           m_TimerPaintUndoRate;\n\n// history - using a circular FILO with a moving start idx\nHistoryData historyBuf[ kHistoryBufSize ]; // 28 bytes * 200k = 5.34 MB, radius of 40 will push 1600 hist data each iteration \n                                           // and thus results in -&gt; 200k buffer / 1601 hist data = 125 iterations \n                                           // minimum undo cnt = 125 at radius of 40\n                                           // maximum undo cnt = 40k at radius of 2\nint historyStartIdx;\nint historyInIdx;\n\n// slider\nSharedPtr&lt;Slider&gt; m_pSliderScaler;\nSharedPtr&lt;Text&gt;   m_pTextSliderDesc;\nSharedPtr&lt;Text&gt;   m_pTextSliderVal;\n\nColor       scalerColor;\nColor       flattenColor;\nbool        bFlattenHeightSet;\n</code></pre>\n<p>};</p>\n<p>[/code][/spoiler]</p>\n<p>Video<br>\n[video]<a href=\"https://www.youtube.com/watch?v=1yCcTjSnaG4%5B/video%5D\">https://www.youtube.com/watch?v=1yCcTjSnaG4[/video]</a></p>\n<p>Edit: June 3, 2016 - added a googledrive link for binary release.</p>", "post_number": 1, "post_type": 1, "updated_at": "2017-01-02T01:09:59.779Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 123, "reads": 43, "readers_count": 42, "score": 625.6, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://drive.google.com/open?id=0B2Yd1AZoTDywX20wTVVzUF9wZzg", "internal": false, "reflection": false, "title": "TerrainEdit-V0.03.zip - Google Drive", "clicks": 46}, {"url": "http://wikisend.com/download/759326/TerrainWeights.png", "internal": false, "reflection": false, "title": "TerrainWeights.png", "clicks": 20}, {"url": "https://www.youtube.com/watch?v=1yCcTjSnaG4%5B/video%5D", "internal": false, "reflection": false, "title": "YouTube", "clicks": 16}, {"url": "http://discourse.urho3d.io/t/terrain-heigthdata-dimensions/1843/7", "internal": true, "reflection": true, "title": "Terrain Heigthdata dimensions", "clicks": 1}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10120, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-12T03:06:40.000Z", "cooked": "<p>Changed the code a bit and added gradient using Ramp.png.  I think it works better, maybe.</p>", "post_number": 2, "post_type": 1, "updated_at": "2017-01-02T01:10:00.118Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 33, "readers_count": 32, "score": 6.6, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10128, "name": "", "username": "esak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/e/7ea924/{size}.png", "created_at": "2016-02-12T15:09:33.000Z", "cooked": "<p>Very nice!  <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>\n<p>I think this should be added to the official Urho3D samples.</p>\n<p>Are you going to work with painting the terrain also? With this addition I think this is a very useful tool.</p>", "post_number": 3, "post_type": 1, "updated_at": "2017-01-02T01:10:00.884Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 34, "readers_count": 33, "score": 6.8, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 223, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10134, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-12T19:11:43.000Z", "cooked": "<p>I will be adding the texture paint feature. Not sure when, though.</p>\n<p>I think this implementation works okay, but I have nothing to compare it to.<br>\nThere should be a minor adjustment that should be made is in the smoothing section, where:</p>\n<pre><code class=\"lang-auto\">                    case kTerrainMode_Smooth:\n                        htColor += (avgColor - htColor) * grdAvg * INCREMENTAL_VALUE;\n                        break;</code></pre>\n<p>should be changed to</p>\n<pre><code class=\"lang-auto\">                    case kTerrainMode_Smooth:\n                        htColor += (avgColor - htColor) * grdAvg * 0.05f; // maybe even a bit higher -- play with it and see\n                        break;</code></pre>", "post_number": 4, "post_type": 1, "updated_at": "2017-01-02T01:10:01.312Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 2, "reads": 35, "readers_count": 34, "score": 17.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10140, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-12T23:32:06.000Z", "cooked": "<p>Source and header files updated. rewrote WorldToHeightMap() locally due to the one in terrain.cpp had bugs: rounding and index offset error</p>", "post_number": 5, "post_type": 1, "updated_at": "2017-01-02T01:10:01.765Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 31, "readers_count": 30, "score": 6.2, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10147, "name": "", "username": "rasteron", "avatar_template": "/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png", "created_at": "2016-02-13T01:53:54.000Z", "cooked": "<p>Nice feature! Generally, I\u2019m using 3rd party tools for this type of stuff, but I think this will make a good addition with the default Urho3D editor. <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>", "post_number": 6, "post_type": 1, "updated_at": "2017-01-02T01:10:02.354Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 27, "readers_count": 26, "score": 5.4, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 54, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10154, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-13T17:26:06.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/rasteron/40/55_1.png\" class=\"avatar\"> rasteron:</div>\n<blockquote>\n<p>Nice feature! Generally, I\u2019m using 3rd party tools for this type of stuff, but I think this will make a good addition with the default Urho3D editor. <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>\n</blockquote>\n</aside>\n<p>Thanks. I had nothing to work with and found painting a heightmap in photoshop was just too time consuming to see it come out wrong. This will help me shape the terrain much faster.</p>", "post_number": 7, "post_type": 1, "updated_at": "2017-01-02T01:10:02.814Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 1, "reads": 28, "readers_count": 27, "score": 10.6, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10156, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-13T21:13:34.000Z", "cooked": "<p>Updated source and header - added history for undo edit</p>", "post_number": 8, "post_type": 1, "updated_at": "2017-01-02T01:10:03.006Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 30, "readers_count": 29, "score": 6.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10160, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-14T07:51:22.000Z", "cooked": "<p>Updated source and header - added a terrain paint feature - paints the terrainWeight image, not the details.</p>\n<p>The terrainWeight image does not work with DDS file, use png or jpg.</p>", "post_number": 9, "post_type": 1, "updated_at": "2017-01-02T01:10:03.288Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 30, "readers_count": 29, "score": 6.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10184, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-14T18:20:08.000Z", "cooked": "<p>Final edit on source and header.</p>\n<p>End of post.</p>", "post_number": 10, "post_type": 1, "updated_at": "2017-01-02T01:10:05.049Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 28, "readers_count": 27, "score": 5.6, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10253, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-18T22:01:12.000Z", "cooked": "<p>Ok, maybe not the end of post.  I did get a chance to look into other engine\u2019s terrain editor and found there are additional editing functions such as \u2018flatten\u2019 and \u2018set height\u2019.<br>\nI think those functions are useful.  I won\u2019t be adding those features anytime soon, but all the fixed INCREMENTAL_XX values should also be exposed and have them user controlled.<br>\nNeed to wrap all the features and setting in something like TurboBadger would be nice.</p>", "post_number": 11, "post_type": 1, "updated_at": "2017-01-02T01:10:10.174Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 5.2, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10254, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-18T22:40:01.000Z", "cooked": "<p>I guess there wouldn\u2019t be a point of doing this if Atomic Game Engine already has a terrain editor.</p>", "post_number": 12, "post_type": 1, "updated_at": "2017-01-02T01:10:10.277Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 25, "readers_count": 24, "score": 5.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10255, "name": "", "username": "thebluefish", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "created_at": "2016-02-18T23:32:01.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Lumak\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/40.png\" class=\"avatar\"> Lumak:</div>\n<blockquote>\n<p>I guess there wouldn\u2019t be a point of doing this if Atomic Game Engine already has a terrain editor.</p>\n</blockquote>\n</aside>\n<p>Their editor has a much more restrictive license. I certainly wouldn\u2019t want to fork it if I planned to keep my stuff open source and under a permissive license.</p>", "post_number": 13, "post_type": 1, "updated_at": "2017-01-02T01:10:10.382Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 25, "readers_count": 24, "score": 5.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 80, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10257, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-19T01:53:11.000Z", "cooked": "<p>[quote=\u201cthebluefish\u201d]</p>\n<p>Their editor has a much more restrictive license. I certainly wouldn\u2019t want to fork it if I planned to keep my stuff open source and under a permissive license.[/quote]</p>\n<p>I see your point.  But what I was getting at was that Atomic/jenge already has a TB level editor, and even though I haven\u2019t use it, it looks pretty good and having a terrain editor feature would be an integral part of his editor, if it doesn\u2019t have one already.  No need to have multiple variations of Urho3D TB terrain editors is what I was getting at.</p>\n<p>Of course, what I have submitted on this thread is open source and anyone can wrap it with a fancy gui or enhance it however they like.</p>", "post_number": 14, "post_type": 1, "updated_at": "2017-01-02T01:10:10.580Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 29, "readers_count": 28, "score": 5.8, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10258, "name": "", "username": "thebluefish", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "created_at": "2016-02-19T02:53:11.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Lumak\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/40.png\" class=\"avatar\"> Lumak:</div>\n<blockquote>\n<p>Of course, what I have submitted on this thread is open source and anyone can wrap it with a fancy gui or enhance it however they like.</p>\n</blockquote>\n</aside>\n<p>This is why I appreciate everything you\u2019ve released so far man  <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=10\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>", "post_number": 15, "post_type": 1, "updated_at": "2017-01-02T01:10:10.647Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 2, "reads": 25, "readers_count": 24, "score": 15.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 80, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10259, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2016-02-19T03:43:11.000Z", "cooked": "<p>Not intended to steal the thunder but there is also another terrain editor implemented by JTippetts which support 8-detail tri-planar shaders for both HLSL and GLSL. One can only hope that someone would step forward to put all the good bits into one place, preferably in current Urho3D editor.</p>", "post_number": 16, "post_type": 1, "updated_at": "2017-01-02T01:10:10.711Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 25, "readers_count": 24, "score": 5.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10262, "name": "", "username": "rasteron", "avatar_template": "/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png", "created_at": "2016-02-19T08:33:51.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"weitjong\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/weitjong/40/4_2.png\" class=\"avatar\"> weitjong:</div>\n<blockquote>\n<p>Not intended to steal the thunder but there is also another terrain editor implemented by JTippetts which support 8-detail tri-planar shaders for both HLSL and GLSL. One can only hope that someone would step forward to put all the good bits into one place, preferably in current Urho3D editor.</p>\n</blockquote>\n</aside>\n<p>Agreed and looking forward to this as well. <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=10\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>\n<aside class=\"quote no-group\" data-username=\"Lumak\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/40.png\" class=\"avatar\"> Lumak:</div>\n<blockquote>\n<p>Thanks. I had nothing to work with and found painting a heightmap in photoshop was just too time consuming to see it come out wrong. This will help me shape the terrain much faster.</p>\n</blockquote>\n</aside>\n<p>I have made a post <a href=\"http://discourse.urho3d.io/t/free-terrain-editors/1790/1\" data-bbcode=\"true\">resource here</a> about a few free terrain editors that I have tested since I got started, but still having an integrated terrain editor in Urho3D would be awesome! <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=10\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>", "post_number": 17, "post_type": 1, "updated_at": "2017-01-02T01:10:10.962Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 91, "reads": 26, "readers_count": 25, "score": 460.2, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://discourse.urho3d.io/t/free-terrain-editors/1790", "internal": true, "reflection": false, "title": "Free Terrain Editors", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 54, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10341, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-22T23:46:17.000Z", "cooked": "<p>Final source edit - added flatten, set height, and scaler.</p>\n<p>I just saw JTippets terrain editor in Showcase.  That editor looks nice and more extensive than what I have here.  You may want to give that a try.</p>", "post_number": 18, "post_type": 1, "updated_at": "2017-01-02T01:10:16.856Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 27, "readers_count": 26, "score": 5.4, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10347, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-23T03:31:28.000Z", "cooked": "<p>One last minor tweak.</p>", "post_number": 19, "post_type": 1, "updated_at": "2017-01-02T01:10:17.341Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 25, "readers_count": 24, "score": 5.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10348, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-23T04:37:17.000Z", "cooked": "<p>History bug fix.</p>", "post_number": 20, "post_type": 1, "updated_at": "2017-01-02T01:10:17.407Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 25, "readers_count": 24, "score": 5.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 10404, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-02-24T23:29:09.000Z", "cooked": "<p>source change: clean up and added a transparent window around the slider to increase UI focus area.</p>", "post_number": 21, "post_type": 1, "updated_at": "2017-01-02T01:10:21.494Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 23, "readers_count": 22, "score": 4.6, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12455, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-06-09T17:52:01.000Z", "cooked": "<p>I decide to wrap this with Urho GUI stuff (direct port of some editor\u2019s .as code). Something that I\u2019ll be using often due to an offroad racing game I\u2019m attempting to make.</p>\n<p>pic - best icons I ever made  <img src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=9\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"><br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"http://i.imgur.com/1aXemfH.jpg?1\" title=\"\"><img src=\"http://i.imgur.com/1aXemfH.jpg?1\" alt=\"\" width=\"690\" height=\"403\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\"></span><span class=\"informations\">1280\u00d7749</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg></div></a></div></p>", "post_number": 22, "post_type": 1, "updated_at": "2017-01-02T01:12:47.765Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 12, "reads": 26, "readers_count": 25, "score": 65.2, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://i.imgur.com/1aXemfH.jpg?1", "internal": false, "reflection": false, "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12522, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-06-15T05:23:08.000Z", "cooked": "<p>Windows beta release - <a href=\"http://wikisend.com/download/468018/TerrainEditor.zip\" data-bbcode=\"true\">TerrainEditor.zip</a>.<br>\nUnzip it in your <span class=\"bbcode-b\">[color=#0000FF]/bin[/color]</span> folder.</p>\n<p>Provide any feedback, thx.</p>", "post_number": 23, "post_type": 1, "updated_at": "2017-01-02T01:12:52.762Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 25, "readers_count": 24, "score": 10.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://wikisend.com/download/468018/TerrainEditor.zip", "internal": false, "reflection": false, "clicks": 21}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12525, "name": "", "username": "namic", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/779978/{size}.png", "created_at": "2016-06-15T13:10:37.000Z", "cooked": "<p>Linux?  <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>", "post_number": 24, "post_type": 1, "updated_at": "2017-01-02T01:12:52.983Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 25, "readers_count": 24, "score": 5.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 253, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12528, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-06-15T19:03:31.000Z", "cooked": "<p>I\u2019d probably release the linux version much later.  For now, I\u2019m just creating a tool that I need to create my game, but I wouldn\u2019t mind sharing it.</p>", "post_number": 25, "post_type": 1, "updated_at": "2017-01-02T01:12:53.169Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 24, "readers_count": 23, "score": 4.8, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12542, "name": "", "username": "TheComet", "avatar_template": "/user_avatar/discourse.urho3d.io/thecomet/{size}/1493_2.png", "created_at": "2016-06-16T20:44:16.000Z", "cooked": "<p>This looks pretty cool, nice job!</p>", "post_number": 26, "post_type": 1, "updated_at": "2017-01-02T01:12:54.125Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 23, "readers_count": 22, "score": 4.6, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Community repository maintainer", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 37, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12549, "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "username": "Modanung", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png", "created_at": "2016-06-17T15:59:14.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Lumak\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/40.png\" class=\"avatar\"> Lumak:</div>\n<blockquote>\n<p>I\u2019d probably release the linux version much later. For now, I\u2019m just creating a tool that I need to create my game, but I wouldn\u2019t mind sharing it.</p>\n</blockquote>\n</aside>\n<p>Does sharing it mean you\u2019re planning on making it open-source? If you do people could compile it for any supported platform, and send in pull requests on top of that. <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=10\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"><br>\nLooks good.</p>", "post_number": 27, "post_type": 1, "updated_at": "2017-01-02T01:12:54.624Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 21, "readers_count": 20, "score": 4.2, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "", "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 192, "hidden": false, "trust_level": 0, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "user_suspended": true, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12550, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-06-17T18:15:48.000Z", "cooked": "<aside class=\"quote\">\n<blockquote>\n<p>Does sharing it mean you\u2019re planning on making it open-source?</p>\n</blockquote>\n</aside>\n<p>I will eventually. Working on tools is not my favorite thing to do, and I don\u2019t think it is for most ppl either - it\u2019s a necessity, hah.  If I thought someone was eager to work on this then I\u2019d open source it sooner.</p>\n<p>As it stands, there are some algorithms that I still don\u2019t like and will be writing some experimental code to see it works any better. One example is smoothing, the getsmoothpixel() function found in terrain.cpp - which is a common function in terrain editing, so I found.  While the operation works okay when the y_ spacing is &lt;= 0.4f, it falls apart when &gt; ~0.6f, and very obvious when y_ &gt;= 1.0f.  Also, I\u2019d like to add some terraform processes to transform the entire heightmap instead of just using brush operations.</p>\n<p>And lastly, the gui code is direct port of <a href=\"http://Editor.as\">Editor.as</a> code and all its related .as code, and I\u2019ve only ported small portion of the entire thing.  What I\u2019ve ported requires some restructuring and refactoring. I\u2019d love it if I can port the entire .as code to c++. I gotta admit that I\u2019ve learned a lot more about what\u2019s in the engine what other features/functionalities are in it by porting the .as code.</p>", "post_number": 28, "post_type": 1, "updated_at": "2017-01-02T01:12:54.692Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 9, "reads": 25, "readers_count": 24, "score": 50.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://Editor.as", "internal": false, "reflection": false, "clicks": 6}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12634, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-06-23T02:39:14.000Z", "cooked": "<p>Latest update: terraform generation, terrain height layer auto-coloring, minor fixes and added more error checking.</p>\n<p>Windows and Linux binary release - <a href=\"http://wikisend.com/download/424486/TerrainEdit.zip\" data-bbcode=\"true\">TerrainEdit.zip</a></p>\n<p>Unzip in your &lt;URHO3D/projects&gt;/bin folder, as before.</p>\n<p>pics:</p>\n<p><a href=\"http://imgur.com/a/yT3ye\">imgur.com/a/yT3ye</a></p>\n<p>Edit: June 25, 2016 - updated the binary release to include Windows and Linux.</p>", "post_number": 29, "post_type": 1, "updated_at": "2017-01-02T01:13:01.189Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 8, "reads": 22, "readers_count": 21, "score": 44.4, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://imgur.com/a/yT3ye", "internal": false, "reflection": false, "title": "Imgur: The most awesome images on the Internet", "clicks": 19}, {"url": "http://wikisend.com/download/424486/TerrainEdit.zip", "internal": false, "reflection": false, "clicks": 18}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12698, "name": "", "username": "vovchik7ful", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/v/898d66/{size}.png", "created_at": "2016-07-03T09:35:15.000Z", "cooked": "<p>When the file is no link, please post it on Google drive.</p>", "post_number": 30, "post_type": 1, "updated_at": "2017-01-02T01:13:05.819Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 20, "readers_count": 19, "score": 4.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 494, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12699, "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "username": "Modanung", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png", "created_at": "2016-07-03T10:18:16.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"vovchik7ful\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/v/898d66/40.png\" class=\"avatar\"> vovchik7ful:</div>\n<blockquote>\n<p>When the file is no link, please post it on Google drive.</p>\n</blockquote>\n</aside>\n<p>\u2026or any other cloud service. Preferably one that respects people\u2019s privacy. The zip download doesn\u2019t work for me either.</p>", "post_number": 31, "post_type": 1, "updated_at": "2017-01-02T01:13:05.881Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 1, "reads": 20, "readers_count": 19, "score": 9.0, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "", "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 192, "hidden": false, "trust_level": 0, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "user_suspended": true, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12706, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-07-03T22:55:18.000Z", "cooked": "<p>Posted a google drive link on the first page.</p>", "post_number": 32, "post_type": 1, "updated_at": "2017-01-02T01:13:06.363Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 24, "readers_count": 23, "score": 9.8, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12711, "name": "", "username": "vovchik7ful", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/v/898d66/{size}.png", "created_at": "2016-07-04T03:06:09.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Lumak\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/40.png\" class=\"avatar\"> Lumak:</div>\n<blockquote>\n<p>Posted a google drive link on the first page.</p>\n</blockquote>\n</aside>\n<p>Many thanks!  <img src=\"https://emoji.discourse-cdn.com/twitter/sunglasses.png?v=10\" title=\":sunglasses:\" class=\"emoji\" alt=\":sunglasses:\"></p>", "post_number": 33, "post_type": 1, "updated_at": "2017-01-02T01:13:06.699Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 2, "reads": 24, "readers_count": 23, "score": 14.8, "yours": false, "topic_id": 1769, "topic_slug": "terrain-editor", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 494, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}], "stream": [10117, 10120, 10128, 10134, 10140, 10147, 10154, 10156, 10160, 10184, 10253, 10254, 10255, 10257, 10258, 10259, 10262, 10341, 10347, 10348, 10404, 12455, 12522, 12525, 12528, 12542, 12549, 12550, 12634, 12698, 12699, 12706, 12711]}, "timeline_lookup": [[1, 2477], [2, 2476], [6, 2475], [9, 2474], [11, 2470], [14, 2469], [18, 2466], [19, 2465], [21, 2464], [22, 2358], [23, 2352], [26, 2351], [27, 2350], [29, 2344], [30, 2334], [33, 2333]], "tags_descriptions": {}, "id": 1769, "title": "Terrain Editor", "fancy_title": "Terrain Editor", "posts_count": 33, "created_at": "2016-02-11T19:26:57.000Z", "views": 2849, "reply_count": 0, "like_count": 0, "last_posted_at": "2016-07-04T03:06:09.000Z", "visible": true, "closed": false, "archived": false, "has_summary": false, "archetype": "regular", "slug": "terrain-editor", "category_id": 13, "word_count": 5131, "deleted_at": null, "user_id": 256, "featured_link": null, "pinned_globally": false, "pinned_at": null, "pinned_until": null, "image_url": null, "slow_mode_seconds": 0, "draft": null, "draft_key": "topic_1769", "draft_sequence": null, "unpinned": null, "pinned": false, "current_post_number": 1, "highest_post_number": 33, "deleted_by": null, "actions_summary": [{"id": 4, "count": 0, "hidden": false, "can_act": false}, {"id": 8, "count": 0, "hidden": false, "can_act": false}, {"id": 7, "count": 0, "hidden": false, "can_act": false}], "chunk_size": 20, "bookmarked": false, "bookmarks": [], "topic_timer": null, "message_bus_last_id": 0, "participant_count": 9, "show_read_indicator": false, "thumbnails": null, "slow_mode_enabled_until": null, "tags_disable_ads": false, "details": {"can_edit": false, "notification_level": 1, "participants": [{"id": 256, "username": "Lumak", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "post_count": 21, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 54, "username": "rasteron", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 80, "username": "thebluefish", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 0}, {"id": 494, "username": "vovchik7ful", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/v/898d66/{size}.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 223, "username": "esak", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/e/7ea924/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 253, "username": "namic", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/779978/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 37, "username": "TheComet", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/thecomet/{size}/1493_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 4, "username": "weitjong", "name": "Yao Wei Tjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "admin": true, "trust_level": 4}], "created_by": {"id": 256, "username": "Lumak", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png"}, "last_poster": {"id": 494, "username": "vovchik7ful", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/v/898d66/{size}.png"}, "links": [{"url": "https://drive.google.com/open?id=0B2Yd1AZoTDywX20wTVVzUF9wZzg", "title": "TerrainEdit-V0.03.zip - Google Drive", "internal": false, "attachment": false, "reflection": false, "clicks": 46, "user_id": 256, "domain": "drive.google.com", "root_domain": "google.com"}, {"url": "http://wikisend.com/download/468018/TerrainEditor.zip", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 21, "user_id": 256, "domain": "wikisend.com", "root_domain": "wikisend.com"}, {"url": "http://imgur.com/a/yT3ye", "title": "Imgur: The most awesome images on the Internet", "internal": false, "attachment": false, "reflection": false, "clicks": 19, "user_id": 256, "domain": "imgur.com", "root_domain": "imgur.com"}, {"url": "http://wikisend.com/download/424486/TerrainEdit.zip", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 18, "user_id": 256, "domain": "wikisend.com", "root_domain": "wikisend.com"}, {"url": "https://www.youtube.com/watch?v=1yCcTjSnaG4%5B/video%5D", "title": "YouTube", "internal": false, "attachment": false, "reflection": false, "clicks": 16, "user_id": 256, "domain": "www.youtube.com", "root_domain": "youtube.com"}, {"url": "http://Editor.as", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 6, "user_id": 256, "domain": "Editor.as", "root_domain": "Editor.as"}, {"url": "http://discourse.urho3d.io/t/terrain-heigthdata-dimensions/1843/7", "title": "Terrain Heigthdata dimensions", "internal": true, "attachment": false, "reflection": true, "clicks": 1, "user_id": 256, "domain": "discourse.urho3d.io", "root_domain": "urho3d.io"}]}, "suggested_topics": [{"id": 7103, "title": ":test_tube: DebugRenderer as GUI", "fancy_title": ":test_tube: DebugRenderer as GUI", "slug": "debugrenderer-as-gui", "posts_count": 4, "reply_count": 1, "highest_post_number": 4, "image_url": null, "created_at": "2021-12-17T02:25:06.606Z", "last_posted_at": "2021-12-18T01:09:27.738Z", "bumped": true, "bumped_at": "2021-12-18T01:09:27.738Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "unicode_title": "\ud83e\uddea DebugRenderer as GUI", "tags_descriptions": {}, "like_count": 4, "views": 267, "category_id": 13, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]}, {"id": 7110, "title": "Resource fetch define", "fancy_title": "Resource fetch define", "slug": "resource-fetch-define", "posts_count": 2, "reply_count": 0, "highest_post_number": 2, "image_url": null, "created_at": "2021-12-27T12:28:55.126Z", "last_posted_at": "2021-12-27T17:00:37.699Z", "bumped": true, "bumped_at": "2021-12-27T17:00:37.699Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 7, "views": 184, "category_id": 13, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 1304, "username": "lebrewer", "name": "lebrewer", "avatar_template": "/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]}, {"id": 7099, "title": ":fallen_leaf: Polynomials & Harmonics", "fancy_title": ":fallen_leaf: Polynomials &amp; Harmonics", "slug": "polynomials-harmonics", "posts_count": 6, "reply_count": 0, "highest_post_number": 7, "image_url": null, "created_at": "2021-12-13T05:06:04.641Z", "last_posted_at": "2021-12-27T23:27:39.489Z", "bumped": true, "bumped_at": "2021-12-27T23:27:39.489Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "unicode_title": "\ud83c\udf42 Polynomials & Harmonics", "tags_descriptions": {}, "like_count": 6, "views": 392, "category_id": 13, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest single", "description": "Original Poster, Most Recent Poster", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}, {"id": 7120, "title": "Log Error Once Macro", "fancy_title": "Log Error Once Macro", "slug": "log-error-once-macro", "posts_count": 1, "reply_count": 0, "highest_post_number": 1, "image_url": null, "created_at": "2022-01-04T02:24:37.857Z", "last_posted_at": "2022-01-04T02:24:37.925Z", "bumped": true, "bumped_at": "2022-01-04T02:24:37.925Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 3, "views": 144, "category_id": 13, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest single", "description": "Original Poster, Most Recent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}, {"id": 7193, "title": "Can Z-Axis Feasibly be \"Up\"?", "fancy_title": "Can Z-Axis Feasibly be &ldquo;Up&rdquo;?", "slug": "can-z-axis-feasibly-be-up", "posts_count": 4, "reply_count": 2, "highest_post_number": 4, "image_url": null, "created_at": "2022-02-14T05:17:28.054Z", "last_posted_at": "2022-02-14T07:26:53.817Z", "bumped": true, "bumped_at": "2022-02-14T07:26:53.817Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 1, "views": 161, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1334, "username": "najak3d", "name": "Brian Knox", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}, {"extras": null, "description": "Frequent Poster, Accepted Answer", "user": {"id": 484, "username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}]}