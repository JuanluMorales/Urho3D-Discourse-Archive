{"post_stream":{"posts":[{"id":41888,"name":"","username":"Lys0gen","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png","created_at":"2021-02-18T19:22:09.738Z","cooked":"\u003cp\u003eHello,\u003c/p\u003e\n\u003cp\u003eto my disappointment I realized that \u003ca href=\"https://urho3d.github.io/documentation/HEAD/_multithreading.html\" rel=\"noopener nofollow ugc\"\u003eUrho does not support running scripts outside of the main thread\u003c/a\u003e. I only found \u003ca href=\"https://discourse.urho3d.io/t/scripts-in-other-threads/2132\"\u003ethis thread\u003c/a\u003e that expresses similar concerns but no ideal solution. That was quite some time ago, perhaps by now someone knows of a better way to handle this.\u003c/p\u003e\n\u003cp\u003eAssuming that using AngelScript instead of LUA would have the same issue, I only see two options:\u003c/p\u003e\n\u003cp\u003ea) Modify Urhos LUA subsystem so that there can be multiple LuaScript instances (one for each thread) which don’t interfere with each other. No idea how feasible/how much work this would be\u003cbr\u003e\nb) Ditch Urhos LUA altogether and use a different, perhaps more up to date, implementation that can do this. What would be best here?\u003cbr\u003e\nc) …other ideas?\u003c/p\u003e\n\u003cp\u003eIf you wonder \u003cstrong\u003ewhy\u003c/strong\u003e I want this it is simple: In my game I have multiple AI actors and I want their behaviour completely scriptable but also run in threads as these scripts could get expensive or there could be a lot of actors at the same time.\u003c/p\u003e\n\u003cp\u003eTrying it out I had to find out the hard way that running the script in a thread (not even parallelizing the scripts themselves, just having a single worker thread in the background) definitely crashes the application after some ticks.\u003c/p\u003e\n\u003cp\u003eThanks for any input.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2021-02-18T19:24:23.179Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":60,"reads":30,"readers_count":29,"score":306.0,"yours":false,"topic_id":6720,"topic_slug":"multithreading-and-lua-scripts","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://urho3d.github.io/documentation/HEAD/_multithreading.html","internal":false,"reflection":false,"title":"Urho3D - Documentation - Multithreading","clicks":0},{"url":"https://discourse.urho3d.io/t/scripts-in-other-threads/2132","internal":true,"reflection":false,"title":"Scripts in other threads?","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1317,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41889,"name":"","username":"S.L.C","avatar_template":"/user_avatar/discourse.urho3d.io/s.l.c/{size}/1016_2.png","created_at":"2021-02-18T19:54:51.076Z","cooked":"\u003cp\u003eThe engine itself cannot be used most of the time from other threads even from C++. This is not a scripting only problem. Actually, it’s not even a problem. That’s just how things work in a game engine. Imagine every function and method having to acquire locks in order to be thread safe. Your performance would be out the window instantly.\u003c/p\u003e\n\u003cp\u003eAt most you can do is create a worker that can process data separately. Assuming whatever it processes doesn’t touch the rest of the non-thread-safe code. Which is pretty much everything. This works well for loading resources and doing computationally intensive tasks like dealing with occlusion and stuff like that.\u003c/p\u003e\n\u003cp\u003eSo with that in mind, the same concept could probably be applied to scripts as well. You basically create a separate script state that poses as a worker and all it does is process stuff. But not touch anything from the engine. Basically it’ll be mostly empty isolated state for processing and logic only.\u003c/p\u003e\n\u003cp\u003eAnd then you’d have to find ways to communicate between those script threads. That’s just how scripting engines have been and will continue to be. I’m not really sure how you expect it to be. There is no alternative if you’re looking for one tbh.\u003c/p\u003e\n\u003cp\u003eEither way, you’ll have to get your hands dirty and do some c++ \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=9\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"\u003e\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-02-18T19:56:37.353Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":40.8,"yours":false,"topic_id":6720,"topic_slug":"multithreading-and-lua-scripts","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":180,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41890,"name":"","username":"Lys0gen","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png","created_at":"2021-02-18T20:38:01.215Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"S.L.C\" data-post=\"2\" data-topic=\"6720\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/s.l.c/40/1016_2.png\" class=\"avatar\"\u003e S.L.C:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eYou basically create a separate script state that poses as a worker and all it does is process stuff. But not touch anything from the engine. Basically it’ll be mostly empty isolated state for processing and logic only.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eYes that is how pretty much everything is already.\u003cbr\u003e\nAll the game logic is independent of Urho, pretty much the only contact points are when I handle UI events or in reverse update the UI/rendered objects with game data. Well now of course with the exception of where I call the LUA scripts.\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"S.L.C\" data-post=\"2\" data-topic=\"6720\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/s.l.c/40/1016_2.png\" class=\"avatar\"\u003e S.L.C:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSo with that in mind, the same concept could probably be applied to scripts as well. You basically create a separate script state that poses as a worker and all it does is process stuff.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eAnd that is pretty much also what I do. I basically have a LUA function, lets call it “processAI” which gets passed an user object. The script then evaluates the object (no connection to anything of Urho) and may or may not queue a few “todos” by calling a (threadsafe) C++ function that I created bindings for with tolua++.\u003c/p\u003e\n\u003cp\u003eNow the crashes are pretty random, sometimes after 5 seconds, sometimes it runs fine for a couple of minutes. But they are definitely caused by the LUA subsystem and there must be a way around that, I’m just not sure which path would be the best to achieve that.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-02-18T20:38:01.215Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":27,"readers_count":26,"score":10.4,"yours":false,"topic_id":6720,"topic_slug":"multithreading-and-lua-scripts","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1317,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41893,"name":"","username":"S.L.C","avatar_template":"/user_avatar/discourse.urho3d.io/s.l.c/{size}/1016_2.png","created_at":"2021-02-18T22:43:53.677Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"Lys0gen\" data-post=\"3\" data-topic=\"6720\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/40.png\" class=\"avatar\"\u003e Lys0gen:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eNow the crashes are pretty random, sometimes after 5 seconds, sometimes it runs fine for a couple of minutes. But they are definitely caused by the LUA subsystem and there must be a way around that, I’m just not sure which path would be the best to achieve that.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI’m guessing that you’re using the same Lua state in more than one thread? Since you’re saying Lua is the only thing you’re doing work with.\u003c/p\u003e\n\u003cp\u003eIsn’t there some native multi-threading available directly for Lua? I don’t really touch Lua in general but being popular there’s bound to be an external library or something like that which enables multi-threading  without explicit help from Urho engine. Like \u003ca href=\"https://github.com/effil/effil\"\u003ethis\u003c/a\u003e for example.\u003c/p\u003e\n\u003cp\u003eBasically, enough to give you a parallel sub-routine or something like that where you can do your AI stuff.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2021-02-18T22:48:08.988Z","reply_count":0,"reply_to_post_number":3,"quote_count":1,"incoming_link_count":0,"reads":26,"readers_count":25,"score":20.2,"yours":false,"topic_id":6720,"topic_slug":"multithreading-and-lua-scripts","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/effil/effil","internal":false,"reflection":false,"title":"GitHub - effil/effil: Multithreading support for Lua","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":180,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41898,"name":"","username":"JSandusky","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png","created_at":"2021-02-19T05:07:09.537Z","cooked":"\u003cp\u003eFrom the outside Lua is thread-safe only if you access the \u003ccode\u003elua_state\u003c/code\u003e from only 1 thread at a time, so you can have multiple lua_states in threads but not one master. That creates some headaches as both bindings and table instances are centered around the state objects.\u003c/p\u003e\n\u003cp\u003eSo you have to use some flavor of inside-lua-specifically library like \u003ca class=\"mention\" href=\"/u/s.l.c\"\u003e@S.L.C\u003c/a\u003e points or work around it with C++ side objects that are storing the data that needs to be shared. So you could cludge in some threading where you only access some specific Urho3D native objects and that’d work where you spin up a number of lua_state’s for each thread by refactoring the \u003ccode\u003eLuaScript\u003c/code\u003e class.\u003c/p\u003e\n\u003cp\u003eYou could plausibly concoct some table registration scheme to register them for synchronization but that’ll be a can of worms and you’ll have both choke-points where you have to trigger the sync and have an additional “dirty” marking layer (most likely in your metatables, thus interfering with any Lua class library you’re using). Won’t be pleasant.\u003c/p\u003e\n\u003cp\u003eAngelscript has similar problems too, so changing language won’t help.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2021-02-20T21:05:46.758Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":26,"readers_count":25,"score":50.2,"yours":false,"topic_id":6720,"topic_slug":"multithreading-and-lua-scripts","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":1358,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":41912,"name":"","username":"Lys0gen","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png","created_at":"2021-02-20T21:05:35.370Z","cooked":"\u003cp\u003eThanks for the input! I think I still haven’t made my setup 100% clear, all I needed was a way to call a “processing function” on multiple threads. No resource sharing between those threads. Anyway\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"JSandusky\" data-post=\"5\" data-topic=\"6720\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/jsandusky/40/3220_2.png\" class=\"avatar\"\u003e JSandusky:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eso you can have multiple lua_states in threads but not one master.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003ethis is what I’m doing now. I now ditched Urho’s Lua subsystem as it seems to be designed to only ever have one global state (although I did lift a lot of functionality from the relevant code parts).\u003c/p\u003e\n\u003cp\u003eWhat I’m doing now is:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eCreate X new threads, each of them initializes their own lua_State with tolua bindings and so forth, then loads the required script files\u003c/li\u003e\n\u003cli\u003eEvery thread has a work queue which gets filled with LUA function calls, by default it is set to wait with a std::condition_variable\u003c/li\u003e\n\u003cli\u003eWhen I want the functions to be processed I poll the condition_variable\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eSeems to work great so far, at least I haven’t experienced any crashes yet.\u003c/p\u003e\n\u003cp\u003eThanks again!\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2021-02-20T21:05:35.370Z","reply_count":1,"reply_to_post_number":5,"quote_count":1,"incoming_link_count":1,"reads":22,"readers_count":21,"score":14.4,"yours":false,"topic_id":6720,"topic_slug":"multithreading-and-lua-scripts","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1317,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41915,"name":"","username":"George1","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png","created_at":"2021-02-21T23:21:29.302Z","cooked":"\u003cp\u003eYou can do most things on different threads…   Compute path, change positions etc…   But don’t add and remove node or component on your thread.  When adding boolean condition to delete component or node, you have to monitor and manage this in both the main and your threads.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2021-02-21T23:21:29.302Z","reply_count":0,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":2,"reads":17,"readers_count":16,"score":13.4,"yours":false,"topic_id":6720,"topic_slug":"multithreading-and-lua-scripts","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":627,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[41888,41889,41890,41893,41898,41912,41915]},"timeline_lookup":[[1,642],[6,640],[7,639]],"suggested_topics":[{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7081,"title":"Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"","fancy_title":"Install Urho3D Library - Windows 10 - rake build - \u0026ldquo;project does not exist\u0026rdquo;","slug":"install-urho3d-library-windows-10-rake-build-project-does-not-exist","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-03T03:06:40.974Z","last_posted_at":"2021-12-03T17:53:10.844Z","bumped":true,"bumped_at":"2021-12-03T17:53:10.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":190,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]}],"tags_descriptions":{},"id":6720,"title":"Multithreading and (LUA) Scripts","fancy_title":"Multithreading and (LUA) Scripts","posts_count":7,"created_at":"2021-02-18T19:22:09.628Z","views":327,"reply_count":3,"like_count":5,"last_posted_at":"2021-02-21T23:21:29.302Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"multithreading-and-lua-scripts","category_id":10,"word_count":1307,"deleted_at":null,"user_id":1317,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6720","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":7,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":5,"username":"JSandusky","excerpt":"From the outside Lua is thread-safe only if you access the lua_state from only 1 thread at a time, so you can have multiple lua_states in threads but not one master. That creates some headaches as both bindings and table instances are centered around the state objects. \nSo you have to use some flavo\u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":180,"username":"S.L.C","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/s.l.c/{size}/1016_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0},{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0}],"created_by":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"},"last_poster":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}}}