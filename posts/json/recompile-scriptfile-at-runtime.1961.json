{"post_stream":{"posts":[{"id":11679,"name":"","username":"godan","avatar_template":"/user_avatar/discourse.urho3d.io/godan/{size}/49_2.png","created_at":"2016-04-13T13:51:59.000Z","cooked":"\u003cp\u003eI’m building an app that allows the user to load Script files (in my case, Angelscript) during runtime. This works fine, however, I’ve noticed that if the user changes the file on disk and reloads it, the system still uses a cached verison. My logic for loading the script file is pretty basic, so I’m probably missing something:\u003c/p\u003e\n\u003cp\u003e[code]//run the script if one is present\u003cbr\u003e\nScript* script_engine = GetContext()-\u0026gt;GetSubsystem();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eResourceCache* cache = GetContext()-\u0026gt;GetSubsystem\u0026lt;ResourceCache\u0026gt;();\nFileSystem* fs = GetContext()-\u0026gt;GetSubsystem\u0026lt;FileSystem\u0026gt;();\nScriptFile* script_file = cache-\u0026gt;GetResource\u0026lt;ScriptFile\u0026gt;(path);\nif(script_file)\n{\n\tbool res = script_file-\u0026gt;Execute(\"void CS_SCRIPT_START()\");\n\tif(!res)\n\t\tscript_file-\u0026gt;Execute(\"void Start()\");\n\tif(!res)\n\t\tURHO3D_LOGINFO(\"Could not start script file\");\n}[/code]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI know that there is a method that checks if the script is compiled or not, but I’m not sure how to force the compile to happen.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:11:52.255Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":36,"reads":14,"readers_count":13,"score":184.8,"yours":false,"topic_id":1961,"topic_slug":"recompile-scriptfile-at-runtime","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":134,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11681,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2016-04-13T14:33:27.000Z","cooked":"\u003cp\u003eYou might try a version of ResourceCache::ReleaseResource()\u003cbr\u003e\n\u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Resource/ResourceCache.h#L105\"\u003egithub.com/urho3d/Urho3D/blob/m … che.h#L105\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThis seems to work for me:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid ExecuteScript(const String\u0026amp; fn) {\n  ResourceCache* cache(GetSubsystem\u0026lt;ResourceCache\u0026gt;());\n  cache-\u0026gt;ReleaseResource(ScriptFile::GetTypeStatic(), fn, true);\n  ScriptFile* scriptFile(cache-\u0026gt;GetResource\u0026lt;ScriptFile\u0026gt;(fn));\n  if (scriptFile) {\n    scriptFile-\u0026gt;Execute(\"void Start()\");\n  }\n}\u003c/code\u003e\u003c/pre\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:11:52.391Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":3.0,"yours":false,"topic_id":1961,"topic_slug":"recompile-scriptfile-at-runtime","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Resource/ResourceCache.h#L105","internal":false,"reflection":false,"title":"Urho3D/ResourceCache.h at master · urho3d/Urho3D · GitHub","clicks":2}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11682,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-04-13T14:40:26.000Z","cooked":"\u003cp\u003eAdditional ways to achieve reloading:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLike the editor, enable hot reload by ResourceCache::SetAutoReloadResources(true). Reload / recompile will then happen automatically as part of the frame update once a change is detected, which may not be convenient for your case.\u003c/li\u003e\n\u003cli\u003eCall ResourceCache::ReloadResource() when you already have a pointer to the script.\u003c/li\u003e\n\u003cli\u003eDisallow caching of the script by using ResourceCache::GetTempResource() to load it, and store it in a shared ptr yourself. Then simply let go of the old pointer and repeat loading when needed.\u003c/li\u003e\n\u003c/ul\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:11:52.477Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":3.0,"yours":false,"topic_id":1961,"topic_slug":"recompile-scriptfile-at-runtime","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11684,"name":"","username":"godan","avatar_template":"/user_avatar/discourse.urho3d.io/godan/{size}/49_2.png","created_at":"2016-04-13T16:18:33.000Z","cooked":"\u003cp\u003eThanks! ReloadResource() worked a treat.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:11:52.640Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":14,"readers_count":13,"score":7.8,"yours":false,"topic_id":1961,"topic_slug":"recompile-scriptfile-at-runtime","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":134,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[11679,11681,11682,11684]},"timeline_lookup":[[1,2415]],"suggested_topics":[{"id":7138,"title":"Build fails (linking phase) on Linux","fancy_title":"Build fails (linking phase) on Linux","slug":"build-fails-linking-phase-on-linux","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-01-20T03:08:29.663Z","last_posted_at":"2022-01-21T15:27:41.192Z","bumped":true,"bumped_at":"2022-01-21T15:27:41.192Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":178,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1502,"username":"jasperry","name":"Jason Perry","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/5fc32e/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7127,"title":"Switching ribbon trails emission glitches transparent materials","fancy_title":"Switching ribbon trails emission glitches transparent materials","slug":"switching-ribbon-trails-emission-glitches-transparent-materials","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-01-13T17:17:46.847Z","last_posted_at":"2022-02-10T08:10:49.330Z","bumped":true,"bumped_at":"2022-02-10T08:10:49.330Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":323,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1188,"username":"Taqer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7181,"title":"StaticModelGroup - Are ShaderParameters Shared?","fancy_title":"StaticModelGroup - Are ShaderParameters Shared?","slug":"staticmodelgroup-are-shaderparameters-shared","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-02-02T09:31:19.658Z","last_posted_at":"2022-02-02T17:06:24.059Z","bumped":true,"bumped_at":"2022-02-02T17:06:24.059Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":120,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}],"tags_descriptions":{},"id":1961,"title":"Recompile Scriptfile at runtime?","fancy_title":"Recompile Scriptfile at runtime?","posts_count":4,"created_at":"2016-04-13T13:51:59.000Z","views":374,"reply_count":0,"like_count":0,"last_posted_at":"2016-04-13T16:18:33.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"recompile-scriptfile-at-runtime","category_id":10,"word_count":296,"deleted_at":null,"user_id":134,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1961","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":134,"username":"godan","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/godan/{size}/49_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":21,"username":"jmiller","name":"Justin Miller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":3}],"created_by":{"id":134,"username":"godan","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/godan/{size}/49_2.png"},"last_poster":{"id":134,"username":"godan","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/godan/{size}/49_2.png"},"links":[{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Resource/ResourceCache.h#L105","title":"Urho3D/ResourceCache.h at master · urho3d/Urho3D · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":21,"domain":"github.com","root_domain":"github.com"}]}}