{"post_stream":{"posts":[{"id":6427,"name":"","username":"Dave82","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png","created_at":"2015-06-10T02:12:25.000Z","cooked":"\u003cp\u003eHi , i found it a littlebit hard to deeply understand how the animation system works ?\u003c/p\u003e\n\u003cp\u003e1st : The IsPlaying(name) function is a bit \u003ca href=\"http://missleading.It\" rel=\"nofollow noopener\"\u003emissleading.It\u003c/a\u003e actually returns true if the currently playing animation name and the name you check is matching , and NOT if the animation is actually playing (currentTime == length).\u003cbr\u003e\nIsn’t the IsPlaying(name) should be :\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ebool AnimationController::IsPlaying(const Urho3D::String \u0026amp;name)\n{\n    AnimationState* state = GetAnimationState(name);\n   state ? (state-\u0026gt;GetTime() == state-\u0026gt;GetLength() ? false : true) : false;\n}\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e2nd What are layers ? I tried everything to undertand them , but all they do is playing the animation with highest bit\u003cbr\u003e\nfor an example :\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eanimCtrl-\u0026gt;PlayExclusive(\"walk.ani\" , 1 , true , 0.1f);\nanimCtrl-\u0026gt;PlayExclusive(\"idle.ani\" , 2 , true , 0.1f);\nanimCtrl-\u0026gt;PlayExclusive(\"jump.ani\" , 4 , true , 0.1f);\nanimCtrl-\u0026gt;PlayExclusive(\"aim.ani\" , 8 , true , 0.1f);\n\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eif i execute this code the “aim” animation will be playing like i just played the aim animation on layer 1 without playing the other animations… So i don’t see the purpose of the layers\u003cbr\u003e\nhow do they actually work and what do they achieve? Can someone show me an example how to use them ?\u003c/p\u003e\n\u003cp\u003eThanks\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:05:31.161Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":21,"reads":8,"readers_count":7,"score":106.6,"yours":false,"topic_id":1109,"topic_slug":"how-the-animation-system-works","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://missleading.It","internal":false,"reflection":false,"clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":247,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6428,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-06-10T07:46:08.000Z","cooked":"\u003cp\u003eIsPlaying() has been commented as “Return whether an animation is active.” which matches what the function is doing. If the animation has reached its end but is still being blended into the skeleton, it’s considered active. (Note that you can set animations to automatically fadeout after they reach the end.) You can inspect the time position separately, or alternatively we could add an IsAtEnd() helper function.\u003c/p\u003e\n\u003cp\u003eLayers simply specify the animation blending order. They don’t help much if all your animations contain tracks for all of the skeleton bones, and you’re playing back animations at full weight. In that case the highest layer animation “wins” and others aren’t seen in the blending result at all.\u003c/p\u003e\n\u003cp\u003eFor example NinjaSnowWar has full-skeleton animations, and it puts the attack animation on a higher layer, so when it fades in, the stand or run pose (lower layer) gradually fades out from underneath.\u003c/p\u003e\n\u003cp\u003eWhen you want to combine things like walking and aiming, you’ll get best results if for example the aiming doesn’t have keyframe tracks for lower body. Alternatively you can control animation blending weight per-bone, for example set zero weight to all lower body bones in the aim animation to effectively disable them from blending.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:05:31.223Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":8,"readers_count":7,"score":11.6,"yours":false,"topic_id":1109,"topic_slug":"how-the-animation-system-works","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6446,"name":"","username":"Dave82","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png","created_at":"2015-06-11T20:49:46.000Z","cooked":"\u003cp\u003eThanks cadaver ! I’ve get it now. The IsAtEnd(const String \u0026amp;name) would be indeed a great feature.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:05:32.503Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":1109,"topic_slug":"how-the-animation-system-works","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":247,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[6427,6428,6446]},"timeline_lookup":[[1,2723],[3,2721]],"suggested_topics":[{"id":7344,"title":"Do we give up supporting dx11？","fancy_title":"Do we give up supporting dx11？","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7224,"title":"\u003cemittertype value=\"Ring\" /\u003ewhat mean?and how to has this ring effect?","fancy_title":"\u0026lt;emittertype value=\u0026ldquo;Ring\u0026rdquo; /\u0026gt;what mean?and how to has this ring effect?","slug":"emittertype-value-ring-what-mean-and-how-to-has-this-ring-effect","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5e12d695b638d912650cd1fb0ca61d6f1db7658b.png","created_at":"2022-03-29T07:06:27.986Z","last_posted_at":"2022-03-31T10:56:19.908Z","bumped":true,"bumped_at":"2022-03-31T10:56:19.908Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":177,"category_id":14,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1503,"username":"tianlv777","name":"zerrrrr","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/a4c791/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7290,"title":"Using HDR skies in scenes?","fancy_title":"Using HDR skies in scenes?","slug":"using-hdr-skies-in-scenes","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-07-01T22:10:02.015Z","last_posted_at":"2022-07-02T02:10:20.785Z","bumped":true,"bumped_at":"2022-07-02T02:10:20.785Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":133,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1529,"username":"hunkalloc","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/hunkalloc/{size}/3817_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":1109,"title":"How the animation system works?","fancy_title":"How the animation system works?","posts_count":3,"created_at":"2015-06-10T02:12:25.000Z","views":296,"reply_count":0,"like_count":0,"last_posted_at":"2015-06-11T20:49:46.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"how-the-animation-system-works","category_id":9,"word_count":422,"deleted_at":null,"user_id":247,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1109","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2}],"created_by":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"},"last_poster":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}}}