{"post_stream":{"posts":[{"id":22131,"name":"","username":"eldog","avatar_template":"/user_avatar/discourse.urho3d.io/eldog/{size}/720_2.png","created_at":"2017-12-02T15:38:15.981Z","cooked":"\u003cp\u003eOn iOS 11 Safari using a StaticModel will render just fine, but when I try to use a AnimatedModel (mine has bones), it does not appear to render anything. I can interact with the rest of the scene just fine, but the AnimatedModel is not visible.\u003c/p\u003e\n\u003cp\u003eAndroid WebGL and desktop WebGL render the AnimatedModel. I’m not sure where to look, I’m wondering if there is an ios specific define that may need to be enabled.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-12-06T15:53:56.641Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":19,"reads":29,"readers_count":28,"score":100.8,"yours":false,"topic_id":3813,"topic_slug":"animatedmodel-does-not-render-on-ios-safari-webgl","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":800,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22138,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-12-02T17:56:33.735Z","cooked":"\u003cp\u003eConfirmed. When I checked WebGL demos on iOS yesterday, I saw this bug on the Navigation demo.\u003c/p\u003e\n\u003cp\u003eDebugging graphics is in my top 5 of most hated things. Debugging mobiles too.\u003c/p\u003e\n\u003cp\u003eI doubt there is any magic define. It looks like shader issue. Maybe bones uniforms are not updated, maybe they are not fetched properly. Maybe this is shader compiler bug, maybe it’s Urho fault.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-12-02T17:56:33.735Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":28,"readers_count":27,"score":5.6,"yours":false,"topic_id":3813,"topic_slug":"animatedmodel-does-not-render-on-ios-safari-webgl","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22149,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2017-12-02T22:47:20.174Z","cooked":"\u003cp\u003eThe graphics on WebGL assumes desktop-like capabilities, so it’s likely to need scaling back / removing those assumptions if running on a mobile device. The shadow issue is very likely similar.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-12-02T22:47:20.174Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":28,"readers_count":27,"score":10.6,"yours":false,"topic_id":3813,"topic_slug":"animatedmodel-does-not-render-on-ios-safari-webgl","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22154,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2017-12-03T01:56:27.684Z","cooked":"\u003cp\u003eBut what is the best way to do that? Sounds like the server needs to have two versions of the build, one for desktop and one for mobile browsers, and then the JS loader on the client side decides which version to load at run time?\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-12-03T01:56:27.684Z","reply_count":0,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":0,"reads":27,"readers_count":26,"score":5.4,"yours":false,"topic_id":3813,"topic_slug":"animatedmodel-does-not-render-on-ios-safari-webgl","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Admin","title_is_group":false,"reply_to_user":{"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22182,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2017-12-03T19:28:13.593Z","cooked":"\u003cp\u003eThat sounds cumbersome, so the ifdef checks would need to preferably become runtime capability queries instead, where possible.\u003c/p\u003e\n\u003cp\u003eOf course, when / if you get bgfx, the problem is likely to be moved from the lowlevel renderer to elsewhere, but principle remains the same.\u003c/p\u003e\n\u003cp\u003eBut yeah, in general multiple capability levels are a headache…\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-12-03T19:30:07.297Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":24,"readers_count":23,"score":4.8,"yours":false,"topic_id":3813,"topic_slug":"animatedmodel-does-not-render-on-ios-safari-webgl","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22186,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2017-12-04T01:46:26.391Z","cooked":"\u003cp\u003eThe problem with web platform is, the “binary” (WASM or asm.js) is not installed, at most it is only cached and downloaded on demand when the cache expires. Assuming we were able to do multi-implementation in a single binary and to allow dynamic switch during run time based on the client capabilities, the binary would surely become bigger and it contains the other bits that the client will not require.\u003c/p\u003e\n\u003cp\u003eWhat would be ideal is the build system able to generate multiple binary modules (one common + one for each target deployment) in one go during compile time; and the JS on client side is responsible to load the correct modules during run time.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-12-04T01:57:01.226Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":21,"readers_count":20,"score":14.2,"yours":false,"topic_id":3813,"topic_slug":"animatedmodel-does-not-render-on-ios-safari-webgl","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Admin","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22235,"name":"","username":"eldog","avatar_template":"/user_avatar/discourse.urho3d.io/eldog/{size}/720_2.png","created_at":"2017-12-06T15:44:37.797Z","cooked":"\u003cp\u003eFound a solution.\u003c/p\u003e\n\u003cp\u003eSimilar to the Raspberry Pi, the problem is the maximum number of bones. Probably to do with the number of uniforms that iOS safari supports, there’s \u003ca href=\"https://github.com/mrdoob/three.js/issues/7807\" rel=\"nofollow noopener\"\u003ethis issue\u003c/a\u003e on threejs that describes a similar problem they experienced.\u003c/p\u003e\n\u003cp\u003eThe change required was in \u003ccode\u003eGraphics::GetMaxBones()\u003c/code\u003e \u003ca href=\"https://github.com/urho3d/Urho3D/blob/54ed4c917f242817029797a72eb7867ea7ab0247/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L2154\" rel=\"nofollow noopener\"\u003ehere\u003c/a\u003e. I changes it to \u003ccode\u003ereturn 16;\u003c/code\u003e and it worked, I don’t know what the correct number for iOS Safari is at the moment (according to that threejs issue they like to change it from time to time).\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/5/58c50d21fb2f26c45a14749208f47b85aface8de.gif\" alt=\"bunion-ios\" width=\"280\" height=\"500\"\u003e\u003c/p\u003e\n\u003cp\u003eAnimations running at 60fps on iOS \u003cimg src=\"/images/emoji/twitter/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-12-06T15:53:50.264Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":19,"readers_count":18,"score":38.8,"yours":false,"topic_id":3813,"topic_slug":"animatedmodel-does-not-render-on-ios-safari-webgl","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/54ed4c917f242817029797a72eb7867ea7ab0247/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L2154","internal":false,"reflection":false,"title":"Urho3D/OGLGraphics.cpp at 54ed4c917f242817029797a72eb7867ea7ab0247 · urho3d/Urho3D · GitHub","clicks":5},{"url":"https://github.com/mrdoob/three.js/issues/7807","internal":false,"reflection":false,"title":"iOS shader error: Too many uniforms · Issue #7807 · mrdoob/three.js · GitHub","clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":800,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true}],"stream":[22131,22138,22149,22154,22182,22186,22235]},"timeline_lookup":[[1,1817],[2,1816],[5,1815],[7,1813]],"suggested_topics":[{"id":7176,"title":"Orthographic scene slowing down when zooming out","fancy_title":"Orthographic scene slowing down when zooming out","slug":"orthographic-scene-slowing-down-when-zooming-out","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-30T10:05:50.218Z","last_posted_at":"2022-01-30T10:05:50.294Z","bumped":true,"bumped_at":"2022-01-30T10:05:50.294Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":127,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1351,"username":"Haukinger","name":"Haukinger","avatar_template":"/user_avatar/discourse.urho3d.io/haukinger/{size}/3670_2.png"}}]},{"id":7081,"title":"Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"","fancy_title":"Install Urho3D Library - Windows 10 - rake build - \u0026ldquo;project does not exist\u0026rdquo;","slug":"install-urho3d-library-windows-10-rake-build-project-does-not-exist","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-03T03:06:40.974Z","last_posted_at":"2021-12-03T17:53:10.844Z","bumped":true,"bumped_at":"2021-12-03T17:53:10.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":190,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]},{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7200,"title":"Urho3D just building if I check \"use SHARED libraries\"","fancy_title":"Urho3D just building if I check \u0026ldquo;use SHARED libraries\u0026rdquo;","slug":"urho3d-just-building-if-i-check-use-shared-libraries","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-02-22T20:02:48.835Z","last_posted_at":"2022-02-23T15:38:33.698Z","bumped":true,"bumped_at":"2022-02-23T15:54:07.879Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":165,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]}],"tags_descriptions":{},"id":3813,"title":"AnimatedModel does not render on iOS Safari WebGL","fancy_title":"AnimatedModel does not render on iOS Safari WebGL","posts_count":7,"created_at":"2017-12-02T15:38:15.906Z","views":713,"reply_count":1,"like_count":2,"last_posted_at":"2017-12-06T15:44:37.797Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"animatedmodel-does-not-render-on-ios-safari-webgl","category_id":10,"word_count":510,"deleted_at":null,"user_id":800,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3813","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":7,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":7,"username":"eldog","excerpt":"Found a solution. \nSimilar to the Raspberry Pi, the problem is the maximum number of bones. Probably to do with the number of uniforms that iOS safari supports, there’s \u003ca href=\"https://github.com/mrdoob/three.js/issues/7807\" rel=\"nofollow noopener\"\u003ethis issue\u003c/a\u003e on threejs that describes a similar problem they experienced. \nThe change required was in Graphics::GetMaxBones() \u003ca href=\"https://github.com/urho3d/Urho3D/blob/54ed4c917f242817029797a72eb7867ea7ab0247/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L2154\" rel=\"nofollow noopener\"\u003ehere\u003c/a\u003e. \u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":4},{"id":800,"username":"eldog","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/eldog/{size}/720_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":800,"username":"eldog","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/eldog/{size}/720_2.png"},"last_poster":{"id":800,"username":"eldog","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/eldog/{size}/720_2.png"},"links":[{"url":"https://github.com/urho3d/Urho3D/blob/54ed4c917f242817029797a72eb7867ea7ab0247/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L2154","title":"Urho3D/OGLGraphics.cpp at 54ed4c917f242817029797a72eb7867ea7ab0247 · urho3d/Urho3D · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":800,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/mrdoob/three.js/issues/7807","title":"iOS shader error: Too many uniforms · Issue #7807 · mrdoob/three.js · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":800,"domain":"github.com","root_domain":"github.com"}]}}