{"post_stream":{"posts":[{"id":22056,"name":"desmond","username":"desmond","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/e495f1/{size}.png","created_at":"2017-11-28T13:09:17.734Z","cooked":"\u003cp\u003eThis is a critical issue for me because it affects the environment scene significantly. I’m building a 2D environment.\u003c/p\u003e\n\u003cp\u003eWhen my sprites are zoomed in, the overlap seems fine, there’s no dark line. When zoomed out with multiple sprites organized in a grid format, there’re dark lines that appear around each StaticSprite2D object.\u003c/p\u003e\n\u003cp\u003eThe lines are not part of the original resource image for sure. No texture offset.\u003c/p\u003e\n\u003cp\u003eclass: Node, StaticSprite2D, Sprite2D\u003cbr\u003e\nresource file: .png\u003c/p\u003e\n\u003cp\u003eDoes any one know what’s the issue?\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/3/32645a1e3520ff02dace8d01dc2724f5eab4f349.jpg\" alt=\"full\" width=\"690\" height=\"271\"\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-11-28T13:43:52.352Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":31,"reads":38,"readers_count":37,"score":162.6,"yours":false,"topic_id":3798,"topic_slug":"cannot-get-rid-of-lines-around-staticsprite2d","display_username":"desmond","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":881,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22057,"name":"desmond","username":"desmond","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/e495f1/{size}.png","created_at":"2017-11-28T13:42:48.729Z","cooked":"\u003cp\u003eI realized its due the filter we need to set for the resource. Based on some searching, only option I can find is filter=“nearest”, but that affects the quality of image.\u003c/p\u003e\n\u003cp\u003eIs there any way to create a custom filter that retains quality but detects edges accordingly?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-11-28T13:43:24.791Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":38,"readers_count":37,"score":12.6,"yours":false,"topic_id":3798,"topic_slug":"cannot-get-rid-of-lines-around-staticsprite2d","display_username":"desmond","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":881,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22058,"name":"","username":"Victor","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","created_at":"2017-11-28T14:17:05.736Z","cooked":"\u003cp\u003eNot sure if this is available for sprites, but are you able to use Texture2DArrays? That might be a solution.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://discourse.urho3d.io/t/how-to-use-texture2darray/2695\" class=\"onebox\" target=\"_blank\"\u003ehttps://discourse.urho3d.io/t/how-to-use-texture2darray/2695\u003c/a\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-11-28T14:17:05.736Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":3,"reads":38,"readers_count":37,"score":37.6,"yours":false,"topic_id":3798,"topic_slug":"cannot-get-rid-of-lines-around-staticsprite2d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/how-to-use-texture2darray/2695","internal":true,"reflection":false,"title":"How to use Texture2DArray?","clicks":2}],"read":true,"user_title":"","reply_to_user":{"username":"desmond","name":"desmond","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/e495f1/{size}.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":461,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22064,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-11-28T16:21:33.657Z","cooked":"\u003cp\u003eIn order to use linear filtering you have to ensure that your atlas have some gaps between sprites filled with edge color. That would be the simplest workaround\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-11-28T16:21:33.657Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":3,"reads":37,"readers_count":36,"score":37.4,"yours":false,"topic_id":3798,"topic_slug":"cannot-get-rid-of-lines-around-staticsprite2d","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22067,"name":"","username":"orefkov","avatar_template":"/user_avatar/discourse.urho3d.io/orefkov/{size}/1164_2.png","created_at":"2017-11-28T20:05:00.097Z","cooked":"\u003cp\u003ePossibly you use images with transparent areas on edges?\u003cbr\u003e\nIts common problem for that images - sometimes in transparent pixels writed black color in RGB channels, and it blended with edge pixels on filtering.\u003cbr\u003e\nGPU first do filter RGB channels in texture, without respect to alpha channel, and second apply alpha.\u003cbr\u003e\nLook at any editor, which may show RGB channels without alpha in your image, and paint nearest with edges transparent pixels in same color, as non transparent.\u003c/p\u003e\n\u003cp\u003eIn Godot engine exist options on import sprites - “Fix black edges”.\u003cbr\u003e\nSometime I take algoritm from it and implement on AngelScript for Urho3D:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003evoid fixPngColors(const String\u0026amp; name) {\n\tFile file;\n\tfile.Open(name);\n\tImage image;\n\timage.Load(file);\n\tfile.Close();\n\tPrint(\"Load image \" + image.width + \" x \" + image.height);\n\tint repl = 0;\n\tfor (int r = 0; r \u0026lt; image.height; r++) {\n\t\tfor (int c = 0; c \u0026lt; image.width; c++) {\n\t\t\tColor clr = image.GetPixel(c, r);\n\t\t\tif (clr.a \u0026lt; 0.1) {\n\t\t\t\trepl++;\n\t\t\t\tColor nearestColor(0, 0, 0, 0);\n\t\t\t\tint minX = Max(c - 4, 0), maxX = Min(c + 4, image.width),\n\t\t\t\t\tminY = Max(r - 4, 0), maxY = Min(r + 4, image.height),\n\t\t\t\t\tclosestDist = 900;\n\t\t\t\tfor (int x = minX; x \u0026lt; maxX; x++) {\n\t\t\t\t\tfor (int y = minY; y \u0026lt; maxY; y++) {\n\t\t\t\t\t\tint dist = (c - x) * (c - x) + (r - y) * (r - y);\n\t\t\t\t\t\tif (dist \u0026lt; closestDist) {\n\t\t\t\t\t\t\tColor pix = image.GetPixel(x, y);\n\t\t\t\t\t\t\tif (pix.a \u0026gt; 0.2) {\n\t\t\t\t\t\t\t\tnearestColor = pix;\n\t\t\t\t\t\t\t\tclosestDist = dist;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tnearestColor.a = 0;\n\t\t\t\timage.SetPixel(c, r, nearestColor);\n\t\t\t}\n\t\t}\n\t}\n\tif (repl \u0026gt; 0) {\n\t\timage.SavePNG(name.Substring(0, name.length - 4) + \"-1.png\");\n\t\tPrint(\"Saved to \" + name.Substring(0, name.length - 4) + \"-1.png repl=\" + repl);\n\t} else {\n\t\tPrint(\"No replaced\");\n\t}\n}\n\nvoid fixAllPngs() {\n\tPrint(\"Scan files...\");\n\tString path = \"Data/Sprites/\";\n\tauto files = fileSystem.ScanDir(path, \"*.png\", 1, true);\n\tfor (uint i = 0; i \u0026lt; files.length; i++) {\n\t\tfixPngColors(path + files[i]);\n\t}\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt scan pixels in image, and if it alpha \u0026lt; 0.1 - search nearest non alpha pixel, and set color to that color.\u003cbr\u003e\nAlso it zeroed alpha of all pixel, where it less than threshold value.\u003cbr\u003e\nYou can tray play with threshold level of alpha in this code, for get desired result.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-11-28T20:19:30.536Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":34,"readers_count":33,"score":156.8,"yours":false,"topic_id":3798,"topic_slug":"cannot-get-rid-of-lines-around-staticsprite2d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":5}],"moderator":false,"admin":false,"staff":false,"user_id":584,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22104,"name":"desmond","username":"desmond","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/e495f1/{size}.png","created_at":"2017-11-30T16:49:43.020Z","cooked":"\u003cp\u003eTried this and works perfectly \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e thanks so much\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-11-30T16:49:43.020Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":28,"readers_count":27,"score":20.6,"yours":false,"topic_id":3798,"topic_slug":"cannot-get-rid-of-lines-around-staticsprite2d","display_username":"desmond","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://discourse.urho3d.io/t/seams-on-tilemaps/3931/15","internal":true,"reflection":true,"title":"Seams on tilemaps","clicks":0}],"read":true,"user_title":null,"reply_to_user":{"username":"orefkov","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/orefkov/{size}/1164_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":881,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[22056,22057,22058,22064,22067,22104]},"timeline_lookup":[[1,1821],[5,1820],[6,1819]],"suggested_topics":[{"id":7086,"title":"Handling CrowdAgents that get stuck","fancy_title":"Handling CrowdAgents that get stuck","slug":"handling-crowdagents-that-get-stuck","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-04T01:26:23.062Z","last_posted_at":"2021-12-05T04:37:54.143Z","bumped":true,"bumped_at":"2021-12-05T04:37:54.143Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7146,"title":"How create affordable comfortable and modern terrain?","fancy_title":"How create affordable comfortable and modern terrain?","slug":"how-create-affordable-comfortable-and-modern-terrain","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-01-21T15:20:08.910Z","last_posted_at":"2022-01-21T21:51:58.799Z","bumped":true,"bumped_at":"2022-01-21T22:03:14.896Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7074,"title":"First Person and 3rd person camera and water reflections","fancy_title":"First Person and 3rd person camera and water reflections","slug":"first-person-and-3rd-person-camera-and-water-reflections","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-01T18:37:28.669Z","last_posted_at":"2021-12-01T21:19:51.519Z","bumped":true,"bumped_at":"2021-12-01T21:19:51.519Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":158,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":3798,"title":"Cannot get rid of lines around StaticSprite2D","fancy_title":"Cannot get rid of lines around StaticSprite2D","posts_count":6,"created_at":"2017-11-28T13:09:17.661Z","views":1005,"reply_count":2,"like_count":8,"last_posted_at":"2017-11-30T16:49:43.020Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"cannot-get-rid-of-lines-around-staticsprite2d","category_id":10,"word_count":552,"deleted_at":null,"user_id":881,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/32645a1e3520ff02dace8d01dc2724f5eab4f349_2_1024x403.jpg","slow_mode_seconds":0,"draft":null,"draft_key":"topic_3798","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":[{"max_width":null,"max_height":null,"width":2046,"height":806,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/3/32645a1e3520ff02dace8d01dc2724f5eab4f349.jpg"},{"max_width":1024,"max_height":1024,"width":1024,"height":403,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/32645a1e3520ff02dace8d01dc2724f5eab4f349_2_1024x403.jpg"}],"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":881,"username":"desmond","name":"desmond","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/e495f1/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":461,"username":"Victor","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":584,"username":"orefkov","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/orefkov/{size}/1164_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":881,"username":"desmond","name":"desmond","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/e495f1/{size}.png"},"last_poster":{"id":881,"username":"desmond","name":"desmond","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/e495f1/{size}.png"},"links":[{"url":"https://discourse.urho3d.io/t/how-to-use-texture2darray/2695","title":"How to use Texture2DArray?","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":461,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"}]}}