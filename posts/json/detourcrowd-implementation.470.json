{"post_stream": {"posts": [{"id": 2574, "name": "", "username": "scorvi", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png", "created_at": "2014-10-07T11:29:54.000Z", "cooked": "<p>hey,</p>\n<p>i am adding detour crowd component to the engine. I have a running sample but i did not create a DetourCrowd lib.<br>\ni want to add this to the engine core libs but DetourCrowd needs detour and i dont know how to add it to the cmake file \u2026</p>\n<p>my cmake file is in Urho3DDetour\\Source\\ThirdParty\\DetourCrowd and looks like this:</p>\n<p>[code]# Define target name<br>\nset (TARGET_NAME DetourCrowd)</p>\n<h1>Define source files</h1>\n<p>file (GLOB CPP_FILES source/<em>.cpp)<br>\nfile (GLOB H_FILES include/</em>.h)<br>\nset (SOURCE_FILES ${CPP_FILES} ${H_FILES})</p>\n<h1>Define dependency libs</h1>\n<p>set (INCLUDE_DIRS_ONLY include)</p>\n<h1>Setup target</h1>\n<p>setup_library ()<br>\n[/code]</p>\n<p>i am compiling with visual studio and i get now the error :</p>\n<p><code>Fehler\t1\terror C1083: Datei (Include) kann nicht ge?ffnet werden: \"DetourNavMeshQuery.h\": No such file or directory\\Urho3DDetour\\Source\\ThirdParty\\DetourCrowd\\include\\DetourCrowd.h\t22\t1\tDetourCrowd\nFehler\t2\terror C1083: Datei (Include) kann nicht ge?ffnet werden: \"DetourNavMeshQuery.h\": No such file or directory\t\\Urho3DDetour\\Source\\ThirdParty\\DetourCrowd\\include\\DetourLocalBoundary.h\t22\t1\tDetourCrowd\nFehler\t3\terror C1083: Datei (Include) kann nicht ge?ffnet werden: \"DetourCommon.h\": No such file or directory\t\\Urho3DDetour\\Source\\ThirdParty\\DetourCrowd\\source\\DetourObstacleAvoidance.cpp\t20\t1\tDetourCrowd\nFehler\t4\terror C1083: Datei (Include) kann nicht ge?ffnet werden: \"DetourNavMeshQuery.h\": No such file or directory\t\\Urho3DDetour\\Source\\ThirdParty\\DetourCrowd\\include\\DetourPathCorridor.h\t22\t1\tDetourCrowd\nFehler\t5\terror C1083: Datei (Include) kann nicht ge?ffnet werden: \"DetourNavMesh.h\": No such file or directory\t\\Urho3DDetour\\Source\\ThirdParty\\DetourCrowd\\include\\DetourPathQueue.h\t22\t1\tDetourCrowd\nFehler\t6\terror C1083: Datei (Include) kann nicht ge?ffnet werden: \"DetourCommon.h\": No such file or directory \\Urho3DDetour\\Source\\ThirdParty\\DetourCrowd\\source\\DetourProximityGrid.cpp\t22\t1\tDetourCrowd\n</code></p>", "post_number": 1, "post_type": 1, "updated_at": "2017-01-02T01:00:41.478Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 153, "reads": 14, "readers_count": 13, "score": 767.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 20, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2575, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2014-10-07T12:20:56.000Z", "cooked": "<p>You should be able to add Detour\u2019s include dir to the \u201cset (INCLUDE_DIRS_ONLY)\u201d statement, using a relative path like \u2026/Detour/include.</p>", "post_number": 2, "post_type": 1, "updated_at": "2017-01-02T01:00:41.549Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 13, "readers_count": 12, "score": 2.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2589, "name": "", "username": "scorvi", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png", "created_at": "2014-10-08T11:52:17.000Z", "cooked": "<p>yes thx that did it ^^</p>\n<p>i have now extended the navigation sample with detourcrowd and it works <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"><br>\ncreated comonents are:<br>\nDetourCrowdManager<br>\nDetourCrowdAgent</p>\n<p>i implemented DetourCrowd like the Physics components.<br>\nyou have to create  DetourCrowdManager  to the root scene node (like PhysicsWorld) and you can add DetourCrowdAgent to your nodes (like RigidBody).<br>\nBut you can also only use DetourCrowdManager::AddAgent function to get the agents id. With the id you can call  DetourCrowdManager::GetAgentPosition(id) \u2026 so that you dont have to use the  DetourCrowdAgent component.</p>\n<p>i am also updating the NavigationMesh with NavmeshPartitionTypes and a add the debug functions memononen used in his demo, for better debuging ^^<br>\nafter that i will add a AnnotationBuilder component to create cover points and Jump Links (<a href=\"http://digestingduck.blogspot.fi/2011/07/paris-gameai-conference-2011-slides-and.html\" rel=\"nofollow noopener\">digestingduck.blogspot.fi/2011/0 \u2026 s-and.html</a>)</p>\n<p>can that be added to the engine (after code cleanup) ?</p>", "post_number": 3, "post_type": 1, "updated_at": "2017-01-02T01:00:42.666Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 13, "readers_count": 12, "score": 2.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://digestingduck.blogspot.fi/2011/07/paris-gameai-conference-2011-slides-and.html", "internal": false, "reflection": false, "title": "Digesting Duck: Paris Game/AI Conference 2011 Slides and Demo", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 20, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2593, "name": "", "username": "scorvi", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png", "created_at": "2014-10-08T12:51:11.000Z", "cooked": "<p>so added the new navmesh debug view \u2026</p>\n<p>but i have now another problem,<br>\nif i add this line in NavigationMesh::RegisterObject(Context* context) :</p>\n<pre><code class=\"lang-auto\">ENUM_ACCESSOR_ATTRIBUTE(NavigationMesh, \"Partition Type\", GetPartitionType, SetPartitionType, NavmeshPartitionType, navmeshPartitionTypeNames, NAVMESH_PARTITION_WATERSHED, AM_DEFAULT);</code></pre>\n<p>the urho3d lib compiles but the navigation sample does not. it gets some kind of link error, does not now NavmeshPartitionType \u2026 but without that line it compiles !</p>\n<p><a href=\"http://imgur.com/kCBpcOQ\" data-bbcode=\"true\" rel=\"nofollow noopener\"><img src=\"http://i.imgur.com/kCBpcOQl.jpg\" alt=\"\" width=\"640\" height=\"480\"></a><br>\n<a href=\"http://imgur.com/nDTUFh3\" data-bbcode=\"true\" rel=\"nofollow noopener\"><img src=\"http://i.imgur.com/nDTUFh3l.jpg\" alt=\"\" width=\"640\" height=\"480\"></a></p>", "post_number": 4, "post_type": 1, "updated_at": "2017-01-02T01:00:42.957Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 5, "reads": 10, "readers_count": 9, "score": 27.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://imgur.com/kCBpcOQ", "internal": false, "reflection": false, "title": "Imgur: The most awesome images on the Internet", "clicks": 1}, {"url": "http://imgur.com/nDTUFh3", "internal": false, "reflection": false, "title": "Imgur: The most awesome images on the Internet", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 20, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2595, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2014-10-08T15:28:54.000Z", "cooked": "<p>Yes, when you make a pull request it will be added (pending any cleanup or fixes) and it completes one of the issues we have marked on the tracker.</p>\n<p>If the NavmeshPartitionType is an enum defined in the bowels of Detour I recommend to change the type in the NavigationMesh public API to int or unsigned if possible and cast to the Detour type only internally.</p>", "post_number": 5, "post_type": 1, "updated_at": "2017-01-02T01:00:43.104Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 9, "readers_count": 8, "score": 6.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2605, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2014-10-09T04:07:25.000Z", "cooked": "<p>I don\u2019t know how to express this properly but the screenshots look so \u201cdelicious\u201d <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>", "post_number": 6, "post_type": 1, "updated_at": "2017-01-02T01:00:43.900Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2613, "name": "", "username": "scorvi", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png", "created_at": "2014-10-09T16:25:01.000Z", "cooked": "<aside class=\"quote no-group\">\n<blockquote>\n<p>If the NavmeshPartitionType is an enum defined in the bowels of Detour I recommend to change the type in the NavigationMesh public API to int or unsigned if possible and cast to the Detour type only internally.</p>\n</blockquote>\n</aside>\n<p>the enum is defined in NavigationMesh.h/cpp so i added</p>\n<p><code> \n const char* navmeshPartitionTypeNames[] =\n {\n \"watershed\",\n \"monotone\",\n \"layers\",\n 0\n };\ntemplate&lt;&gt; NavmeshPartitionType Variant::Get&lt;NavmeshPartitionType&gt;() const\n {\n return (NavmeshPartitionType)GetInt();\n }</code></p>\n<p>and it works now ^^</p>\n<aside class=\"quote no-group\">\n<blockquote>\n<p>I don\u2019t know how to express this properly but the screenshots look so \u201cdelicious\u201d <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>\n</blockquote>\n</aside>\n<p>yeah, the new debug view from memononen is nice, but i think it needs a staticModel or customGeometry implentation for speed and so that it can be culled.<br>\nI added the annotation builder but it does not find all jump down links \u2026<br>\nAnd the first iteration is online <a href=\"https://github.com/scorvi/Urho3D/tree/DetourCrowd\" rel=\"nofollow noopener\">github.com/scorvi/Urho3D/tree/DetourCrowd</a></p>\n<p><a href=\"http://imgur.com/3KGhszO\" data-bbcode=\"true\" rel=\"nofollow noopener\"><img src=\"http://i.imgur.com/3KGhszOl.jpg\" alt=\"\" width=\"640\" height=\"480\"></a></p>\n<p><a href=\"http://imgur.com/qeVQGHu\" data-bbcode=\"true\" rel=\"nofollow noopener\"><img src=\"http://i.imgur.com/qeVQGHul.jpg\" alt=\"\" width=\"640\" height=\"480\"></a></p>", "post_number": 7, "post_type": 1, "updated_at": "2017-01-02T01:00:44.492Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://imgur.com/3KGhszO", "internal": false, "reflection": false, "title": "Imgur: The most awesome images on the Internet", "clicks": 2}, {"url": "https://github.com/scorvi/Urho3D/tree/DetourCrowd", "internal": false, "reflection": false, "clicks": 1}, {"url": "http://imgur.com/qeVQGHu", "internal": false, "reflection": false, "title": "Imgur: The most awesome images on the Internet", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 20, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2618, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2014-10-10T05:47:34.000Z", "cooked": "<p>Great job so far scorvi, thanks for sharing  <img src=\"https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=5\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\"></p>\n<p>I\u2019ve had to fix 3 CMakeLists (due to inconsistant use of lower/upper case for source folders\u2019 name) and DetourCrowdManager.cpp to make it work, maybe fork is not up-to-date.</p>", "post_number": 8, "post_type": 1, "updated_at": "2017-01-02T01:00:44.915Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2621, "name": "", "username": "scorvi", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png", "created_at": "2014-10-10T09:02:18.000Z", "cooked": "<p>[quote=\u201cMike\u201d]Great job so far scorvi, thanks for sharing  <img src=\"https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=9\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\"></p>\n<p>I\u2019ve had to fix 3 CMakeLists (due to inconsistant use of lower/upper case for source folders\u2019 name) and DetourCrowdManager.cpp to make it work, maybe fork is not up-to-date.[/quote]</p>\n<p>hmm i just updated the source folder. can you check if the the issues are no resolved or can you say what you edited ?</p>\n<p>so i just added the navigation agent and a crowd debug view</p>\n<p><a href=\"http://imgur.com/Y9K8tsn\" data-bbcode=\"true\" rel=\"nofollow noopener\"><img src=\"http://i.imgur.com/Y9K8tsnl.jpg\" alt=\"\" width=\"640\" height=\"480\"></a><br>\n<a href=\"http://imgur.com/9IL02fh\" data-bbcode=\"true\" rel=\"nofollow noopener\"><img src=\"http://i.imgur.com/9IL02fhl.jpg\" alt=\"\" width=\"640\" height=\"480\"></a></p>", "post_number": 9, "post_type": 1, "updated_at": "2017-01-02T01:00:45.146Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://imgur.com/Y9K8tsn", "internal": false, "reflection": false, "title": "Imgur: The most awesome images on the Internet", "clicks": 0}, {"url": "http://imgur.com/9IL02fh", "internal": false, "reflection": false, "title": "Imgur: The most awesome images on the Internet", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 20, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2623, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2014-10-10T09:18:01.000Z", "cooked": "<p>I\u2019ll send you a pull-request so you will be able to see the modifications, maybe some compilers are not case-sensitive.</p>", "post_number": 10, "post_type": 1, "updated_at": "2017-01-02T01:00:45.333Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2672, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2014-10-19T02:46:59.000Z", "cooked": "<p>I am pretty eager to see this go to master. Looking good.</p>", "post_number": 11, "post_type": 1, "updated_at": "2017-01-02T01:00:49.135Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2673, "name": "", "username": "scorvi", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png", "created_at": "2014-10-19T09:02:17.000Z", "cooked": "<p>hey<br>\ni think it is ready to go in the master branch but it is not complete \u2026  i put some todos in there but they are not important one.  so if someone can look at the code and say it is ok i will make a pull request.<br>\nhmm  the annotation builder is not ready so it will not upload it. i also made a sample project.</p>\n<p>hmm there was a problem with lower/upper case for include/source folders\u2019 names so i changed them to lower cases but github does not update them :-/ how can i update/change folder names ?</p>", "post_number": 12, "post_type": 1, "updated_at": "2017-01-02T01:00:49.212Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 20, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2674, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2014-10-19T10:26:52.000Z", "cooked": "<p>I think it might still need a little bit of work before it can be pulled into master. At the very least, it would need the Script and LuaScript bindings. Also, I suspect cadaver would probably want to see vecmath.h and vecmath.cpp replaced. I recommend you check the contribution checklist at <a href=\"http://urho3d.github.io/documentation/HEAD/_contribution_checklist.html\" rel=\"nofollow noopener\">urho3d.github.io/documentation/H \u2026 klist.html</a> before you do the pull request, just to make sure you\u2019ve gotten everything in order.</p>", "post_number": 13, "post_type": 1, "updated_at": "2017-01-02T01:00:49.272Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://urho3d.github.io/documentation/HEAD/_contribution_checklist.html", "internal": false, "reflection": false, "title": "Urho3D - Documentation - Contribution checklist", "clicks": 2}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2683, "name": "", "username": "scorvi", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png", "created_at": "2014-10-20T09:32:15.000Z", "cooked": "<p>ahh ok thx for the link. i did not see that documentation \u2026</p>", "post_number": 14, "post_type": 1, "updated_at": "2017-01-02T01:00:50.006Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 10, "readers_count": 9, "score": 7.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 20, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2687, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2014-10-21T05:57:00.000Z", "cooked": "<p>I\u2019ve forked your repo and am currently doing some stuff, including writing bindings. I can send you a pull request when I\u2019m done, if you like.</p>", "post_number": 15, "post_type": 1, "updated_at": "2017-01-02T01:00:50.416Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 2998, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2014-11-07T10:33:44.000Z", "cooked": "<p>Hey Scorvi and Joshua,<br>\nAre you still working on DetourCrowd?</p>", "post_number": 16, "post_type": 1, "updated_at": "2017-01-02T01:01:12.996Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3006, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2014-11-07T17:14:11.000Z", "cooked": "<p>I am kinda/sorta still working on it, as I can in between 12 hr shifts at work. For the immediate future, I plan to read the Detour Crowd docs through again to see where I can best make some changes. I\u2019ve got the Lua and Angelscript bindings started for DetourCrowdManager and NavigationAgent, and have made only a few slight changes to what scorvi originally wrote to facilitate the bindings. You can check out what I\u2019ve got so far at my fork: <a href=\"https://github.com/JTippetts/Urho3D/tree/DetourCrowd\" rel=\"nofollow noopener\">github.com/JTippetts/Urho3D/tree/DetourCrowd</a></p>\n<p>The AngelScript sample is the most complete, and in fact I haven\u2019t started a Lua sample or kept the C++ sample up-to-date with what I\u2019ve been doing. I\u2019m still a long way from where I want to get with things, but I\u2019ll keep plugging away.</p>", "post_number": 17, "post_type": 1, "updated_at": "2017-01-02T01:01:13.510Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/JTippetts/Urho3D/tree/DetourCrowd", "internal": false, "reflection": false, "title": "GitHub - JTippetts/Urho3D at DetourCrowd", "clicks": 4}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3008, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2014-11-07T18:52:58.000Z", "cooked": "<p>Thanks for reply Joshua.<br>\nFrom gamedev I\u2019ve seen that your new job has tough rythms.<br>\nLet me know if I can be of any help, for example for the lua sample and updating the C++ sample.</p>", "post_number": 18, "post_type": 1, "updated_at": "2017-01-02T01:01:13.643Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3020, "name": "", "username": "Azalrion", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/f04885/{size}.png", "created_at": "2014-11-08T17:08:44.000Z", "cooked": "<p>It might be worthwhile on adding the masagroup (<a href=\"https://github.com/masagroup/recastdetour\" rel=\"nofollow noopener\">github.com/masagroup/recastdetour</a>) improvements to DetourCrowd to provide specific navigation behaviors instead of just pure path following. Happy to do so and create a pull request if no one has any objections.</p>", "post_number": 19, "post_type": 1, "updated_at": "2017-01-02T01:01:14.445Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 7, "readers_count": 6, "score": 1.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/masagroup/recastdetour", "internal": false, "reflection": false, "title": "GitHub - masagroup/recastdetour: Navigation engine for games and simulations", "clicks": 3}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 8, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3021, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2014-11-08T22:42:49.000Z", "cooked": "<p>I notice that the base Recast/Detour git repo has recent activity, but the Masa group one last had a commit a year ago. I, personally, have no objection to the switch if it adds functionality, as long as we don\u2019t get stuck in an abandoned fork that isn\u2019t going anywhere.</p>", "post_number": 20, "post_type": 1, "updated_at": "2017-01-02T01:01:14.516Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3023, "name": "", "username": "Azalrion", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/f04885/{size}.png", "created_at": "2014-11-09T00:28:54.000Z", "cooked": "<p>Seems most of the changes in the main repo are to do with bug fixes and filter changes, should be fairly simple to rebase the masa group work onto the main repo to keep both sets of changes, the major difference is that collision avoidance is not done by default in masa group but needs to be chained with other behaviors and so that requires a fairly large change to DetourCrowd, would also mean we would have to keep the Urho version manually updated.</p>", "post_number": 21, "post_type": 1, "updated_at": "2017-01-02T01:01:14.638Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 8, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3029, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2014-11-09T15:29:06.000Z", "cooked": "<p>Okay, that\u2019s fine with me. Although since this is scorvi\u2019s baby, maybe he\u2019d like to weigh in. I\u2019m guessing, too, that we\u2019ll probably need to do some redesigning of the component classes to take advantage of it. Perhaps we should take this to a thread in Developer Talk or something.</p>", "post_number": 22, "post_type": 1, "updated_at": "2017-01-02T01:01:15.078Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3117, "name": "", "username": "Azalrion", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/f04885/{size}.png", "created_at": "2014-11-15T11:36:29.000Z", "cooked": "<p>Spent some time looking at this some more while off work (slow going with only one hand for typing), not worth moving to masa crowd at the moment it would be a complete re-write. Instead just working on finishing and tidying the current impl up with things such as per agent flags, height, radius, more pathing events and getting it to play nice with physics. I\u2019ll add a branch to the main urho repo soon for everyone to play with.</p>\n<p>[video]<a href=\"https://www.youtube.com/watch?v=BpB_Ar31O8I%5B/video%5D\" rel=\"nofollow noopener\">https://www.youtube.com/watch?v=BpB_Ar31O8I[/video]</a></p>", "post_number": 23, "post_type": 1, "updated_at": "2017-01-02T01:01:21.934Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://www.youtube.com/watch?v=BpB_Ar31O8I%5B/video%5D", "internal": false, "reflection": false, "title": "Urho3D Navigation Agents - YouTube", "clicks": 1}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 8, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3120, "name": "", "username": "OvermindDL1", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/o/a8b319/{size}.png", "created_at": "2014-11-16T00:17:12.000Z", "cooked": "<p>Looks fascinating, looking forward.</p>", "post_number": 24, "post_type": 1, "updated_at": "2017-01-02T01:01:22.163Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 42, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 3122, "name": "hd_", "username": "hdunderscore", "avatar_template": "/user_avatar/discourse.urho3d.io/hdunderscore/{size}/1151_2.png", "created_at": "2014-11-16T01:27:46.000Z", "cooked": "<p>Very cool !</p>", "post_number": 25, "post_type": 1, "updated_at": "2017-01-02T01:01:22.315Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "hd_", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 114, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 4186, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-01-18T09:38:51.000Z", "cooked": "<p>Any update on this work? It has been months since the last post.</p>", "post_number": 26, "post_type": 1, "updated_at": "2017-01-02T01:02:44.585Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5690, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-04-07T18:52:08.000Z", "cooked": "<p>Awesome, great work!<br>\nIs it going into master also ?</p>", "post_number": 27, "post_type": 1, "updated_at": "2017-01-02T01:04:35.291Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5696, "name": "", "username": "GoogleBot42", "avatar_template": "/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png", "created_at": "2015-04-08T01:36:35.000Z", "cooked": "<p>Great work!  Looks amazing!   <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>", "post_number": 28, "post_type": 1, "updated_at": "2017-01-02T01:04:35.709Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 197, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5733, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-04-11T01:13:44.000Z", "cooked": "<p>I have been looking forward for this. Thanks for sharing it.</p>", "post_number": 29, "post_type": 1, "updated_at": "2017-01-02T01:04:38.402Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5736, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-04-11T04:06:14.000Z", "cooked": "<p>That makes two of us, I am no CMake guru too. I only know enough of the tool to use it to scratch my own itch. I just have a quick look on your Urho3D fork and I agree with you that this approach will make the future update harder than necessary. What kind of problem you encounter when trying to add those sub-libs separately as recommended by memononen. There should be no problem to modify the CMakeLists.txt for one sub-lib to depend on the include dir from the other sub-lib.</p>", "post_number": 30, "post_type": 1, "updated_at": "2017-01-02T01:04:38.643Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 10, "readers_count": 9, "score": 7.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5737, "name": "", "username": "TikariSakari", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f4b2a3/{size}.png", "created_at": "2015-04-11T09:40:03.000Z", "cooked": "<p>I\u2019ve been trying to have some sort of obstacle like thing with the urho and navmeshes, but looks like this would make it a lot easier for moving objects than having to constantly rebuild the navmesh. So big thanks for this.</p>\n<p>I tested out the example, and I noticed that the characters do not move that close to the point where I actually click. I feel like in general it was bottom left corner where a crowd settled to considering where my mouse was, not center.</p>\n<p>On the screenshot the cursor in middle of the screen came from taking the screenshot, so the \u201creal\u201d cursor is the other one.<br>\n<a href=\"http://i.imgur.com/zToLG0e.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\">http://i.imgur.com/zToLG0e.jpg</a><br>\nI guess this line is the culpirit</p>\n<pre><code class=\"lang-auto\">agent-&gt;SetMoveTarget(pathPos + Vector3(Random(7.0f), 0.0f, Random(7.0f)));</code></pre>\n<p>Also it feels bit odd that even if I only have one jack moving, it still goes off from the point of where I click, but that is more of an example thing rather than a bug with the detour crowd.</p>\n<p>Another thing that I noticed is that there seems to be some sort of easing with the moving. By easing I mean that the jacks \u201cdrive\u201d past the target point, then go back few steps. As far as I looked at the example, I didn\u2019t see this behavior being set, so this is by default I assume?.  I hope that there is a way to set this to a linear interpolation.</p>\n<p>Edit: Also I was curious with the example what would happen if I tried to move the characters into top right corner of the scene. Since it sets the movement points to location + bit of randomness. It turns out that if it doesn\u2019t random a point that actually exists on the plane, those units do not move at all.</p>", "post_number": 31, "post_type": 1, "updated_at": "2017-01-02T01:04:38.703Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://i.imgur.com/zToLG0e.jpg", "internal": false, "reflection": false, "title": "zToLG0e.jpg", "clicks": 1}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 205, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5840, "name": "", "username": "thebluefish", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "created_at": "2015-04-20T16:15:08.000Z", "cooked": "<p>Any estimate for when this gets merged with the urho3d master branch?</p>\n<p>It looks like I\u2019ve ran across a couple of issues with this. They seem to revolve around the CrowdAgent component. Right now I\u2019m saving out a node with everything configured, and then instantiating it later.</p>\n<p>The first issue is that when I load the node xml, and then save it back out, the CrowdAgent no longer moves. ResourceCache is set to auto-refresh the files. I am calling the following, which is still being called every frame:</p>\n<pre><code class=\"lang-auto\">Urho3D::CrowdAgent* agent = GetNode()-&gt;GetComponent&lt;Urho3D::CrowdAgent&gt;();\n\t\t\tagent-&gt;SetMoveTarget(_playerNode-&gt;GetPosition());</code></pre>\n<p>The second issue is what happens when I don\u2019t do that. If I simply load the game and play it without saving the xml, then the CrowdAgent properly moves around. However all agents start at position (0,0,0). This happens even though I\u2019m creating the node at a specific position before-hand.</p>\n<p>If I load the node, then save it out (reproducing the first issue), I can see the agents positioned properly.</p>\n<p>Edit:</p>\n<p>It appears that the second issue comes from the fact that the node\u2019s position is set after all of its components are added when calling InstantiateXML. Debugging shows that the node is created, the component added, the agent added to the crowd manager, then the node\u2019s position is set. I have currently worked around this by using the following code:</p>\n<pre><code class=\"lang-auto\">Urho3D::XMLFile* file = cache-&gt;GetResource&lt;Urho3D::XMLFile&gt;(\"Objects/Enemy.xml\");\n\n\t\t\tUrho3D::DynamicNavigationMesh* navMesh = GetComponent&lt;Urho3D::DynamicNavigationMesh&gt;();\n\t\t\tUrho3D::Vector3 position = navMesh-&gt;GetRandomPoint();\n\t\t\tUrho3D::Node* node = GetScene()-&gt;InstantiateXML(file-&gt;GetRoot(), position, GetNode()-&gt;GetRotation());\n\n\t\t\tUrho3D::CrowdAgent* agent = node-&gt;GetComponent&lt;Urho3D::CrowdAgent&gt;();\n\t\t\tif (agent)\n\t\t\t{\n\t\t\t\tagent-&gt;SetEnabled(false);\n\t\t\t\tnode-&gt;SetPosition(position);\n\t\t\t\tagent-&gt;SetEnabled(true);\n\t\t\t}</code></pre>\n<p>Edit:</p>\n<p>It looks like the first issue is related to the fact that DetourCrowdManager is automatically created when loading the node in the editor. Apparently having this component already in the scene appears to break things.</p>", "post_number": 32, "post_type": 1, "updated_at": "2017-01-02T01:04:46.542Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 13, "readers_count": 12, "score": 2.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 80, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5857, "name": "", "username": "thebluefish", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "created_at": "2015-04-21T16:14:53.000Z", "cooked": "<p>For the first issue - The DetourCrowdManager and DynamicNavigationMesh are both created in the editor. The CrowdAgent is created during runtime by a scene-level component. I actually serialize out the editor scene and then serialize it back in when testing the game, and it still breaks if DetourCrowdManager is present initially.</p>", "post_number": 33, "post_type": 1, "updated_at": "2017-01-02T01:04:47.926Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 80, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5867, "name": "", "username": "thebluefish", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "created_at": "2015-04-22T21:43:32.000Z", "cooked": "<p>I have been playing with this for a few days now. I have found a few issues:</p>\n<ul>\n<li>There is a slow down after a number of agents has been created. I find that around 190-200 (~100 in Debug) agents with a move target begins to show some slowdown at around 30 FPS on this PC. At around 250-300 (~120-150) agents, that drops to &lt;1 FPS on the same machine. If there aren\u2019t any move targets, then there\u2019s no slow down. I have reproduced this with nodes with only the CrowdAgent component in order to rule out other components (ParticleEmitter, etc\u2026) being the problem.</li>\n</ul>\n<p>It would also be nice to have some additional functions in DetourCrowdManager. In particle, getset the max number of agents, and getting a list of agents would be nice. I\u2019ve implemented these in my branch in a dirty way for now though.</p>", "post_number": 34, "post_type": 1, "updated_at": "2017-01-02T01:04:48.827Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 80, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 5871, "name": "", "username": "friesencr", "avatar_template": "/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png", "created_at": "2015-04-23T03:51:37.000Z", "cooked": "<p>If I recall from the docs, 1ms / 30 agents from just detour crowd.</p>", "post_number": 35, "post_type": 1, "updated_at": "2017-01-02T01:04:49.165Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 12, "readers_count": 11, "score": 2.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Core developer", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 15, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6033, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2015-05-06T02:01:06.000Z", "cooked": "<p>Just saw that this has been pulled into master. Thanks a lot for continuing work on this thing.</p>", "post_number": 36, "post_type": 1, "updated_at": "2017-01-02T01:05:01.976Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 11, "readers_count": 10, "score": 7.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6034, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-06T02:40:00.000Z", "cooked": "<p>I have said it in my earlier post but thanks again for your awesome work. BTW, the HTML5 version of the new sample is uploaded this morning. <a href=\"http://urho3d.github.io/samples/39_CrowdNavigation.html\">urho3d.github.io/samples/39_CrowdNavigation.html</a></p>", "post_number": 37, "post_type": 1, "updated_at": "2017-01-02T01:05:02.039Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 13, "readers_count": 12, "score": 7.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://urho3d.github.io/samples/39_CrowdNavigation.html", "internal": false, "reflection": false, "title": "Emscripten-Generated Code", "clicks": 1}], "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6049, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-07T02:57:32.000Z", "cooked": "<p>I made a line comment in the GitHub on these lines of code: <a href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Navigation/DetourCrowdManager.cpp#L504-L507\">github.com/urho3d/Urho3D/blob/m \u2026 #L504-L507</a>. In my opinion, I think navigation should not depend on physics. Any objection to change the event type from E_PHYSICSPRESTEP (fixed-rate timestep) to, say, E_SCENESUBSYSTEMUPDATE (variable-rate timestep)? It not only decouples Detour crowd navigation from Physics subsystem but also makes crowd manager to update at the same (variable) rate as the DynamicNavigationMesh component. If there is no objection then I will include this change in my next commit which mainly consists of minor code cleanup due to code convention.</p>", "post_number": 38, "post_type": 1, "updated_at": "2017-01-02T01:05:03.238Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 14, "readers_count": 13, "score": 2.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Navigation/DetourCrowdManager.cpp#L504-L507", "internal": false, "reflection": false, "clicks": 1}], "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6051, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-07T04:56:39.000Z", "cooked": "<p>OK. I will include that change in my next commit. About the agent being \u201clocked\u201d, yes, I am observing that too. The locked agent can be produced in the manner you just mentioned and also when spawning too many Jacks on a same tight spot (i.e. when it is spawned on top of another or on top a cube).</p>", "post_number": 39, "post_type": 1, "updated_at": "2017-01-02T01:05:03.383Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 14, "readers_count": 13, "score": 2.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6056, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2015-05-07T08:46:58.000Z", "cooked": "<p>Ah yes, moving away from FixedUpdate is good for at least two additional reasons:</p>\n<ol>\n<li>No spiral-of-death if navigation would suddenly take a lot of time</li>\n<li>Physics interpolates transforms, while applying the navigation positions doesn\u2019t, so it will look smoother</li>\n</ol>", "post_number": 40, "post_type": 1, "updated_at": "2017-01-02T01:05:03.709Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 15, "readers_count": 14, "score": 3.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6063, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-07T15:26:05.000Z", "cooked": "<p>One more other minor thing. There is inconsistency (at least to me) in naming the member variable/method for \u201carea type/id\u201d in different classes. I think we should either stick to \u201carea id\u201d following the internal implementation of DetourCrowd or stick to \u201carea type\u201d through out Urho3D API.</p>", "post_number": 41, "post_type": 1, "updated_at": "2017-01-02T01:05:04.231Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 14, "readers_count": 13, "score": 2.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6065, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-07T16:11:05.000Z", "cooked": "<p>I find \u2018id\u2019 more intuitive than \u2018type\u2019, for which I was mistakenly expecting an enum.</p>", "post_number": 42, "post_type": 1, "updated_at": "2017-01-02T01:05:04.370Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 13, "readers_count": 12, "score": 2.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6071, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-08T04:23:51.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n Sinoid:</div>\n<blockquote>\n<p>Was the cube case you saw in the angelscript example? For some dumb reason I set the spawned Jacks\u2019 Y position to 0 instead of using the exact point from the nav mesh. That causes the agents to be hidden inside the boxes, the other examples don\u2019t appear to suffer this (at least from a quick look).</p>\n</blockquote>\n</aside>\n<p>I believe I encountered this on native version. I think it has something to do with the cube size (or more precisely its height). On a taller cube the agent behaves normally, although Jack does not know how to climb down <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\">, it is not locked in place. On a shorter cube, however, the agent is locked. I think it has something to do with the nav mesh itself. It appears that any agents spawned in between the floor and a certain height-threshold is locked.</p>\n<p>[quote=\u201cSinoid\u201d]Because the agent\u2019s state could become invalid (and therefore frozen) in different ways (a very large obstacle was placed right on top of it, it was knocked far off the navmesh, etc) it\u2019s probably best to leave the handling of that to the user.</p>\n<p>The next viable option for simple cases would be to allow for a \u201ccorrection margin\u201d in which the agent would snap to the nearest point on the navmesh if within the range of the margin - though you could accomplish the same thing according to specific needs by handling the event.[/quote]<br>\nI am totally agree with you that it would be best to leave the handling of such case to the user (app-specific). For a Lemmings-type game, one would probably just kills the agent. It would be great if we have a unique event type for this situation or we have an indicator flag for this somewhere. We can then demonstrate how to handle such event in the simplest case as you mentioned above in the sample just as an example.</p>", "post_number": 43, "post_type": 1, "updated_at": "2017-01-02T01:05:04.771Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 14, "readers_count": 13, "score": 2.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6170, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-18T16:19:37.000Z", "cooked": "<p>Does anybody successfully tested off-mesh connections?</p>", "post_number": 44, "post_type": 1, "updated_at": "2017-01-02T01:05:12.104Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6172, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-18T17:58:08.000Z", "cooked": "<p>Thanks Sinoid, I\u2019ve tried from code to jump from one box to another and failed. I\u2019ll try to replicate your experiment.<br>\nIn my experiment I\u2019ve created OffMeshConnection before building, after looking at NavigationMesh.cpp code.</p>\n<p>Just to be sure, what are your \u2018start\u2019 node (holding the component) and your end node? Does radius matter?</p>", "post_number": 45, "post_type": 1, "updated_at": "2017-01-02T01:05:12.239Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 12, "readers_count": 11, "score": 2.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6173, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-18T19:01:48.000Z", "cooked": "<p>Ah! It didn\u2019t hook (white debug geometry). I\u2019ll test this immediately! Many thanks for these insights Sinoid  <img src=\"https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=5\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\"></p>", "post_number": 46, "post_type": 1, "updated_at": "2017-01-02T01:05:12.306Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6175, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-18T20:14:43.000Z", "cooked": "<p>Finally I used FindNearestPoint() to set my nodes\u2019 position and it works perfectly  <img src=\"https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=5\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\"><br>\nThanks again for your detailed great insights.</p>\n<p><a class=\"mention\" href=\"/u/cadaver\">@Cadaver</a>, maybe we could add this to the samples (15 and/or 39), it only costs a few lines of code to create 2 nodes  <img src=\"https://emoji.discourse-cdn.com/twitter/unamused.png?v=5\" title=\":unamused:\" class=\"emoji\" alt=\":unamused:\"></p>", "post_number": 47, "post_type": 1, "updated_at": "2017-01-02T01:05:12.432Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6178, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2015-05-19T07:34:37.000Z", "cooked": "<p>Yes, feel free to add.</p>", "post_number": 48, "post_type": 1, "updated_at": "2017-01-02T01:05:12.641Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6179, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-19T07:41:13.000Z", "cooked": "<p>Great, thanks.</p>", "post_number": 49, "post_type": 1, "updated_at": "2017-01-02T01:05:12.716Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 15, "readers_count": 14, "score": 3.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6181, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-19T09:54:43.000Z", "cooked": "<p>I\u2019ve added off-mesh connections to sample 39. Overall it works great, but sometimes it fails:</p>\n<ul>\n<li>although hooking correctly, a few boxes are still non climbable</li>\n<li>after climbing on the tallest box, agent can\u2019t go down</li>\n</ul>\n<p>I also noticed that when removing a moving agent, its target path remains (in debug draw) when creating a new agent. Maybe some agent data needs to be cleared when removing an agent.</p>\n<p>[spoiler][code]<br>\n\u2013 CrowdNavigation example.<br>\n\u2013 This sample demonstrates:<br>\n\u2013     - Generating a dynamic navigation mesh into the scene<br>\n\u2013     - Performing path queries to the navigation mesh<br>\n\u2013     - Adding and removing obstacles at runtime from the dynamic mesh<br>\n\u2013     - Adding and removing crowd agents at runtime<br>\n\u2013     - Raycasting drawable components<br>\n\u2013     - Crowd movement management<br>\n\u2013     - Accessing crowd agents with the crowd manager<br>\n\u2013     - Using off-mesh connections to make boxes climbable</p>\n<p>require \u201cLuaScripts/Utilities/Sample\u201d</p>\n<p>local crowdManager = nil<br>\nlocal agents = {}</p>\n<p>function Start()<br>\n\u2013 Execute the common startup for samples<br>\nSampleStart()</p>\n<pre><code>-- Create the scene content\nCreateScene()\n\n-- Create the UI content\nCreateUI()\n\n-- Setup the viewport for displaying the scene\nSetupViewport()\n\n-- Hook up to the frame update and render post-update events\nSubscribeToEvents()\n</code></pre>\n<p>end</p>\n<p>function CreateScene()<br>\nscene_ = Scene()<br>\n\u2013 Create octree, use default volume (-1000, -1000, -1000) to (1000, 1000, 1000)<br>\n\u2013 Also create a DebugRenderer component so that we can draw debug geometry<br>\nscene_:CreateComponent(\u201cOctree\u201d)<br>\nscene_:CreateComponent(\u201cDebugRenderer\u201d)</p>\n<pre><code>-- Create scene node &amp; StaticModel component for showing a static plane\nlocal planeNode = scene_:CreateChild(\"Plane\")\nplaneNode.scale = Vector3(100.0, 1.0, 100.0)\nlocal planeObject = planeNode:CreateComponent(\"StaticModel\")\nplaneObject.model = cache:GetResource(\"Model\", \"Models/Plane.mdl\")\nplaneObject.material = cache:GetResource(\"Material\", \"Materials/StoneTiled.xml\")\n\n-- Create a Zone component for ambient lighting &amp; fog control\nlocal zoneNode = scene_:CreateChild(\"Zone\")\nlocal zone = zoneNode:CreateComponent(\"Zone\")\nzone.boundingBox = BoundingBox(-1000.0, 1000.0)\nzone.ambientColor = Color(0.15, 0.15, 0.15)\nzone.fogColor = Color(0.5, 0.5, 0.7)\nzone.fogStart = 100.0\nzone.fogEnd = 300.0\n\n-- Create a directional light to the world. Enable cascaded shadows on it\nlocal lightNode = scene_:CreateChild(\"DirectionalLight\")\nlightNode.direction = Vector3(0.6, -1.0, 0.8)\nlocal light = lightNode:CreateComponent(\"Light\")\nlight.lightType = LIGHT_DIRECTIONAL\nlight.castShadows = true\nlight.shadowBias = BiasParameters(0.00025, 0.5)\n-- Set cascade splits at 10, 50 and 200 world units, fade shadows out at 80% of maximum shadow distance\nlight.shadowCascade = CascadeParameters(10.0, 50.0, 200.0, 0.0, 0.8)\n\n-- Create randomly sized boxes. If boxes are big enough, make them occluders. Occluders will be software rasterized before\n-- rendering to a low-resolution depth-only buffer to test the objects in the view frustum for visibility\nlocal boxes = {}\nfor i = 1, 20 do\n    local boxNode = scene_:CreateChild(\"Box\")\n    local size = 1.0 + Random(10.0)\n    boxNode.position = Vector3(Random(80.0) - 40.0, size * 0.5, Random(80.0) - 40.0)\n    boxNode:SetScale(size)\n    local boxObject = boxNode:CreateComponent(\"StaticModel\")\n    boxObject.model = cache:GetResource(\"Model\", \"Models/Box.mdl\")\n    boxObject.material = cache:GetResource(\"Material\", \"Materials/Stone.xml\")\n    boxObject.castShadows = true\n    if size &gt;= 3.0 then\n        boxObject.occluder = true\n        table.insert(boxes, boxNode)\n    end\nend\n\n-- Create a DynamicNavigationMesh component to the scene root\nlocal navMesh = scene_:CreateComponent(\"DynamicNavigationMesh\")\n-- Enable drawing debug geometry for obstacles and off-mesh connections\nnavMesh.drawObstacles = true\n</code></pre>\n<p>\u2013    navMesh.drawOffMeshConnections = true<br>\n\u2013 Set the agent height large enough to exclude the layers under boxes<br>\nnavMesh.agentHeight = 10<br>\n\u2013 Set nav mesh tilesize to something reasonable<br>\nnavMesh.tileSize = 64<br>\n\u2013 Set nav mesh cell height to minimum (allows agents to be grounded)<br>\nnavMesh.cellHeight = 0.05<br>\n\u2013 Create a Navigable component to the scene root. This tags all of the geometry in the scene as being part of the<br>\n\u2013 navigation mesh. By default this is recursive, but the recursion could be turned off from Navigable<br>\nscene_:CreateComponent(\u201cNavigable\u201d)<br>\n\u2013 Add padding to the navigation mesh in Y-direction so that we can add objects on top of the tallest boxes<br>\n\u2013 in the scene and still update the mesh correctly<br>\nnavMesh.padding = Vector3(0.0, 10.0, 0.0)<br>\n\u2013 Now build the navigation geometry. This will take some time. Note that the navigation mesh will prefer to use<br>\n\u2013 physics geometry from the scene nodes, as it often is simpler, but if it can not find any (like in this example)<br>\n\u2013 it will use renderable geometry instead<br>\nnavMesh:Build()</p>\n<pre><code>-- Create an OffMeshConnection for each box to make it climbable (tiny boxes are skipped)\nfor i, box in ipairs(boxes) do\n    local boxPos = box.position\n    local connectionStart = scene_:CreateChild(\"Connection1\")\n    connectionStart.position = navMesh:FindNearestPoint(boxPos + Vector3(box.scale.x / 2, -box.scale.y / 2, 0), Vector3.ONE) -- Base of box\n    local connectionEnd = connectionStart:CreateChild(\"Connection2\")\n    connectionEnd.worldPosition = navMesh:FindNearestPoint(boxPos + Vector3(box.scale.x / 2, box.scale.y / 2, 0), Vector3.ONE) -- Top of box\n\n    local connection = connectionStart:CreateComponent(\"OffMeshConnection\")\n    connection.endPoint = connectionEnd\nend\n\n-- Create a DetourCrowdManager component to the scene root\ncrowdManager = scene_:CreateComponent(\"DetourCrowdManager\")\n\n-- Create Jack node as crowd agent\nSpawnJack(Vector3(-5, 0, 20))\n\n-- Create some mushrooms as obstacles. Note that obstacles are added onto an already buit navigation mesh\nfor i = 1, 100 do\n    CreateMushroom(Vector3(Random(90.0) - 45.0, 0.0, Random(90.0) - 45.0))\nend\n\n-- Create the camera. Limit far clip distance to match the fog. Note: now we actually create the camera node outside\n-- the scene, because we want it to be unaffected by scene load / save\ncameraNode = Node()\nlocal camera = cameraNode:CreateComponent(\"Camera\")\ncamera.farClip = 300.0\n\n-- Set an initial position for the camera scene node above the plane\ncameraNode.position = Vector3(0.0, 5.0, 0.0)\n</code></pre>\n<p>end</p>\n<p>function CreateUI()<br>\n\u2013 Create a Cursor UI element because we want to be able to hide and show it at will. When hidden, the mouse cursor will<br>\n\u2013 control the camera, and when visible, it will point the raycast target<br>\nlocal style = cache:GetResource(\u201cXMLFile\u201d, \u201cUI/DefaultStyle.xml\u201d)<br>\nlocal cursor = Cursor:new()<br>\ncursor:SetStyleAuto(style)<br>\nui.cursor = cursor<br>\n\u2013 Set starting position of the cursor at the rendering window center<br>\ncursor:SetPosition(graphics.width / 2, graphics.height / 2)</p>\n<pre><code>-- Construct new Text object, set string to display and font to use\nlocal instructionText = ui.root:CreateChild(\"Text\")\ninstructionText.text = \"Use WASD keys to move, RMB to rotate view\\n\"..\n    \"LMB to set destination, SHIFT+LMB to spawn a Jack\\n\"..\n    \"MMB to add obstacles or remove obstacles/agents\\n\"..\n    \"F5 to save scene, F7 to load\\n\"..\n    \"Space to toggle debug geometry\"\ninstructionText:SetFont(cache:GetResource(\"Font\", \"Fonts/Anonymous Pro.ttf\"), 15)\n-- The text has multiple rows. Center them in relation to each other\ninstructionText.textAlignment = HA_CENTER\n\n-- Position the text relative to the screen center\ninstructionText.horizontalAlignment = HA_CENTER\ninstructionText.verticalAlignment = VA_CENTER\ninstructionText:SetPosition(0, ui.root.height / 4)\n</code></pre>\n<p>end</p>\n<p>function SetupViewport()<br>\n\u2013 Set up a viewport to the Renderer subsystem so that the 3D scene can be seen<br>\nlocal viewport = Viewport:new(scene_, cameraNode:GetComponent(\u201cCamera\u201d))<br>\nrenderer:SetViewport(0, viewport)<br>\nend</p>\n<p>function SubscribeToEvents()<br>\n\u2013 Subscribe HandleUpdate() function for processing update events<br>\nSubscribeToEvent(\u201cUpdate\u201d, \u201cHandleUpdate\u201d)</p>\n<pre><code>-- Subscribe HandlePostRenderUpdate() function for processing the post-render update event, during which we request\n-- debug geometry\nSubscribeToEvent(\"PostRenderUpdate\", \"HandlePostRenderUpdate\")\n\n-- Subscribe HandleCrowdAgentFailure() function for resolving invalidation issues with agents, during which we\n-- use a larger extents for finding a point on the navmesh to fix the agent's position\nSubscribeToEvent(\"CrowdAgentFailure\", \"HandleCrowdAgentFailure\")\n</code></pre>\n<p>end</p>\n<p>function SpawnJack(pos)<br>\nlocal jackNode = scene_:CreateChild(\u201cJack\u201d)<br>\njackNode.position = pos<br>\nlocal modelObject = jackNode:CreateComponent(\u201cAnimatedModel\u201d)<br>\nmodelObject.model = cache:GetResource(\u201cModel\u201d, \u201cModels/Jack.mdl\u201d)<br>\nmodelObject.material = cache:GetResource(\u201cMaterial\u201d, \u201cMaterials/Jack.xml\u201d)<br>\nmodelObject.castShadows = true</p>\n<pre><code>-- Create a CrowdAgent component and set its height (use default radius)\nlocal agent = jackNode:CreateComponent(\"CrowdAgent\")\nagent.height = 2.0\nagents = crowdManager:GetActiveAgents() -- Update agents container\n</code></pre>\n<p>end</p>\n<p>function CreateMushroom(pos)<br>\nlocal mushroomNode = scene_:CreateChild(\u201cMushroom\u201d)<br>\nmushroomNode.position = pos<br>\nmushroomNode.rotation = Quaternion(0.0, Random(360.0), 0.0)<br>\nmushroomNode:SetScale(2.0 + Random(0.5))<br>\nlocal mushroomObject = mushroomNode:CreateComponent(\u201cStaticModel\u201d)<br>\nmushroomObject.model = cache:GetResource(\u201cModel\u201d, \u201cModels/Mushroom.mdl\u201d)<br>\nmushroomObject.material = cache:GetResource(\u201cMaterial\u201d, \u201cMaterials/Mushroom.xml\u201d)<br>\nmushroomObject.castShadows = true</p>\n<pre><code>-- Create the navigation Obstacle component and set its height &amp; radius proportional to scale\nlocal obstacle = mushroomNode:CreateComponent(\"Obstacle\")\nobstacle.radius = mushroomNode.scale.x\nobstacle.height = mushroomNode.scale.y\nreturn mushroomNode\n</code></pre>\n<p>end</p>\n<p>function SetPathPoint()<br>\nlocal hitPos, hitDrawable = Raycast(250.0)<br>\nlocal navMesh = scene_:GetComponent(\u201cDynamicNavigationMesh\u201d)</p>\n<pre><code>if hitDrawable then\n    local pathPos = navMesh:FindNearestPoint(hitPos, Vector3.ONE)\n\n    if input:GetQualifierDown(QUAL_SHIFT) then\n        -- Spawn a Jack\n        SpawnJack(pathPos)\n    else\n        -- Set target position and ignit agents' move\n        for i = 1, table.maxn(agents) do\n            local agent = agents[i]\n\n            if i == 1 then\n                -- The first agent will always move to the exact position\n                agent:SetMoveTarget(pathPos)\n            else\n                -- Other agents will move to a random point nearby\n                local targetPos = navMesh:FindNearestPoint(pathPos + Vector3(Random(-4.5, 4.5), 0, Random(-4.5, 4.5)), Vector3.ONE)\n                agent:SetMoveTarget(targetPos)\n            end\n        end\n    end\nend\n</code></pre>\n<p>end</p>\n<p>function AddOrRemoveObject()<br>\n\u2013 Raycast and check if we hit a mushroom node. If yes, remove it, if no, create a new one<br>\nlocal hitPos, hitDrawable = Raycast(250.0)<br>\nif hitDrawable then</p>\n<pre><code>    local hitNode = hitDrawable.node\n    if hitNode.name == \"Mushroom\" then\n        hitNode:Remove()\n    elseif hitNode.name == \"Jack\" then\n        hitNode:Remove()\n        agents = crowdManager:GetActiveAgents() -- Update agents container\n    else\n        CreateMushroom(hitPos)\n    end\nend\n</code></pre>\n<p>end</p>\n<p>function Raycast(maxDistance)<br>\nlocal hitPos = nil<br>\nlocal hitDrawable = nil</p>\n<pre><code>local pos = ui.cursorPosition\n-- Check the cursor is visible and there is no UI element in front of the cursor\nif (not ui.cursor.visible) or (ui:GetElementAt(pos, true) ~= nil) then\n    return nil, nil\nend\n\nlocal camera = cameraNode:GetComponent(\"Camera\")\nlocal cameraRay = camera:GetScreenRay(pos.x / graphics.width, pos.y / graphics.height)\n-- Pick only geometry objects, not eg. zones or lights, only get the first (closest) hit\nlocal octree = scene_:GetComponent(\"Octree\")\nlocal result = octree:RaycastSingle(cameraRay, RAY_TRIANGLE, maxDistance, DRAWABLE_GEOMETRY)\nif result.drawable ~= nil then\n    return result.position, result.drawable\nend\n\nreturn nil, nil\n</code></pre>\n<p>end</p>\n<p>function MoveCamera(timeStep)<br>\n\u2013 Right mouse button controls mouse cursor visibility: hide when pressed<br>\nui.cursor.visible = not input:GetMouseButtonDown(MOUSEB_RIGHT)</p>\n<pre><code>-- Do not move if the UI has a focused element (the console)\nif ui.focusElement ~= nil then\n    return\nend\n\n-- Movement speed as world units per second\nlocal MOVE_SPEED = 20.0\n-- Mouse sensitivity as degrees per pixel\nlocal MOUSE_SENSITIVITY = 0.1\n\n-- Use this frame's mouse motion to adjust camera node yaw and pitch. Clamp the pitch between -90 and 90 degrees\n-- Only move the camera when the cursor is hidden\nif not ui.cursor.visible then\n    local mouseMove = input.mouseMove\n    yaw = yaw + MOUSE_SENSITIVITY * mouseMove.x\n    pitch = pitch + MOUSE_SENSITIVITY * mouseMove.y\n    pitch = Clamp(pitch, -90.0, 90.0)\n\n    -- Construct new orientation for the camera scene node from yaw and pitch. Roll is fixed to zero\n    cameraNode.rotation = Quaternion(pitch, yaw, 0.0)\nend\n\n-- Read WASD keys and move the camera scene node to the corresponding direction if they are pressed\nif input:GetKeyDown(KEY_W) then\n    cameraNode:Translate(Vector3(0.0, 0.0, 1.0) * MOVE_SPEED * timeStep)\nend\nif input:GetKeyDown(KEY_S) then\n    cameraNode:Translate(Vector3(0.0, 0.0, -1.0) * MOVE_SPEED * timeStep)\nend\nif input:GetKeyDown(KEY_A) then\n    cameraNode:Translate(Vector3(-1.0, 0.0, 0.0) * MOVE_SPEED * timeStep)\nend\nif input:GetKeyDown(KEY_D) then\n    cameraNode:Translate(Vector3(1.0, 0.0, 0.0) * MOVE_SPEED * timeStep)\nend\n-- Set destination or spawn a jack with left mouse button\nif input:GetMouseButtonPress(MOUSEB_LEFT) then\n    SetPathPoint()\nend\n-- Add new obstacle or remove existing obstacle/agent with middle mouse button\nif input:GetMouseButtonPress(MOUSEB_MIDDLE) then\n    AddOrRemoveObject()\nend\n\n-- Toggle debug geometry with space\nif input:GetKeyPress(KEY_SPACE) then\n    drawDebug = not drawDebug\nend\n\n-- Check for loading/saving the scene from/to the file Data/Scenes/CrowdNavigation.xml relative to the executable directory\nif input:GetKeyPress(KEY_F5) then\n    scene_:SaveXML(fileSystem:GetProgramDir()..\"Data/Scenes/CrowdNavigation.xml\")\nend\nif input:GetKeyPress(KEY_F7) then\n    scene_:LoadXML(fileSystem:GetProgramDir()..\"Data/Scenes/CrowdNavigation.xml\")\n\n    -- After reload, reacquire crowd manager &amp; agents\n    crowdManager = scene_:GetComponent(\"DetourCrowdManager\")\n    agents = crowdManager:GetActiveAgents()\n\n    -- Re-enable debug draw for obstacles\n    local navMesh = scene_:GetComponent(\"DynamicNavigationMesh\")\n    navMesh.drawObstacles = true\nend\n</code></pre>\n<p>end</p>\n<p>function HandleUpdate(eventType, eventData)<br>\n\u2013 Take the frame time step, which is stored as a float<br>\nlocal timeStep = eventData:GetFloat(\u201cTimeStep\u201d)</p>\n<pre><code>-- Move the camera, scale movement with time step\nMoveCamera(timeStep)\n\n-- Make the CrowdAgents face the direction of their velocity\nfor i = 1, table.maxn(agents) do\n    local agent = agents[i]\n    agent.node.worldDirection = agent.actualVelocity\nend\n</code></pre>\n<p>end</p>\n<p>function HandlePostRenderUpdate(eventType, eventData)<br>\n\u2013 If draw debug mode is enabled, draw navigation debug geometry<br>\nif drawDebug then<br>\n\u2013 Visualize navigation mesh and obstacles<br>\nlocal navMesh = scene_:GetComponent(\u201cDynamicNavigationMesh\u201d)<br>\nnavMesh:DrawDebugGeometry(true)</p>\n<pre><code>    -- Visualize agents' path and position to reach\n    crowdManager:DrawDebugGeometry(true)\nend\n</code></pre>\n<p>end</p>\n<p>function HandleCrowdAgentFailure(eventType, eventData)</p>\n<pre><code>local node = eventData:GetPtr(\"Node\", \"Node\")\nlocal agent = eventData:GetPtr(\"CrowdAgent\", \"CrowdAgent\")\nlocal agentState = eventData:GetInt(\"CrowdAgentState\")\n\n-- If the agent's state is invalid, likely from spawning on the side of a box, find a point in a larger area\nif agentState == CROWD_AGENT_INVALID then\n    local navMesh = scene_:GetComponent(\"DynamicNavigationMesh\")\n    -- Get a point on the navmesh using more generous extents\n    local newPos = navMesh:FindNearestPoint(node:GetWorldPosition(), Vector3(5, 5, 5))\n    -- Set the new node position, CrowdAgent component will automatically reset the state of the agent\n    node:SetWorldPosition(newPos)\nend\n</code></pre>\n<p>end</p>\n<p>\u2013 Create XML patch instructions for screen joystick layout specific to this sample app<br>\nfunction GetScreenJoystickPatchString()<br>\nreturn<br>\n\"\" \u2026<br>\n\"    &lt;add sel=\"/element\"&gt;\" \u2026<br>\n\"        &lt;element type=\u201cButton\u201d&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cName\u201d value=\u201cButton3\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cPosition\u201d value=\"-120 -120\" /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cSize\u201d value=\u201c96 96\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cHoriz Alignment\u201d value=\u201cRight\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cVert Alignment\u201d value=\u201cBottom\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cTexture\u201d value=\u201cTexture2D;Textures/TouchInput.png\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cImage Rect\u201d value=\u201c96 0 192 96\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cHover Image Offset\u201d value=\u201c0 0\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cPressed Image Offset\u201d value=\u201c0 0\u201d /&gt;\" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cLabel\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cHoriz Alignment\u201d value=\u201cCenter\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cVert Alignment\u201d value=\u201cCenter\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cColor\u201d value=\u201c0 0 0 1\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cSpawn Jack\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cKeyBinding\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cLSHIFT\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cMouseButtonBinding\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cLEFT\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"        \" \u2026<br>\n\"        &lt;element type=\u201cButton\u201d&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cName\u201d value=\u201cButton4\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cPosition\u201d value=\"-120 -12\" /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cSize\u201d value=\u201c96 96\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cHoriz Alignment\u201d value=\u201cRight\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cVert Alignment\u201d value=\u201cBottom\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cTexture\u201d value=\u201cTexture2D;Textures/TouchInput.png\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cImage Rect\u201d value=\u201c96 0 192 96\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cHover Image Offset\u201d value=\u201c0 0\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cPressed Image Offset\u201d value=\u201c0 0\u201d /&gt;\" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cLabel\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cHoriz Alignment\u201d value=\u201cCenter\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cVert Alignment\u201d value=\u201cCenter\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cColor\u201d value=\u201c0 0 0 1\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cObstacles\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cMouseButtonBinding\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cMIDDLE\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"        \" \u2026<br>\n\"    \" \u2026<br>\n\"    &lt;remove sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button0\u2019]]/attribute[@name=\u2018Is Visible\u2019]\" /&gt;\" \u2026<br>\n\"    &lt;replace sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button0\u2019]]/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Label\u2019]]/attribute[@name=\u2018Text\u2019]/<span class=\"mention\">@value</span>\"&gt;Set\" \u2026<br>\n\"    &lt;add sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button0\u2019]]\"&gt;\" \u2026<br>\n\"        &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cName\u201d value=\u201cMouseButtonBinding\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cText\u201d value=\u201cLEFT\u201d /&gt;\" \u2026<br>\n\"        \" \u2026<br>\n\"    \" \u2026<br>\n\"    &lt;remove sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button1\u2019]]/attribute[@name=\u2018Is Visible\u2019]\" /&gt;\" \u2026<br>\n\"    &lt;replace sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button1\u2019]]/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Label\u2019]]/attribute[@name=\u2018Text\u2019]/<span class=\"mention\">@value</span>\"&gt;Debug\" \u2026<br>\n\"    &lt;add sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button1\u2019]]\"&gt;\" \u2026<br>\n\"        &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cName\u201d value=\u201cKeyBinding\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cText\u201d value=\u201cSPACE\u201d /&gt;\" \u2026<br>\n\"        \" \u2026<br>\n\"    \" \u2026<br>\n\"\"<br>\nend<br>\n[/code][/spoiler]</p>", "post_number": 50, "post_type": 1, "updated_at": "2017-01-02T01:05:12.851Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 18, "readers_count": 17, "score": 8.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6191, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-19T20:20:09.000Z", "cooked": "<p>Currently off-mesh connections can be added post-build with dynamic navMesh, but they must be added before building a static navMesh.<br>\nI have a preference for the post-build addition, as it allows using FindNearestPoint(). Maybe same behavior can be applied to static navMesh.</p>", "post_number": 51, "post_type": 1, "updated_at": "2017-01-02T01:05:13.563Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6193, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-20T06:07:13.000Z", "cooked": "<p>Thanks Sinoid.</p>\n<aside class=\"quote\">\n<blockquote>\n<p>It works in your Lua code there because the OffMeshConnections are added before Obstacles are added to the scene, which causes tiles to be rebuilt\u2026if adding offmeshconnections at runtime (without changing obstacles) is reliable then there\u2019s a bug</p>\n</blockquote>\n</aside>\n<p>I\u2019ve tried to add only a few Obstacles: OffMeshConnections get created only for tiles including an Obstacle, so it is effectively incidental here that OffMeshConnections get created post build (as there are lots of Obstacles, each tile has at least one and get rebuilt, incidentally hooking OffMeshConnections). Fortunately no potential bug here.</p>\n<p>For the few boxes non climbable issue, it may be difficult to reproduce as using random positions, I assume the scene might be different from one computer to another. For example when running the AngelScript sample, I only see the texture of a box at start, as a box is created just in front of the camera.</p>", "post_number": 52, "post_type": 1, "updated_at": "2017-01-02T01:05:13.686Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6194, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-20T18:49:26.000Z", "cooked": "<p>Currently for moving obstacles in the scene I am removing the component and add it back. Is there a better way to achieve this?</p>", "post_number": 53, "post_type": 1, "updated_at": "2017-01-02T01:05:13.748Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6196, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-21T05:59:42.000Z", "cooked": "<p>Maybe we could simply create moving obstacles as agents with very low pushiness.<br>\nThis way we don\u2019t even need physics to push the obstacles.<br>\nI\u2019ll try this today.</p>", "post_number": 54, "post_type": 1, "updated_at": "2017-01-02T01:05:13.876Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6198, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-21T08:47:47.000Z", "cooked": "<p>Works great  <img src=\"https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=5\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\"><br>\nTo make an agent strong enough to push another agent, its pushiness must be set to \u2018high\u2019 (as long as other agents don\u2019t also have high pushiness).<br>\nHere I\u2019ve added 20 barrels that can be pushed only by the main agent.<br>\nAnd I also tested cloning agents.<br>\nEDIT: also added teleportation<br>\nEDIT2: also added AnimationController</p>\n<p>[spoiler][code]<br>\n\u2013 CrowdNavigation example.<br>\n\u2013 This sample demonstrates:<br>\n\u2013     - Generating a dynamic navigation mesh into the scene<br>\n\u2013     - Performing path queries to the navigation mesh<br>\n\u2013     - Adding and removing obstacles at runtime from the dynamic mesh<br>\n\u2013     - Adding and removing crowd agents at runtime<br>\n\u2013     - Raycasting drawable components<br>\n\u2013     - Crowd movement management<br>\n\u2013     - Accessing crowd agents with the crowd manager<br>\n\u2013     - Using off-mesh connections to make boxes climbable<br>\n\u2013     - Using agents to simulate pushing obstacles without using physics</p>\n<p>require \u201cLuaScripts/Utilities/Sample\u201d</p>\n<p>local crowdManager = nil<br>\nlocal agents = {}<br>\nlocal navMesh = nil</p>\n<p>function Start()<br>\n\u2013 Execute the common startup for samples<br>\nSampleStart()</p>\n<pre><code>-- Create the scene content\nCreateScene()\n\n-- Create the UI content\nCreateUI()\n\n-- Setup the viewport for displaying the scene\nSetupViewport()\n\n-- Hook up to the frame update and render post-update events\nSubscribeToEvents()\n</code></pre>\n<p>end</p>\n<p>function CreateScene()<br>\nscene_ = Scene()<br>\n\u2013 Create octree, use default volume (-1000, -1000, -1000) to (1000, 1000, 1000)<br>\n\u2013 Also create a DebugRenderer component so that we can draw debug geometry<br>\nscene_:CreateComponent(\u201cOctree\u201d)<br>\nscene_:CreateComponent(\u201cDebugRenderer\u201d)</p>\n<pre><code>-- Create scene node &amp; StaticModel component for showing a static plane\nlocal planeNode = scene_:CreateChild(\"Plane\")\nplaneNode.scale = Vector3(100.0, 1.0, 100.0)\nlocal planeObject = planeNode:CreateComponent(\"StaticModel\")\nplaneObject.model = cache:GetResource(\"Model\", \"Models/Plane.mdl\")\nplaneObject.material = cache:GetResource(\"Material\", \"Materials/StoneTiled.xml\")\n\n-- Create a Zone component for ambient lighting &amp; fog control\nlocal zoneNode = scene_:CreateChild(\"Zone\")\nlocal zone = zoneNode:CreateComponent(\"Zone\")\nzone.boundingBox = BoundingBox(-1000.0, 1000.0)\nzone.ambientColor = Color(0.15, 0.15, 0.15)\nzone.fogColor = Color(0.5, 0.5, 0.7)\nzone.fogStart = 100.0\nzone.fogEnd = 300.0\n\n-- Create a directional light to the world. Enable cascaded shadows on it\nlocal lightNode = scene_:CreateChild(\"DirectionalLight\")\nlightNode.direction = Vector3(0.6, -1.0, 0.8)\nlocal light = lightNode:CreateComponent(\"Light\")\nlight.lightType = LIGHT_DIRECTIONAL\nlight.castShadows = true\nlight.shadowBias = BiasParameters(0.00025, 0.5)\n-- Set cascade splits at 10, 50 and 200 world units, fade shadows out at 80% of maximum shadow distance\nlight.shadowCascade = CascadeParameters(10.0, 50.0, 200.0, 0.0, 0.8)\n\n-- Create randomly sized boxes. If boxes are big enough, make them occluders. Occluders will be software rasterized before\n-- rendering to a low-resolution depth-only buffer to test the objects in the view frustum for visibility\nlocal boxes = {}\nfor i = 1, 20 do\n    local boxNode = scene_:CreateChild(\"Box\")\n    local size = 1.0 + Random(10.0)\n    boxNode.position = Vector3(Random(80.0) - 40.0, size * 0.5, Random(80.0) - 40.0)\n    boxNode:SetScale(size)\n    local boxObject = boxNode:CreateComponent(\"StaticModel\")\n    boxObject.model = cache:GetResource(\"Model\", \"Models/Box.mdl\")\n    boxObject.material = cache:GetResource(\"Material\", \"Materials/Stone.xml\")\n    boxObject.castShadows = true\n    if size &gt;= 3.0 then\n        boxObject.occluder = true\n        table.insert(boxes, boxNode)\n    end\nend\n\n-- Create a DynamicNavigationMesh component to the scene root\nnavMesh = scene_:CreateComponent(\"DynamicNavigationMesh\")\n-- Enable drawing debug geometry for obstacles and off-mesh connections\nnavMesh.drawObstacles = true\nnavMesh.drawOffMeshConnections = true\n-- Set the agent height large enough to exclude the layers under boxes\nnavMesh.agentHeight = 10\n-- Set nav mesh tilesize to something reasonable\nnavMesh.tileSize = 64\n-- Set nav mesh cell height to minimum (allows agents to be grounded)\nnavMesh.cellHeight = 0.05\n-- Create a Navigable component to the scene root. This tags all of the geometry in the scene as being part of the\n-- navigation mesh. By default this is recursive, but the recursion could be turned off from Navigable\nscene_:CreateComponent(\"Navigable\")\n-- Add padding to the navigation mesh in Y-direction so that we can add objects on top of the tallest boxes\n-- in the scene and still update the mesh correctly\nnavMesh.padding = Vector3(0.0, 10.0, 0.0)\n-- Now build the navigation geometry. This will take some time. Note that the navigation mesh will prefer to use\n-- physics geometry from the scene nodes, as it often is simpler, but if it can not find any (like in this example)\n-- it will use renderable geometry instead\nnavMesh:Build()\n\n-- Create an off-mesh connection for each box to make it climbable (tiny boxes are skipped).\n-- Note that OffMeshConnections must be added before building the navMesh, but as we are adding Obstacles next, tiles will be automatically rebuilt.\n-- Creating connections post-build here allows us to use FindNearestPoint() to procedurally set accurate positions for the connection\nCreateBoxOffMeshConnections(boxes)\n\n-- Create a DetourCrowdManager component to the scene root\ncrowdManager = scene_:CreateComponent(\"DetourCrowdManager\")\n\n-- Create some mushrooms as obstacles. Note that obstacles are added onto an already buit navigation mesh\nfor i = 1, 100 do\n    CreateMushroom(Vector3(Random(90.0) - 45.0, 0.0, Random(90.0) - 45.0))\nend\n\n-- Create some moving crates. We create them as crowd agents as for moving entities it is less expensive than using obstacles\nCreateMovingBarrels()\n\n-- Create Jack node as crowd agent\nSpawnJack(Vector3(-5, 0, 20))\n\n-- Create the camera. Limit far clip distance to match the fog. Note: now we actually create the camera node outside\n-- the scene, because we want it to be unaffected by scene load / save\ncameraNode = Node()\nlocal camera = cameraNode:CreateComponent(\"Camera\")\ncamera.farClip = 300.0\n\n-- Set an initial position for the camera scene node above the plane\ncameraNode.position = Vector3(0.0, 5.0, 0.0)\nlocal nodes = scene_:GetChildrenWithComponent(\"CrowdAgent\")\n</code></pre>\n<p>end</p>\n<p>function CreateUI()<br>\n\u2013 Create a Cursor UI element because we want to be able to hide and show it at will. When hidden, the mouse cursor will<br>\n\u2013 control the camera, and when visible, it will point the raycast target<br>\nlocal style = cache:GetResource(\u201cXMLFile\u201d, \u201cUI/DefaultStyle.xml\u201d)<br>\nlocal cursor = Cursor:new()<br>\ncursor:SetStyleAuto(style)<br>\nui.cursor = cursor<br>\n\u2013 Set starting position of the cursor at the rendering window center<br>\ncursor:SetPosition(graphics.width / 2, graphics.height / 2)</p>\n<pre><code>-- Construct new Text object, set string to display and font to use\nlocal instructionText = ui.root:CreateChild(\"Text\")\ninstructionText.text = \"Use WASD keys to move, RMB to rotate view\\n\"..\n    \"LMB to set destination, SHIFT+LMB to spawn a Jack, CTRL+LMB to teleport\\n\"..\n    \"MMB to add obstacles or remove obstacles/agents\\n\"..\n    \"F5 to save scene, F7 to load\\n\"..\n    \"Space to toggle debug geometry\"\ninstructionText:SetFont(cache:GetResource(\"Font\", \"Fonts/Anonymous Pro.ttf\"), 12)\n-- The text has multiple rows. Center them in relation to each other\ninstructionText.textAlignment = HA_CENTER\n\n-- Position the text relative to the screen center\ninstructionText.horizontalAlignment = HA_CENTER\ninstructionText.verticalAlignment = VA_CENTER\ninstructionText:SetPosition(0, ui.root.height / 4)\n</code></pre>\n<p>end</p>\n<p>function SetupViewport()<br>\n\u2013 Set up a viewport to the Renderer subsystem so that the 3D scene can be seen<br>\nlocal viewport = Viewport:new(scene_, cameraNode:GetComponent(\u201cCamera\u201d))<br>\nrenderer:SetViewport(0, viewport)<br>\nend</p>\n<p>function SubscribeToEvents()<br>\n\u2013 Subscribe HandleUpdate() function for processing update events<br>\nSubscribeToEvent(\u201cUpdate\u201d, \u201cHandleUpdate\u201d)</p>\n<pre><code>-- Subscribe HandlePostRenderUpdate() function for processing the post-render update event, during which we request\n-- debug geometry\nSubscribeToEvent(\"PostRenderUpdate\", \"HandlePostRenderUpdate\")\n\n-- Subscribe HandleCrowdAgentFailure() function for resolving invalidation issues with agents, during which we\n-- use a larger extents for finding a point on the navmesh to fix the agent's position\nSubscribeToEvent(\"CrowdAgentFailure\", \"HandleCrowdAgentFailure\")\n</code></pre>\n<p>end</p>\n<p>function SpawnJack(pos)<br>\nlocal jackNode = scene_:CreateChild(\u201cJack\u201d)<br>\njackNode.position = pos<br>\nlocal modelObject = jackNode:CreateComponent(\u201cAnimatedModel\u201d)<br>\nmodelObject.model = cache:GetResource(\u201cModel\u201d, \u201cModels/Jack.mdl\u201d)<br>\nmodelObject.material = cache:GetResource(\u201cMaterial\u201d, \u201cMaterials/Jack.xml\u201d)<br>\nmodelObject.castShadows = true<br>\njackNode:CreateComponent(\u201cAnimationController\u201d)</p>\n<pre><code>-- Create a CrowdAgent component and set its height (use default radius)\nlocal agent = jackNode:CreateComponent(\"CrowdAgent\")\nagent.height = 2.0\nagent.maxSpeed = 4\nagent.maxAccel = 100\nagents = crowdManager:GetActiveAgents() -- Update agents container\n</code></pre>\n<p>end</p>\n<p>function CreateMushroom(pos)<br>\nlocal mushroomNode = scene_:CreateChild(\u201cMushroom\u201d)<br>\nmushroomNode.position = navMesh:FindNearestPoint(pos)<br>\nmushroomNode.rotation = Quaternion(0.0, Random(360.0), 0.0)<br>\nmushroomNode:SetScale(2.0 + Random(0.5))<br>\nlocal mushroomObject = mushroomNode:CreateComponent(\u201cStaticModel\u201d)<br>\nmushroomObject.model = cache:GetResource(\u201cModel\u201d, \u201cModels/Mushroom.mdl\u201d)<br>\nmushroomObject.material = cache:GetResource(\u201cMaterial\u201d, \u201cMaterials/Mushroom.xml\u201d)<br>\nmushroomObject.castShadows = true</p>\n<pre><code>-- Create the navigation Obstacle component and set its height &amp; radius proportional to scale\nlocal obstacle = mushroomNode:CreateComponent(\"Obstacle\")\nobstacle.radius = mushroomNode.scale.x\nobstacle.height = mushroomNode.scale.y\nreturn mushroomNode\n</code></pre>\n<p>end</p>\n<p>function CreateBoxOffMeshConnections(boxes)<br>\nfor i, box in ipairs(boxes) do<br>\nlocal boxPos = box.position<br>\nlocal boxHalfSize = box.scale.x / 2</p>\n<pre><code>    -- Create 2 empty nodes for the start &amp; end points of the connection. Note that order matters only when using one-way/unidirectional connection.\n    local connectionStart = scene_:CreateChild(\"ConnectionStart\")\n    connectionStart.position = navMesh:FindNearestPoint(boxPos + Vector3(boxHalfSize, -boxHalfSize, 0)) -- Base of box\n    local connectionEnd = connectionStart:CreateChild(\"ConnectionEnd\")\n    connectionEnd.worldPosition = navMesh:FindNearestPoint(boxPos + Vector3(boxHalfSize, boxHalfSize, 0)) -- Top of box\n\n    -- Create the OffMeshConnection component to one node and link the other node\n    local connection = connectionStart:CreateComponent(\"OffMeshConnection\")\n    connection.endPoint = connectionEnd\nend\n</code></pre>\n<p>end</p>\n<p>function CreateMovingBarrels()<br>\nlocal barrel = scene_:CreateChild(\u201cBarrel\u201d)<br>\nlocal model = barrel:CreateComponent(\u201cStaticModel\u201d)<br>\nmodel.model = cache:GetResource(\u201cModel\u201d, \u201cModels/Cylinder.mdl\u201d)<br>\nmodel.material = cache:GetResource(\u201cMaterial\u201d, \u201cMaterials/StoneTiled.xml\u201d)<br>\nmodel.material:SetTexture(0, cache:GetResource(\u201cTexture2D\u201d, \u201cTextures/TerrainDetail2.dds\u201d))<br>\nmodel.castShadows = true<br>\nbarrel:CreateComponent(\u201cCrowdAgent\u201d)<br>\nfor i = 1, 20 do<br>\nlocal clone = barrel:Clone()<br>\nlocal size = 0.5 + Random(1)<br>\nclone.scale = Vector3(size/1.5, size*2, size/1.5)<br>\nclone.position = navMesh:FindNearestPoint(Vector3(Random(80.0) - 40.0, size * 0.5 , Random(80.0) - 40.0))<br>\nlocal agent = clone:GetComponent(\u201cCrowdAgent\u201d)<br>\nagent.radius = clone.scale.x * 0.5<br>\nagent.height = size<br>\nend<br>\nbarrel:Remove()<br>\nend</p>\n<p>function SetPathPoint()<br>\nlocal hitPos, hitDrawable = Raycast(250.0)<br>\nlocal navMesh = scene_:GetComponent(\u201cDynamicNavigationMesh\u201d)</p>\n<pre><code>if hitDrawable then\n    local pathPos = navMesh:FindNearestPoint(hitPos, Vector3.ONE)\n\n    if input:GetQualifierDown(QUAL_SHIFT) then\n        -- Spawn a Jack\n        SpawnJack(pathPos)\n\n    elseif input:GetQualifierDown(QUAL_CTRL) then\n        -- Teleport\n        local agent = agents[table.maxn(agents)] -- Get last agent\n        if agent.node.name == \"Barrel\" then return end\n        local node = agent.node\n        node:LookAt(pathPos) -- Face target\n        agent:SetMoveVelocity(Vector3.ZERO) -- Stop agent\n        node.position = pathPos\n        return\n\n    else\n        -- Set target position and init agents' move\n        for i, agent in ipairs(agents) do\n            if agent.node.name == \"Jack\" then\n                if i == table.maxn(agents) then\n                    -- The last agent will always move to the exact position and is strong enough to push barrels and his siblings\n                    agent.navigationPushiness = PUSHINESS_HIGH\n                    agent:SetMoveTarget(pathPos)\n                else\n                    -- Other agents will move to a random point nearby\n                    local targetPos = navMesh:FindNearestPoint(pathPos + Vector3(Random(-4.5, 4.5), 0, Random(-4.5, 4.5)), Vector3.ONE)\n                    agent:SetMoveTarget(targetPos)\n                end\n            end\n        end\n    end\nend\n</code></pre>\n<p>end</p>\n<p>function AddOrRemoveObject()<br>\n\u2013 Raycast and check if we hit a mushroom node. If yes, remove it, if no, create a new one<br>\nlocal hitPos, hitDrawable = Raycast(250.0)<br>\nif hitDrawable then</p>\n<pre><code>    local hitNode = hitDrawable.node\n    if hitNode.name == \"Mushroom\" then\n        hitNode:Remove()\n    elseif hitNode.name == \"Jack\" then\n        hitNode:Remove()\n        agents = crowdManager:GetActiveAgents() -- Update agents container\n    else\n        CreateMushroom(hitPos)\n    end\nend\n</code></pre>\n<p>end</p>\n<p>function Raycast(maxDistance)<br>\nlocal pos = ui.cursorPosition<br>\n\u2013 Check the cursor is visible and there is no UI element in front of the cursor<br>\nif (not ui.cursor.visible) or (ui:GetElementAt(pos, true) ~= nil) then<br>\nreturn nil, nil<br>\nend</p>\n<pre><code>local camera = cameraNode:GetComponent(\"Camera\")\nlocal cameraRay = camera:GetScreenRay(pos.x / graphics.width, pos.y / graphics.height)\n-- Pick only geometry objects, not eg. zones or lights, only get the first (closest) hit\nlocal octree = scene_:GetComponent(\"Octree\")\nlocal result = octree:RaycastSingle(cameraRay, RAY_TRIANGLE, maxDistance, DRAWABLE_GEOMETRY)\nif result.drawable ~= nil then\n    return result.position, result.drawable\nend\n\nreturn nil, nil\n</code></pre>\n<p>end</p>\n<p>function MoveCamera(timeStep)<br>\n\u2013 Right mouse button controls mouse cursor visibility: hide when pressed<br>\nui.cursor.visible = not input:GetMouseButtonDown(MOUSEB_RIGHT)</p>\n<pre><code>-- Do not move if the UI has a focused element (the console)\nif ui.focusElement ~= nil then\n    return\nend\n\n-- Movement speed as world units per second\nlocal MOVE_SPEED = 20.0\n-- Mouse sensitivity as degrees per pixel\nlocal MOUSE_SENSITIVITY = 0.1\n\n-- Use this frame's mouse motion to adjust camera node yaw and pitch. Clamp the pitch between -90 and 90 degrees\n-- Only move the camera when the cursor is hidden\nif not ui.cursor.visible then\n    local mouseMove = input.mouseMove\n    yaw = yaw + MOUSE_SENSITIVITY * mouseMove.x\n    pitch = pitch + MOUSE_SENSITIVITY * mouseMove.y\n    pitch = Clamp(pitch, -90.0, 90.0)\n\n    -- Construct new orientation for the camera scene node from yaw and pitch. Roll is fixed to zero\n    cameraNode.rotation = Quaternion(pitch, yaw, 0.0)\nend\n\n-- Read WASD keys and move the camera scene node to the corresponding direction if they are pressed\nif input:GetKeyDown(KEY_W) then\n    cameraNode:Translate(Vector3(0.0, 0.0, 1.0) * MOVE_SPEED * timeStep)\nend\nif input:GetKeyDown(KEY_S) then\n    cameraNode:Translate(Vector3(0.0, 0.0, -1.0) * MOVE_SPEED * timeStep)\nend\nif input:GetKeyDown(KEY_A) then\n    cameraNode:Translate(Vector3(-1.0, 0.0, 0.0) * MOVE_SPEED * timeStep)\nend\nif input:GetKeyDown(KEY_D) then\n    cameraNode:Translate(Vector3(1.0, 0.0, 0.0) * MOVE_SPEED * timeStep)\nend\n-- Set destination or spawn a jack with left mouse button\nif input:GetMouseButtonPress(MOUSEB_LEFT) then\n    SetPathPoint()\nend\n-- Add new obstacle or remove existing obstacle/agent with middle mouse button\nif input:GetMouseButtonPress(MOUSEB_MIDDLE) then\n    AddOrRemoveObject()\nend\n\n-- Toggle debug geometry with space\nif input:GetKeyPress(KEY_SPACE) then\n    drawDebug = not drawDebug\nend\n\n-- Check for loading/saving the scene from/to the file Data/Scenes/CrowdNavigation.xml relative to the executable directory\nif input:GetKeyPress(KEY_F5) then\n    scene_:SaveXML(fileSystem:GetProgramDir()..\"Data/Scenes/CrowdNavigation.xml\")\nend\nif input:GetKeyPress(KEY_F7) then\n    scene_:LoadXML(fileSystem:GetProgramDir()..\"Data/Scenes/CrowdNavigation.xml\")\n    -- After reload, reacquire crowd manager &amp; agents\n    crowdManager = scene_:GetComponent(\"DetourCrowdManager\")\n    agents = crowdManager:GetActiveAgents()\nend\n</code></pre>\n<p>end</p>\n<p>function HandleUpdate(eventType, eventData)<br>\n\u2013 Take the frame time step, which is stored as a float<br>\nlocal timeStep = eventData:GetFloat(\u201cTimeStep\u201d)</p>\n<pre><code>-- Move the camera, scale movement with time step\nMoveCamera(timeStep)\n\n-- Make the CrowdAgents face the direction of their velocity and play animation\nfor i, agent in ipairs(agents) do\n    local node = agent.node\n    if node.name == \"Jack\" then\n        local animCtrl = node:GetComponent(\"AnimationController\")\n        local velocity = agent.actualVelocity\n        if velocity:Length() &lt; 0.6 then\n            animCtrl:Stop(\"Models/Jack_Walk.ani\", 0.2)\n        else\n            node.worldDirection = velocity\n            animCtrl:PlayExclusive(\"Models/Jack_Walk.ani\", 0, true, 0.2)\n            animCtrl:SetSpeed(\"Models/Jack_Walk.ani\", velocity:Length() * 0.3)\n        end\n    end\nend\n</code></pre>\n<p>end</p>\n<p>function HandlePostRenderUpdate(eventType, eventData)<br>\nif drawDebug then<br>\n\u2013 Visualize navigation mesh, obstacles and off-mesh connections<br>\nnavMesh:DrawDebugGeometry(true)<br>\n\u2013 Visualize agents\u2019 path and position to reach<br>\ncrowdManager:DrawDebugGeometry(true)<br>\nend<br>\nend</p>\n<p>function HandleCrowdAgentFailure(eventType, eventData)<br>\nlocal node = eventData:GetPtr(\u201cNode\u201d, \u201cNode\u201d)<br>\nlocal agent = eventData:GetPtr(\u201cCrowdAgent\u201d, \u201cCrowdAgent\u201d)<br>\nlocal agentState = eventData:GetInt(\u201cCrowdAgentState\u201d)</p>\n<pre><code>-- If the agent's state is invalid, likely from spawning on the side of a box, find a point in a larger area\nif agentState == CROWD_AGENT_INVALID then\n    -- Get a point on the navmesh using more generous extents\n    local newPos = navMesh:FindNearestPoint(node.worldPosition, Vector3(5, 5, 5))\n    -- Set the new node position, CrowdAgent component will automatically reset the state of the agent\n    node:SetWorldPosition(newPos)\nend\n</code></pre>\n<p>end</p>\n<p>\u2013 Create XML patch instructions for screen joystick layout specific to this sample app<br>\nfunction GetScreenJoystickPatchString()<br>\nreturn<br>\n\"\" \u2026<br>\n\"    &lt;add sel=\"/element\"&gt;\" \u2026<br>\n\"        &lt;element type=\u201cButton\u201d&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cName\u201d value=\u201cButton3\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cPosition\u201d value=\"-120 -120\" /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cSize\u201d value=\u201c96 96\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cHoriz Alignment\u201d value=\u201cRight\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cVert Alignment\u201d value=\u201cBottom\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cTexture\u201d value=\u201cTexture2D;Textures/TouchInput.png\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cImage Rect\u201d value=\u201c96 0 192 96\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cHover Image Offset\u201d value=\u201c0 0\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cPressed Image Offset\u201d value=\u201c0 0\u201d /&gt;\" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cLabel\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cHoriz Alignment\u201d value=\u201cCenter\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cVert Alignment\u201d value=\u201cCenter\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cColor\u201d value=\u201c0 0 0 1\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cSpawn Jack\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cKeyBinding\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cLSHIFT\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cMouseButtonBinding\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cLEFT\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"        \" \u2026<br>\n\"        &lt;element type=\u201cButton\u201d&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cName\u201d value=\u201cButton4\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cPosition\u201d value=\"-120 -12\" /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cSize\u201d value=\u201c96 96\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cHoriz Alignment\u201d value=\u201cRight\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cVert Alignment\u201d value=\u201cBottom\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cTexture\u201d value=\u201cTexture2D;Textures/TouchInput.png\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cImage Rect\u201d value=\u201c96 0 192 96\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cHover Image Offset\u201d value=\u201c0 0\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cPressed Image Offset\u201d value=\u201c0 0\u201d /&gt;\" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cLabel\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cHoriz Alignment\u201d value=\u201cCenter\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cVert Alignment\u201d value=\u201cCenter\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cColor\u201d value=\u201c0 0 0 1\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cObstacles\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"            &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cName\u201d value=\u201cMouseButtonBinding\u201d /&gt;\" \u2026<br>\n\"                &lt;attribute name=\u201cText\u201d value=\u201cMIDDLE\u201d /&gt;\" \u2026<br>\n\"            \" \u2026<br>\n\"        \" \u2026<br>\n\"    \" \u2026<br>\n\"    &lt;remove sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button0\u2019]]/attribute[@name=\u2018Is Visible\u2019]\" /&gt;\" \u2026<br>\n\"    &lt;replace sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button0\u2019]]/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Label\u2019]]/attribute[@name=\u2018Text\u2019]/<span class=\"mention\">@value</span>\"&gt;Set\" \u2026<br>\n\"    &lt;add sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button0\u2019]]\"&gt;\" \u2026<br>\n\"        &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cName\u201d value=\u201cMouseButtonBinding\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cText\u201d value=\u201cLEFT\u201d /&gt;\" \u2026<br>\n\"        \" \u2026<br>\n\"    \" \u2026<br>\n\"    &lt;remove sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button1\u2019]]/attribute[@name=\u2018Is Visible\u2019]\" /&gt;\" \u2026<br>\n\"    &lt;replace sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button1\u2019]]/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Label\u2019]]/attribute[@name=\u2018Text\u2019]/<span class=\"mention\">@value</span>\"&gt;Debug\" \u2026<br>\n\"    &lt;add sel=\"/element/element[./attribute[@name=\u2018Name\u2019 and @value=\u2018Button1\u2019]]\"&gt;\" \u2026<br>\n\"        &lt;element type=\u201cText\u201d&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cName\u201d value=\u201cKeyBinding\u201d /&gt;\" \u2026<br>\n\"            &lt;attribute name=\u201cText\u201d value=\u201cSPACE\u201d /&gt;\" \u2026<br>\n\"        \" \u2026<br>\n\"    \" \u2026<br>\n\"\"<br>\nend</p>\n<p>[/code][/spoiler]</p>", "post_number": 55, "post_type": 1, "updated_at": "2017-01-02T01:05:14.009Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 15, "readers_count": 14, "score": 3.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6203, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-22T05:47:52.000Z", "cooked": "<p>Thanks Sinoid, I\u2019ve just read your discussion with Mikko. I wasn\u2019t aware of the neighbor tile limitation.</p>\n<p>Do you think using Agents for moving obstacles, like I did, is a sound approach?</p>", "post_number": 56, "post_type": 1, "updated_at": "2017-01-02T01:05:14.435Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 6, "readers_count": 5, "score": 1.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6204, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-22T08:15:42.000Z", "cooked": "<p>Perfect! I will clean the sample and push it to master.</p>", "post_number": 57, "post_type": 1, "updated_at": "2017-01-02T01:05:14.500Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 6, "readers_count": 5, "score": 1.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6210, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-22T15:29:28.000Z", "cooked": "<p>Found the culprit for my issue with some connections unclimbable: as mask and areaID are not set to their default at creation, random values are assigned, making some connections non walkable. Enforcing to defaults, it never fails.</p>\n<p>Is it OK to set mask and areaID to their default (1 and 0) at creation of the connection (I can fix this in OffMeshConnection.cpp), or is there a reason to not do so?</p>", "post_number": 58, "post_type": 1, "updated_at": "2017-01-02T01:05:14.911Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 8, "readers_count": 7, "score": 6.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6211, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-22T17:45:41.000Z", "cooked": "<p>No problem, I\u2019ll fix this  <img src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=5\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"></p>\n<p>Do you think it is possible to automate the tile(s) rebuild when removing a connection?</p>\n<p>Not related, I noticed that after creating the DetourCrowdManager component, calling navMesh-&gt;Build() segfaults, which prevents from rebuilding the full scene.</p>", "post_number": 59, "post_type": 1, "updated_at": "2017-01-02T01:05:14.972Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 8, "readers_count": 7, "score": 6.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6216, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-23T05:45:41.000Z", "cooked": "<p>OK, thanks.</p>", "post_number": 60, "post_type": 1, "updated_at": "2017-01-02T01:05:15.379Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 10, "readers_count": 9, "score": 7.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6221, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-23T13:22:46.000Z", "cooked": "<p>Currently, DetourCrowdManager assumes there\u2019s only one navMesh, rooted to scene node (OnNodeSet()). Is this a limitation of DetourCrowd, or can we allow the use of multiple navMeshes that don\u2019t belong directly to the scene root? I\u2019ve tried to use SetNavigationMesh() just after creating the DetourCrowdManager but I still can\u2019t add agents to it.</p>\n<p>Also, the CreateCrowd() method is public and there exists some bindings for it. Not sure if this is good.</p>", "post_number": 61, "post_type": 1, "updated_at": "2017-01-02T01:05:15.784Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 3, "reads": 11, "readers_count": 10, "score": 17.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6223, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-23T16:03:55.000Z", "cooked": "<p>What I\u2019ve experimented is:</p>\n<ul>\n<li>create 2 independant navMeshes, not rooted to scene node</li>\n<li>the goal is not to make them communicate, they are 2 separate worlds behaving on their own</li>\n<li>creating a crowd manager fails, which is expected as it can\u2019t pick a navMesh, so I used SetNavigationMesh() to \u2018feed\u2019 it with an already built navMesh</li>\n<li>doing so, no agent get added to the crowd manager</li>\n</ul>\n<p>[spoiler][code]<br>\nrequire \u201cLuaScripts/Utilities/Sample\u201d</p>\n<p>local crowdManager = nil<br>\nlocal agents = {}<br>\nlocal NUM_BARRELS = 0</p>\n<p>function Start()<br>\nSampleStart()<br>\nCreateScene()<br>\nCreateUI()<br>\nSubscribeToEvents()<br>\nend</p>\n<p>function CreateScene()<br>\nscene_ = Scene()<br>\n\u2013 Create octree, use default volume (-1000, -1000, -1000) to (1000, 1000, 1000)<br>\n\u2013 Also create a DebugRenderer component so that we can draw debug geometry<br>\nscene_:CreateComponent(\u201cOctree\u201d)<br>\nscene_:CreateComponent(\u201cDebugRenderer\u201d)</p>\n<pre><code>-- ZONE\nlocal zoneNode = scene_:CreateChild(\"Zone\")\nlocal zone = zoneNode:CreateComponent(\"Zone\")\nzone.boundingBox = BoundingBox(-1000, 1000)\nzone.ambientColor = Color(0.15, 0.15, 0.15)\nzone.fogColor = Color(0.5, 0.5, 0.7)\nzone.fogStart = 100\nzone.fogEnd = 300\n\n-- LIGHT\nlocal lightNode = scene_:CreateChild(\"DirectionalLight\")\nlightNode.direction = Vector3(0.6, -1, 0.8)\nlocal light = lightNode:CreateComponent(\"Light\")\nlight.lightType = LIGHT_DIRECTIONAL\nlight.castShadows = true\nlight.shadowBias = BiasParameters(0.00025, 0.5)\n-- Set cascade splits at 10, 50 and 200 world units, fade shadows out at 80% of maximum shadow distance\nlight.shadowCascade = CascadeParameters(10, 50, 200, 0, 0.8)\n\n-- CAMERA\ncameraNode = Node()\nlocal camera = cameraNode:CreateComponent(\"Camera\")\ncamera.farClip = 300\ncameraNode.position = Vector3(0, 5, 0)\nrenderer:SetViewport(0, Viewport:new(scene_, camera))\n</code></pre>\n<p>\u2013====================  REGION <span class=\"hashtag\">#1</span>  ==========================<br>\nlocal region1 = scene_:CreateChild(\u201cRegion1\u201d)<br>\nregion1:CreateComponent(\u201cNavigable\u201d)</p>\n<pre><code>-- FLOOR\nlocal planeNode = region1:CreateChild(\"Plane\")\nplaneNode.scale = Vector3(50, 1, 100)\nplaneNode.position = Vector3(26, 0, 0)\nlocal planeObject = planeNode:CreateComponent(\"StaticModel\")\nplaneObject.model = cache:GetResource(\"Model\", \"Models/Plane.mdl\")\nplaneObject.material = cache:GetResource(\"Material\", \"Materials/StoneTiled.xml\")\nplaneNode:CreateComponent(\"Navigable\")\n\n-- BOX\nlocal boxes = {}\nfor i = 1, 20 do\n\tlocal boxNode = region1:CreateChild(\"Box\")\n\tlocal size = 1 + Random(8)\n\tboxNode.position = Vector3(26 + Random(40) - 20, size * 0.5, Random(80) - 40)\n\tboxNode:SetScale(size)\n\tlocal boxObject = boxNode:CreateComponent(\"StaticModel\")\n\tboxObject.model = cache:GetResource(\"Model\", \"Models/Box.mdl\")\n\tboxObject.material = cache:GetResource(\"Material\", \"Materials/Stone.xml\")\n\tboxObject.castShadows = true\n\tif size &gt;= 3 then\n\t\tboxObject.occluder = true\n\t\ttable.insert(boxes, boxNode)\n\tend\n\tboxNode:CreateComponent(\"Navigable\")\nend\n\n-- DynamicNavigationMesh\nlocal navMesh = region1:CreateComponent(\"DynamicNavigationMesh\")\nnavMesh.drawObstacles = true\nnavMesh.drawOffMeshConnections = true\nnavMesh.agentHeight = 10\nnavMesh.cellHeight = 0.05\nnavMesh.padding = Vector3(0, 10, 0)\nnavMesh:Build()\n\n-- DetourCrowdManager\ncrowdManager = scene_:CreateComponent(\"DetourCrowdManager\")\ncrowdManager.navMesh = navMesh\n\n-- CrowdAgent\nSpawnJack(navMesh, Vector3(5, 0, 20))\n</code></pre>\n<p>\u2013====================  REGION <span class=\"hashtag\">#2</span>  ==========================<br>\nlocal region2 = scene_:CreateChild(\u201cRegion2\u201d)<br>\nregion2:CreateComponent(\u201cNavigable\u201d)</p>\n<pre><code>-- FLOOR\nlocal planeNode = region2:CreateChild(\"Plane\")\nplaneNode.scale = Vector3(50, 1, 100)\nplaneNode.position = Vector3(-26, 0, 0)\nlocal planeObject = planeNode:CreateComponent(\"StaticModel\")\nplaneObject.model = cache:GetResource(\"Model\", \"Models/Plane.mdl\")\nplaneObject.material = cache:GetResource(\"Material\", \"Materials/StoneTiled.xml\")\n\n-- BOX\nlocal boxes = {}\nfor i = 1, 20 do\n\tlocal boxNode = region2:CreateChild(\"Box\")\n\tlocal size = 1 + Random(8)\n\tboxNode.position = Vector3(-26 + Random(40) - 20, size * 0.5, Random(80) - 40)\n\tboxNode:SetScale(size)\n\tlocal boxObject = boxNode:CreateComponent(\"StaticModel\")\n\tboxObject.model = cache:GetResource(\"Model\", \"Models/Box.mdl\")\n\tboxObject.material = cache:GetResource(\"Material\", \"Materials/Stone.xml\")\n\tboxObject.castShadows = true\n\tif size &gt;= 3 then\n\t\tboxObject.occluder = true\n\t\ttable.insert(boxes, boxNode)\n\tend\nend\n\n-- DynamicNavigationMesh\nlocal navMesh = region2:CreateComponent(\"DynamicNavigationMesh\")\nnavMesh.drawObstacles = true\nnavMesh.drawOffMeshConnections = true\nnavMesh.agentHeight = 10\nnavMesh.cellHeight = 0.05\nnavMesh.padding = Vector3(0, 10, 0)\nnavMesh:Build()\n\n-- DetourCrowdManager\n</code></pre>\n<p>\u2013\tlocal crowdManager2 = scene_:CreateComponent(\u201cDetourCrowdManager\u201d)<br>\n\u2013\tcrowdManager2.navigationMesh = navMesh</p>\n<pre><code>-- CrowdAgent\n</code></pre>\n<p>\u2013\tSpawnJack(navMesh, Vector3(-5, 0, 20))<br>\nend</p>\n<p>function CreateUI()<br>\n\u2013 Create a Cursor UI element because we want to be able to hide and show it at will. When hidden, the mouse cursor will<br>\n\u2013 control the camera, and when visible, it will point the raycast target<br>\nlocal style = cache:GetResource(\u201cXMLFile\u201d, \u201cUI/DefaultStyle.xml\u201d)<br>\nlocal cursor = Cursor:new()<br>\ncursor:SetStyleAuto(style)<br>\nui.cursor = cursor<br>\n\u2013 Set starting position of the cursor at the rendering window center<br>\ncursor:SetPosition(graphics.width / 2, graphics.height / 2)<br>\nend</p>\n<p>function SubscribeToEvents()<br>\nSubscribeToEvent(\u201cUpdate\u201d, \u201cHandleUpdate\u201d)<br>\nend</p>\n<p>function SpawnJack(navMesh, pos)<br>\nlocal jackNode = scene_:CreateChild(\u201cJack\u201d)<br>\njackNode.position = navMesh:FindNearestPoint(pos)<br>\nlocal modelObject = jackNode:CreateComponent(\u201cAnimatedModel\u201d)<br>\nmodelObject.model = cache:GetResource(\u201cModel\u201d, \u201cModels/Jack.mdl\u201d)<br>\nmodelObject.material = cache:GetResource(\u201cMaterial\u201d, \u201cMaterials/Jack.xml\u201d)<br>\nmodelObject.castShadows = true<br>\njackNode:CreateComponent(\u201cAnimationController\u201d)</p>\n<pre><code>-- Create a CrowdAgent component and set its height and realistic max speed/acceleration. Use default radius\nlocal agent = jackNode:CreateComponent(\"CrowdAgent\")\nagent.height = 2\nagent.maxSpeed = 4\nagent.maxAccel = 100\nagents = crowdManager:GetActiveAgents() -- Update agents container\nprint(#agents)\n</code></pre>\n<p>end</p>\n<p>function SetPathPoint()<br>\nlocal hitPos, hitDrawable = Raycast(250.0)</p>\n<pre><code>if hitDrawable then\n\tlocal region = hitDrawable.node.parent\n\tlocal navMesh = region:GetComponent(\"DynamicNavigationMesh\")\n    local pathPos = navMesh:FindNearestPoint(hitPos, Vector3.ONE)\n\n    if input:GetQualifierDown(QUAL_SHIFT) then\n        -- Spawn a Jack\n        SpawnJack(navMesh, pathPos)\n\n    elseif input:GetQualifierDown(QUAL_CTRL) and table.maxn(agents) &gt; NUM_BARRELS then\n        -- Teleport\n        local agent = agents[NUM_BARRELS + 1] -- Get first Jack agent\n        local node = agent.node\n        node:LookAt(pathPos) -- Face target\n        agent:SetMoveVelocity(Vector3.ZERO) -- Stop agent\n        node.position = pathPos\n\n    else\n        -- Set target position and init agents' move\n        for i = NUM_BARRELS + 1, table.maxn(agents) do\n            local agent = agents[i]\n            if i == NUM_BARRELS + 1 then\n                -- The first Jack agent will always move to the exact position and is strong enough to push barrels and his siblings (no avoidance)\n                agent.navigationPushiness = PUSHINESS_HIGH\n                agent:SetMoveTarget(pathPos)\n            else\n                -- Other Jack agents will move to a random point nearby\n                local targetPos = navMesh:FindNearestPoint(pathPos + Vector3(Random(-4.5, 4.5), 0, Random(-4.5, 4.5)), Vector3.ONE)\n                agent:SetMoveTarget(targetPos)\n            end\n        end\n    end\nend\n</code></pre>\n<p>end</p>\n<p>function AddOrRemoveObject()<br>\n\u2013 Raycast and check if we hit a mushroom node. If yes, remove it, if no, create a new one<br>\nlocal hitPos, hitDrawable = Raycast(250)<br>\nif hitDrawable then</p>\n<pre><code>\tlocal hitNode = hitDrawable.node\n\tif hitNode.name == \"Mushroom\" then\n\t\thitNode:Remove()\n\telseif hitNode.name == \"Jack\" then\n\t\thitNode:Remove()\n\t\tagents = crowdManager:GetActiveAgents() -- Update agents container\n\telse\n\t\tCreateMushroom(hitPos)\n\tend\nend\n</code></pre>\n<p>end</p>\n<p>function Raycast(maxDistance)<br>\nlocal pos = ui.cursorPosition<br>\n\u2013 Check the cursor is visible and there is no UI element in front of the cursor<br>\nif (not ui.cursor.visible) or (ui:GetElementAt(pos, true) ~= nil) then return nil, nil end</p>\n<pre><code>local camera = cameraNode:GetComponent(\"Camera\")\nlocal cameraRay = camera:GetScreenRay(pos.x / graphics.width, pos.y / graphics.height)\n-- Pick only geometry objects, not eg. zones or lights, only get the first (closest) hit\nlocal octree = scene_:GetComponent(\"Octree\")\nlocal result = octree:RaycastSingle(cameraRay, RAY_TRIANGLE, maxDistance, DRAWABLE_GEOMETRY)\nif result.drawable ~= nil then\n\treturn result.position, result.drawable\nend\n\nreturn nil, nil\n</code></pre>\n<p>end</p>\n<p>function MoveCamera(timeStep)<br>\n\u2013 Right mouse button controls mouse cursor visibility: hide when pressed<br>\nui.cursor.visible = not input:GetMouseButtonDown(MOUSEB_RIGHT)</p>\n<pre><code>-- Do not move if the UI has a focused element (the console)\nif ui.focusElement ~= nil then\n\treturn\nend\n\n-- Movement speed as world units per second\nlocal MOVE_SPEED = 20\n-- Mouse sensitivity as degrees per pixel\nlocal MOUSE_SENSITIVITY = 0.1\n\n-- Use this frame's mouse motion to adjust camera node yaw and pitch. Clamp the pitch between -90 and 90 degrees\n-- Only move the camera when the cursor is hidden\nif not ui.cursor.visible then\n\tlocal mouseMove = input.mouseMove\n\tyaw = yaw + MOUSE_SENSITIVITY * mouseMove.x\n\tpitch = pitch + MOUSE_SENSITIVITY * mouseMove.y\n\tpitch = Clamp(pitch, -90, 90)\n\n\t-- Construct new orientation for the camera scene node from yaw and pitch. Roll is fixed to zero\n\tcameraNode.rotation = Quaternion(pitch, yaw, 0)\nend\n\n-- Read WASD keys and move the camera scene node to the corresponding direction if they are pressed\nif input:GetKeyDown(KEY_W) then cameraNode:Translate(Vector3(0, 0, 1) * MOVE_SPEED * timeStep) end\nif input:GetKeyDown(KEY_S) then cameraNode:Translate(Vector3(0, 0, -1) * MOVE_SPEED * timeStep) end\nif input:GetKeyDown(KEY_A) then cameraNode:Translate(Vector3(-1, 0, 0) * MOVE_SPEED * timeStep) end\nif input:GetKeyDown(KEY_D) then cameraNode:Translate(Vector3(1, 0, 0) * MOVE_SPEED * timeStep) end\n\n-- Set destination or spawn a jack with left mouse button\nif input:GetMouseButtonPress(MOUSEB_LEFT) then\n\tSetPathPoint()\nend\n-- Add new obstacle or remove existing obstacle/agent with middle mouse button\nif input:GetMouseButtonPress(MOUSEB_MIDDLE) then\n\tAddOrRemoveObject()\nend\n\n-- Check for loading/saving the scene from/to the file Data/Scenes/CrowdNavigation.xml relative to the executable directory\nif input:GetKeyPress(KEY_F5) then\n\tscene_:SaveXML(fileSystem:GetProgramDir()..\"Data/Scenes/CrowdNavigation.xml\")\nend\nif input:GetKeyPress(KEY_F7) then\n\tscene_:LoadXML(fileSystem:GetProgramDir()..\"Data/Scenes/CrowdNavigation.xml\")\n\t-- After reload, reacquire crowd manager &amp; agents\n\tcrowdManager = scene_:GetComponent(\"DetourCrowdManager\")\n\tagents = crowdManager:GetActiveAgents()\nend\n\n-- Toggle debug geometry with space\nif input:GetKeyPress(KEY_SPACE) then\n\tdrawDebug = not drawDebug\nend\n</code></pre>\n<p>end</p>\n<p>function HandleUpdate(eventType, eventData)<br>\n\u2013 Move the camera, scale movement with time step<br>\nMoveCamera(eventData:GetFloat(\u201cTimeStep\u201d))</p>\n<pre><code>-- Make the CrowdAgents face the direction of their velocity and update animation\nfor i, agent in ipairs(agents) do\n\tlocal node = agent.node\n\tif node.name == \"Jack\" then\n\t\tlocal animCtrl = node:GetComponent(\"AnimationController\")\n\t\tlocal velocity = agent.actualVelocity\n\t\tif velocity:Length() &lt; 0.6 then\n\t\t\tanimCtrl:Stop(\"Models/Jack_Walk.ani\", 0.2)\n\t\telse\n\t\t\tnode.worldDirection = velocity\n\t\t\tanimCtrl:PlayExclusive(\"Models/Jack_Walk.ani\", 0, true, 0.2)\n\t\t\tanimCtrl:SetSpeed(\"Models/Jack_Walk.ani\", velocity:Length() * 0.3)\n\t\tend\n\tend\nend\n</code></pre>\n<p>end<br>\n[/code][/spoiler]</p>", "post_number": 62, "post_type": 1, "updated_at": "2017-01-02T01:05:15.924Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 13, "readers_count": 12, "score": 2.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6224, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-23T17:18:07.000Z", "cooked": "<p>Thanks, I must admit that this experiment is more to test the limits than for real-life practice, so it may not be worth investigating further.</p>", "post_number": 63, "post_type": 1, "updated_at": "2017-01-02T01:05:16.011Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6243, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-25T14:06:45.000Z", "cooked": "<p>I am too experimenting with this sample lately. I have increased the number of \u201cmoving barrels\u201d from 20 to 200 and spawned a few dozens of Jacks to walk around. In this scenario, one could observe easily a number of Jacks simply do not able to reach their targets due to the barrels on their paths. It is unexpected because they know how to walk around obstacles, yet they are easily stopped by the barrels as they are \u201ctoo polite\u201d to wait for barrels to clear the way which of course the barrels don\u2019t. Currently only the pilot Jack is strong enough to throw its weight to push the barrels around. Long story short, setting the navigation pushiness to \u201chigh\u201d to all the Jacks solves the problem so they can clear the paths by themselves. However, this creates yet another problem. The \u201chigh\u201d setting makes Jacks do not play nice with each other. I have spent quite some time to tweak the settings but I could not get the result I desire. Basically, all jacks can push barrels but play nice by avoiding each other (instead of pushing each other). May be I have missed out some other settings. Anyone know how to achieve this?</p>", "post_number": 64, "post_type": 1, "updated_at": "2017-01-02T01:05:17.411Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 16.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6257, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-26T05:22:00.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n Sinoid:</div>\n<blockquote>\n<p>[quote]May be I have missed out some other settings.</p>\n</blockquote>\n</aside>\n<p>Nope, there isn\u2019t a whole lot there - big black box.</p>\n<p>To explain pushiness: as pushiness increases the agent\u2019s \u201cpending collision range\u201d and separation space it likes between itself and others decreases. A less pushy agent stays further away and avoids sooner. A pushier agent practically runs everyone over, forcing less pushy agents away because their separation space has been violated.[/quote]<br>\nThanks for the reply. Yes, I have understood that much. I could almost conclude myself that it is not possible to achieve what I desire with the current crowd agent setup alone. As it is, the \u201cpushiness\u201d or \u201cniceness\u201d of the crowd agent is an absolute setting instead of relative one. That is, it does not know how to handle the other agents differently based on their own \u201cweight\u201d, which is a pity. To me, it appears that the only way to achieve my desired effect is to use the Physics proper.</p>", "post_number": 65, "post_type": 1, "updated_at": "2017-01-02T01:05:18.486Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 7, "readers_count": 6, "score": 1.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6259, "name": "", "username": "franck22000", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png", "created_at": "2015-05-26T08:13:58.000Z", "cooked": "<p>In my old engine i was using recast and i was using navmesh obstacles for dealing wit obstacles. Why it is not possible on the current implementation ? <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>\n<p>[video]<a href=\"https://www.youtube.com/watch?v=EXQuJvMiY-o%5B/video%5D\" rel=\"nofollow noopener\">https://www.youtube.com/watch?v=EXQuJvMiY-o[/video]</a></p>", "post_number": 66, "post_type": 1, "updated_at": "2017-01-02T01:05:18.608Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://www.youtube.com/watch?v=EXQuJvMiY-o%5B/video%5D", "internal": false, "reflection": false, "title": "AiNavDemo", "clicks": 1}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 174, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6261, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-26T09:45:05.000Z", "cooked": "<p>I believe you have missed the point of what the barrel in the sample is trying to emulate. If we use the actual \u201cobstacle\u201d to implement the barrel and partially rebuild the nav mesh when it has moved then there should be also no problem with our current implementation. The sample intentionally uses the \u201ccrowd agent\u201d to implement the barrel to simulate a \u201cmoving obstacle\u201d to avoid the cost of rebuilding the nav mesh. And this is where the problem begins.</p>", "post_number": 67, "post_type": 1, "updated_at": "2017-01-02T01:05:18.780Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6263, "name": "", "username": "franck22000", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png", "created_at": "2015-05-26T10:43:45.000Z", "cooked": "<p>Alright weitjong now i see <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>", "post_number": 68, "post_type": 1, "updated_at": "2017-01-02T01:05:18.917Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 174, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6266, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-05-26T12:05:23.000Z", "cooked": "<p>@ weitjong, did you try with low pushiness (or medium) + low navigation quality for agents?</p>", "post_number": 69, "post_type": 1, "updated_at": "2017-01-02T01:05:19.121Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6270, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-26T17:32:47.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Mike\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/40.png\" class=\"avatar\"> Mike:</div>\n<blockquote>\n<p>@ weitjong, did you try with low pushiness (or medium) + low navigation quality for agents?</p>\n</blockquote>\n</aside>\n<p>I think I have tried all the combinations of pushiness setting that make sense but none work. I have not tried to modify the navigation quality though. However, as per explanation from Sinod and also from my experiment observation, it is simply not possible to do with crowd agent alone due to agent pushiness setting cannot be set relatively, say, Jack to another Jack is \u201cmedium\u201d and Jack to another barrel is \u201chigh\u201d, or something like that.</p>\n<p>I have almost complete experimenting with the sample. I have also made changes and bug fixes in the DetourCrowd implementation classes along the way. There is one more thing I observed that looks strange to me. When an agent reaches its target, a target \u201carrived\u201d state change event is fired. This is expected. However, somehow it will be followed by yet another agent reposition and target \u201cvalid\u201d state change events before everything comes to a full stop. To me, these reposition and target \u201cvalid\u201d state change event should not have occurred and that the target \u201carrived\u201d should be the last event. <a class=\"mention\" href=\"/u/sinoid\">@Sinoid</a>, do you know why it happens and can it be prevented? In my revised sample, I plan to use the target \u201carrived\u201d event to stop the walking animation. Currently it does not work well because the following \u201cbogus\u201d reposition event starts the animation again immediately after.</p>", "post_number": 70, "post_type": 1, "updated_at": "2017-01-02T01:05:19.490Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6271, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-26T18:15:17.000Z", "cooked": "<p>Thanks for the quick reply. I will take a closer look at that GetTargetState() function again tomorrow. I was (still am) kind of lost with the \u201ccorner\u201d thingy earlier. It is quite late here already. Stopping the animation correctly is the last thing I want to do before committing my patch. You can go ahead to push yours.</p>", "post_number": 71, "post_type": 1, "updated_at": "2017-01-02T01:05:19.587Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6288, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-27T14:07:23.000Z", "cooked": "<p>I have just pushed my patch to master branch. <span class=\"mention\">@Sinoid</span>, feel free to revert back any of the changes.</p>\n<p>I am this close to remove the barrel agents for emulating the moving obstacles as they don\u2019t work as expected with any combination of the pushiness I have tried. I also feel that it does not fit the purpose of the sample to demonstrate a proper usage of the CrowdAgent class. Anyway, that is only my opinion so in the end I just leave them untouched in the sample.</p>\n<p>While refactoring the DetourCrowd implementation, I notice that a few setter methods call MarkNetworkUpdate(), however, there are no corresponding network attribute to be propagated remotely. I don\u2019t have the time to clean up those yet. I think they should either have the network attribute added or just remove the call if the network attribute does not make sense for the specific setter method.</p>", "post_number": 72, "post_type": 1, "updated_at": "2017-01-02T01:05:20.854Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 35, "reads": 11, "readers_count": 10, "score": 177.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6328, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-29T05:33:12.000Z", "cooked": "<p>Just a head up. I am still in refactoring mode or mood, so expect more changes to come. Although I agree with you that we have to be careful not to flood the network when agents are being updated, we should also at the same time keep all the crowd managers in the network to update the crowd agents in a deterministic way. So, IMHO, in order to achieve this then all the agent\u2019s attributes and parameters must be in sync across the network.</p>\n<p>I have a few questions (not related to the above). It looks to me there may be a copy-paste error here. <a href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Navigation/DetourCrowdManager.cpp#L343-L373\">github.com/urho3d/Urho3D/blob/m \u2026 #L343-L373</a>. I have to admit I have no experience with DetourCrowd before so I don\u2019t know what is the sensible settings for low, medium, and high navigation quality. I suppose the \u201cobstacleAvoidanceType\u201d setting should be different in each case. At the moment it always stays at 3 (because it is also initialized to 3 when the agent is added initially). Line 355 appears to be redundant. And with that line removed then the \u201cupdateFlags\u201d is effectively the same between low and medium[?]</p>", "post_number": 73, "post_type": 1, "updated_at": "2017-01-02T01:05:23.644Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 11, "readers_count": 10, "score": 7.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Navigation/DetourCrowdManager.cpp#L343-L373", "internal": false, "reflection": false, "clicks": 1}], "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6339, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-05-30T11:52:58.000Z", "cooked": "<p>Thanks for your insight. It would be good to hear from the original author also. Aside from the apparently copy-paste error, there may be a good reason why the flags are being set as they are now. Why the DT_CROWD_SEPARATION flag is not set in the \u201chigh\u201d setting, but effectively DT_CROWD_SEPARATION flag is the only remaining after the bitwise flip for the \u201clow\u201d and \u201cmedium\u201d. If I could do it my way then I would probably set the flags for \u201clow\u201d, \u201cmedium\u201d, and \u201chigh\u201d based on the amount of CPU processing they require (see DetourCrowd::Update() implementation). Something like this.</p>\n<pre><code class=\"lang-auto\">        if (scope &amp; SCOPE_NAVIGATION_QUALITY_PARAMS)\n        {\n            switch (navQuality_)\n            {\n            case NAVIGATIONQUALITY_LOW:\n                params.updateFlags = 0\n                    | DT_CROWD_OPTIMIZE_VIS\n                    | DT_CROWD_ANTICIPATE_TURNS;\n                break;\n\n            case NAVIGATIONQUALITY_MEDIUM:\n                params.updateFlags = 0\n                    | DT_CROWD_OPTIMIZE_TOPO\n                    | DT_CROWD_OPTIMIZE_VIS\n                    | DT_CROWD_ANTICIPATE_TURNS\n                    | DT_CROWD_SEPARATION;\n                break;\n\n            case NAVIGATIONQUALITY_HIGH:\n                params.obstacleAvoidanceType = 3;\n                params.updateFlags = 0\n                    // Path finding\n                    | DT_CROWD_OPTIMIZE_TOPO\n                    | DT_CROWD_OPTIMIZE_VIS\n                    // Steering\n                    | DT_CROWD_ANTICIPATE_TURNS\n                    | DT_CROWD_SEPARATION\n                    // Velocity planning\n                    | DT_CROWD_OBSTACLE_AVOIDANCE;\n                break;\n            }\n        }</code></pre>\n<p>But then again, as I said I have no past experience to justify any of this. The \u201cobstacleAvoidanceType\u201d setting is really only required for the last case as only there the \u201cDT_CROWD_OBSTACLE_AVOIDANCE\u201d flag is set. I think it should be made as a standalone attribute/property so it can be set/get separately instead of always hardcoding it to type 3.</p>", "post_number": 74, "post_type": 1, "updated_at": "2017-01-02T01:05:24.475Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6370, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-06-03T14:04:54.000Z", "cooked": "<p>I have created another branch for the refactoring work. Reason being, the changes break a few of the APIs. The params.updateFlags switch cases is now modified to what I have proposed in my earlier post. Please shout early when any of you don\u2019t like where the new branch is heading.</p>\n<p>Today I find yet another discrepancy between what is expected by NavigationMesh component class and (Detour)CrowdManager component class. From what I understand, the former expects to receive and return position in world coordinate, while the latter expects them in local coordinate. More precisely, the latter assumes the local and world coordinates are to be the same because it always assume the dtCrowd is initialized with navmesh parented to root scene node. I find it a little bit disturbing. Should we not making that assumption and always perform the world &lt;-&gt; local coordinate conversion in the CrowdManager/CrowdAgent components? It will make it easier should we later decide to support navmesh to be parented in any node. Actually this point has been brought up by Mike earlier. Are there any practicality in supporting multiple (disconnected) navmeshes in a single scene hierarchy?</p>", "post_number": 75, "post_type": 1, "updated_at": "2017-01-02T01:05:26.854Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 7, "readers_count": 6, "score": 1.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6371, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2015-06-03T14:33:59.000Z", "cooked": "<p>I originally wrote the basic NavigationMesh to take into account that it might not be in the scene root, and might not have zero origin, so doing the same for CrowdManager would be logical. There may be an issue how the crowdmanager will find the navmesh if not in scene root, and likewise how the agents will find the crowdmanager if not in scene root, though.</p>", "post_number": 76, "post_type": 1, "updated_at": "2017-01-02T01:05:26.941Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6372, "name": "", "username": "thebluefish", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "created_at": "2015-06-03T16:37:28.000Z", "cooked": "<p>Well say I wanted 8 different, completely unrelated crowds. Right now it doesn\u2019t seem like that would be possible because we\u2019re limited to one CrowdManager.</p>\n<p>Simplest idea is to have the agents check its parent, its parent\u2019s parent, etc\u2026 up the tree until it finds a parent with a CrowdManager component, then use that. Alternatively have an Attribute with a Node ID or Component ID.</p>", "post_number": 77, "post_type": 1, "updated_at": "2017-01-02T01:05:27.004Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 80, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6381, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-06-04T03:16:49.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Sinoid\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/40.png\" class=\"avatar\"> Sinoid:</div>\n<blockquote>\n<p>Ah, local/world space. NavAreas are wrong, both in debug visualization and marking in the navigation mesh. DebugDraw has to be relative to the space of the navmesh as the bounds has to be an AABB relative to the dtNavMesh.</p>\n</blockquote>\n</aside>\n<p>I cannot decide which is more important to do first. Supporting navmesh in any node or fixing those coordinate space conversion first? If a navmesh can be made to attach to a transformed node then it will be easy to spot the coordinate space mistake. On the other hand, I am still not sure whether there is any valid use cases for (multiple) navmesh attached to any node, but probably it is easier to justify to have a single navmesh attached to a non-scene node. The problem of searching the correct navmesh (should we have more than one in the scene hierarchy) is a solvable one though. I think it is understandable that multiple navmesh support requires multiple dtCrowd objects (probably still being managed by one CrowdManager class).</p>\n<aside class=\"quote no-group\" data-username=\"Sinoid\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/40.png\" class=\"avatar\"> Sinoid:</div>\n<blockquote>\n<p>Who belongs to which NavigationMesh? As in navigables, obstacles, and navareas. Just those beneath it in the scene tree from the mesh?</p>\n</blockquote>\n</aside>\n<p>Yes, that is the most sensible way to do it. So, if an application had chosen to attach the navmesh in the scene node then the navmesh would be built using all the components beneath the scene node similar to what we have now. No surprises.</p>\n<aside class=\"quote no-group\" data-username=\"thebluefish\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/t/f04885/40.png\" class=\"avatar\"> thebluefish:</div>\n<blockquote>\n<p>Well say I wanted 8 different, completely unrelated crowds. Right now it doesn\u2019t seem like that would be possible because we\u2019re limited to one CrowdManager.</p>\n</blockquote>\n</aside>\n<p>Aside from memory footprint problem pointed by Sinoid, I don\u2019t agree this is a valid reason or use case for having multiple navmesh. I could be wrong but from the context, I think you meant to say \u201c8 crowds moving to 8 different target positions (from a same navmesh)\u201d. If so then that is doable now with current implementation. The dtCrowd just simulates the crowd movement. It does not really care much where each agent is going or whether they are going in flock.</p>", "post_number": 78, "post_type": 1, "updated_at": "2017-01-02T01:05:27.826Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6682, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-07-09T04:58:59.000Z", "cooked": "<p><span class=\"mention\">@Sinoid</span>. Thanks for the offer. My refactoring was abruptly disrupted by my attempt to switch IDE from Eclipse to CLion. In the process I had to side track to perform yet another refactoring to make our code base plays nice with CLion. I will attempt to rebase the refactor-crowd branch when I have time later to bring it up to speed. I am sorry that I could not give you any notes as I am not sure myself where I have left off last time.  <img src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=5\" title=\":wink:\" class=\"emoji\" alt=\":wink:\">  But I do have local commit that I haven\u2019t pushed and some unfinished work in git stash.</p>", "post_number": 79, "post_type": 1, "updated_at": "2017-01-02T01:05:50.751Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 6758, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-07-14T09:19:35.000Z", "cooked": "<p>The refactor-crowd branch is now rebased and reformat to match what we have in the master branch. Be my guest to send PR against it (or you can probably write to Lasse to become Urho3D team member and grant you direct push privilege). I think I remember now where I left it. I think I want to make the navMesh to be auto-discovered in the scene hierarchy, i.e. freeing it from the assumption that it is direct child of root scene node. As such, the component(s) need to perform world &lt;\u2013&gt; local coordinate space transformation as necessary. I also intend to clean up the classes as necessary and to make them better integrate with the Scene Editor. I think I am only done doing that for CrowdAgent and CrowdManager class. The changes are not necessarily backward compatible. I will continue to work on this branch when I have time.</p>", "post_number": 80, "post_type": 1, "updated_at": "2017-01-02T01:05:56.294Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 11, "readers_count": 10, "score": 7.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 7195, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-08-15T04:01:57.000Z", "cooked": "<p><a class=\"mention\" href=\"/u/cadaver\">@cadaver</a>, any objection to merge this branch in as it is? Although the refactoring work to make the navMesh auto-discovered in the scene hierarchy with world &lt;\u2013&gt; local coordinate space transformation has not been completed yet, some of the work to improve the attribute editing for the CrowdAgent &amp; CrowdManager in Editor should be valuable enough to be merged for earlier testing. As mentioned before, some of the changes are not backward compatible. But at the very least, as it is now the branch is at a nice logical break point where early merge does not break the build and the crowd navigation demo still runs. This way, I don\u2019t need to keep rebasing it.</p>", "post_number": 81, "post_type": 1, "updated_at": "2017-01-02T01:06:28.105Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 7199, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2015-08-15T10:37:08.000Z", "cooked": "<p>No objections.</p>", "post_number": 82, "post_type": 1, "updated_at": "2017-01-02T01:06:28.396Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 12, "readers_count": 11, "score": 2.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 7453, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-08-31T05:50:09.000Z", "cooked": "<p>Seems that NavigationMesh::GetRandomPoint() no longer works in script (always returns a Vector3::ZERO).<br>\nThis is certainly due to the Detour parameters of the function (dtQueryFilter and dtPolyRef).</p>", "post_number": 83, "post_type": 1, "updated_at": "2017-01-02T01:06:46.841Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 12, "readers_count": 11, "score": 2.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 7454, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-08-31T08:32:34.000Z", "cooked": "<p>I am not able to reproduce your problem using Lua script. Both the NavigationMesh::GetRandomPoint() and CrowdManager::GetRandomPoint() are tested. Are you mixing up the usage between these two? The latter requires a \u201cqueryFilterType\u201d argument.</p>", "post_number": 84, "post_type": 1, "updated_at": "2017-01-02T01:06:46.926Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 10, "readers_count": 9, "score": 7.0, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 7455, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-08-31T09:22:50.000Z", "cooked": "<p>Thanks, I\u2019m using NavigationMesh::GetRandomPoint() with AngelScript.</p>", "post_number": 85, "post_type": 1, "updated_at": "2017-01-02T01:06:46.987Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 12, "readers_count": 11, "score": 2.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 7456, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-08-31T11:27:48.000Z", "cooked": "<p>I am using 39_CrowdNavigation.as to test. Replacing the GetRandomPointInCircle() with GetRandomPoint(). Also called the navmesh version instead of crowdmanager version. They work as expected. I am using the latest master branch revision. I am testing using Linux platform as always. Both the Lua and AngelScript bindings rely on the fact that dtQueryFilter* and dtPolyRef* parameters will be defaulted to 0. I think I have done enough regression test before making that change while the code were still in the refactoring branch. I would be surprised if the same code runs differently on other target platforms though.</p>", "post_number": 86, "post_type": 1, "updated_at": "2017-01-02T01:06:47.047Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 12, "readers_count": 11, "score": 2.4, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 7458, "name": "", "username": "Mike", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "created_at": "2015-08-31T12:06:38.000Z", "cooked": "<p>EDIT: has been fixed by this <a href=\"https://github.com/urho3d/Urho3D/commit/ae0544291afb5a01e26ecc6429c161515aeb8375\" data-bbcode=\"true\">commit</a>.</p>", "post_number": 87, "post_type": 1, "updated_at": "2017-01-02T01:06:47.188Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 13, "readers_count": 12, "score": 2.6, "yours": false, "topic_id": 470, "topic_slug": "detourcrowd-implementation", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/urho3d/Urho3D/commit/ae0544291afb5a01e26ecc6429c161515aeb8375", "internal": false, "reflection": false, "title": "Add wrapper functions for NavigationMesh functions that take optional\u2026 \u00b7 urho3d/Urho3D@ae05442 \u00b7 GitHub", "clicks": 5}], "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 9, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}], "stream": [2574, 2575, 2589, 2593, 2595, 2605, 2613, 2618, 2621, 2623, 2672, 2673, 2674, 2683, 2687, 2998, 3006, 3008, 3020, 3021, 3023, 3029, 3117, 3120, 3122, 4186, 5690, 5696, 5733, 5736, 5737, 5840, 5857, 5867, 5871, 6033, 6034, 6049, 6051, 6056, 6063, 6065, 6071, 6170, 6172, 6173, 6175, 6178, 6179, 6181, 6191, 6193, 6194, 6196, 6198, 6203, 6204, 6210, 6211, 6216, 6221, 6223, 6224, 6243, 6257, 6259, 6261, 6263, 6266, 6270, 6271, 6288, 6328, 6339, 6370, 6371, 6372, 6381, 6682, 6758, 7195, 7199, 7453, 7454, 7455, 7456, 7458]}, "timeline_lookup": [[1, 2969], [3, 2968], [6, 2967], [8, 2966], [11, 2957], [14, 2956], [15, 2955], [16, 2938], [17, 2937], [19, 2936], [23, 2930], [24, 2929], [26, 2866], [27, 2786], [29, 2783], [32, 2774], [33, 2773], [34, 2771], [36, 2758], [38, 2757], [43, 2756], [44, 2746], [45, 2745], [51, 2744], [53, 2743], [56, 2742], [59, 2741], [63, 2740], [64, 2739], [65, 2738], [70, 2737], [73, 2735], [74, 2734], [75, 2730], [78, 2729], [79, 2694], [80, 2689], [81, 2657], [83, 2641]], "tags_descriptions": {}, "id": 470, "title": "DetourCrowd implementation", "fancy_title": "DetourCrowd implementation", "posts_count": 87, "created_at": "2014-10-07T11:29:54.000Z", "views": 1811, "reply_count": 0, "like_count": 1, "last_posted_at": "2015-08-31T12:06:38.000Z", "visible": true, "closed": false, "archived": false, "has_summary": true, "archetype": "regular", "slug": "detourcrowd-implementation", "category_id": 10, "word_count": 13541, "deleted_at": null, "user_id": 20, "featured_link": null, "pinned_globally": false, "pinned_at": null, "pinned_until": null, "image_url": null, "slow_mode_seconds": 0, "draft": null, "draft_key": "topic_470", "draft_sequence": null, "unpinned": null, "pinned": false, "current_post_number": 1, "highest_post_number": 87, "deleted_by": null, "actions_summary": [{"id": 4, "count": 0, "hidden": false, "can_act": false}, {"id": 8, "count": 0, "hidden": false, "can_act": false}, {"id": 7, "count": 0, "hidden": false, "can_act": false}], "chunk_size": 20, "bookmarked": false, "bookmarks": [], "topic_timer": null, "message_bus_last_id": 0, "participant_count": 14, "show_read_indicator": false, "thumbnails": null, "slow_mode_enabled_until": null, "tags_disable_ads": false, "details": {"can_edit": false, "notification_level": 1, "participants": [{"id": 9, "username": "Mike", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png", "post_count": 28, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "moderator": true, "trust_level": 2}, {"id": 4, "username": "weitjong", "name": "Yao Wei Tjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "post_count": 24, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "admin": true, "trust_level": 4}, {"id": 30, "username": "JTippetts", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "post_count": 7, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 20, "username": "scorvi", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png", "post_count": 7, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 3, "username": "cadaver", "name": "Lasse \u00d6\u00f6rni", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "post_count": 6, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "admin": true, "trust_level": 2}, {"id": 80, "username": "thebluefish", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "post_count": 4, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 8, "username": "Azalrion", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/f04885/{size}.png", "post_count": 3, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 174, "username": "franck22000", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 15, "username": "friesencr", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 42, "username": "OvermindDL1", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/o/a8b319/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 205, "username": "TikariSakari", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f4b2a3/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 114, "username": "hdunderscore", "name": "hd_", "avatar_template": "/user_avatar/discourse.urho3d.io/hdunderscore/{size}/1151_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 148, "username": "codingmonkey", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 197, "username": "GoogleBot42", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}], "created_by": {"id": 20, "username": "scorvi", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e47c2d/{size}.png"}, "last_poster": {"id": 9, "username": "Mike", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png"}, "links": [{"url": "https://github.com/urho3d/Urho3D/commit/ae0544291afb5a01e26ecc6429c161515aeb8375", "title": "Add wrapper functions for NavigationMesh functions that take optional\u2026 \u00b7 urho3d/Urho3D@ae05442 \u00b7 GitHub", "internal": false, "attachment": false, "reflection": false, "clicks": 5, "user_id": 9, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://github.com/JTippetts/Urho3D/tree/DetourCrowd", "title": "GitHub - JTippetts/Urho3D at DetourCrowd", "internal": false, "attachment": false, "reflection": false, "clicks": 4, "user_id": 30, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://github.com/masagroup/recastdetour", "title": "GitHub - masagroup/recastdetour: Navigation engine for games and simulations", "internal": false, "attachment": false, "reflection": false, "clicks": 3, "user_id": 8, "domain": "github.com", "root_domain": "github.com"}, {"url": "http://urho3d.github.io/documentation/HEAD/_contribution_checklist.html", "title": "Urho3D - Documentation - Contribution checklist", "internal": false, "attachment": false, "reflection": false, "clicks": 2, "user_id": 30, "domain": "urho3d.github.io", "root_domain": "urho3d.github.io"}, {"url": "http://imgur.com/3KGhszO", "title": "Imgur: The most awesome images on the Internet", "internal": false, "attachment": false, "reflection": false, "clicks": 2, "user_id": 20, "domain": "imgur.com", "root_domain": "imgur.com"}, {"url": "https://www.youtube.com/watch?v=BpB_Ar31O8I%5B/video%5D", "title": "Urho3D Navigation Agents - YouTube", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 8, "domain": "www.youtube.com", "root_domain": "youtube.com"}, {"url": "https://www.youtube.com/watch?v=EXQuJvMiY-o%5B/video%5D", "title": "AiNavDemo", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 174, "domain": "www.youtube.com", "root_domain": "youtube.com"}, {"url": "http://urho3d.github.io/samples/39_CrowdNavigation.html", "title": "Emscripten-Generated Code", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 4, "domain": "urho3d.github.io", "root_domain": "urho3d.github.io"}, {"url": "http://imgur.com/kCBpcOQ", "title": "Imgur: The most awesome images on the Internet", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 20, "domain": "imgur.com", "root_domain": "imgur.com"}, {"url": "https://github.com/scorvi/Urho3D/tree/DetourCrowd", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 20, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Navigation/DetourCrowdManager.cpp#L343-L373", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 4, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Navigation/DetourCrowdManager.cpp#L504-L507", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 4, "domain": "github.com", "root_domain": "github.com"}]}, "suggested_topics": [{"id": 7083, "title": "Using custom models in Xamarin.Forms shared project", "fancy_title": "Using custom models in Xamarin.Forms shared project", "slug": "using-custom-models-in-xamarin-forms-shared-project", "posts_count": 3, "reply_count": 1, "highest_post_number": 3, "image_url": null, "created_at": "2021-12-03T08:34:21.895Z", "last_posted_at": "2021-12-03T11:40:30.983Z", "bumped": true, "bumped_at": "2021-12-03T11:40:30.983Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 198, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1493, "username": "Nikolai", "name": "Nikolai Miroshnichenko", "avatar_template": "/user_avatar/discourse.urho3d.io/nikolai/{size}/3632_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}, {"id": 7098, "title": "Cartoon Fire Effect", "fancy_title": "Cartoon Fire Effect", "slug": "cartoon-fire-effect", "posts_count": 6, "reply_count": 0, "highest_post_number": 6, "image_url": null, "created_at": "2021-12-10T04:08:49.887Z", "last_posted_at": "2021-12-12T02:49:51.076Z", "bumped": true, "bumped_at": "2021-12-12T02:49:51.076Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 6, "views": 274, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]}, {"id": 7105, "title": "Multiple Application.UI Roots?", "fancy_title": "Multiple Application.UI Roots?", "slug": "multiple-application-ui-roots", "posts_count": 3, "reply_count": 1, "highest_post_number": 3, "image_url": "https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/74b10ce575f1b69fe43be4abcb07605d74a1d27c_2_1024x544.jpeg", "created_at": "2021-12-20T08:55:14.707Z", "last_posted_at": "2021-12-22T02:33:05.795Z", "bumped": true, "bumped_at": "2021-12-22T02:33:05.795Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 243, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1334, "username": "najak3d", "name": "Brian Knox", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}, {"extras": null, "description": "Frequent Poster, Accepted Answer", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}, {"id": 7097, "title": "View Physics event for ConvexCast", "fancy_title": "View Physics event for ConvexCast", "slug": "view-physics-event-for-convexcast", "posts_count": 11, "reply_count": 5, "highest_post_number": 11, "image_url": null, "created_at": "2021-12-09T23:56:27.507Z", "last_posted_at": "2021-12-12T20:20:02.788Z", "bumped": true, "bumped_at": "2021-12-12T20:20:02.788Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 6, "views": 206, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}, {"extras": null, "description": "Frequent Poster, Accepted Answer", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}, {"id": 7156, "title": "Manual Mesh Part Animation (e.g. Rotate a propeller)", "fancy_title": "Manual Mesh Part Animation (e.g. Rotate a propeller)", "slug": "manual-mesh-part-animation-e-g-rotate-a-propeller", "posts_count": 4, "reply_count": 1, "highest_post_number": 4, "image_url": null, "created_at": "2022-01-26T23:50:29.343Z", "last_posted_at": "2022-01-27T05:31:02.766Z", "bumped": true, "bumped_at": "2022-01-27T05:31:02.766Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 4, "views": 155, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1334, "username": "najak3d", "name": "Brian Knox", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 631, "username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 1038, "username": "dertom", "name": "Thomas Trocha", "avatar_template": "/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]}]}