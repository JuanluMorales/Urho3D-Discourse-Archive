{"post_stream":{"posts":[{"id":10023,"name":"","username":"Enhex","avatar_template":"/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png","created_at":"2016-02-05T09:03:50.000Z","cooked":"\u003cp\u003eIs there any efficient way to set texture frames?\u003cbr\u003e\nRight now it requires manually normalizing the min and max points of a frame to type them in and typing in the time.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:09:52.610Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":24,"reads":7,"readers_count":6,"score":121.4,"yours":false,"topic_id":1752,"topic_slug":"efficient-way-to-set-texture-frames-for-a-particle-effect","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":184,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10088,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-02-09T21:57:08.000Z","cooked":"\u003cp\u003eHi, did you trying doing similar stuff ?\u003cbr\u003e\nthis is from unity example with some fixes.\u003c/p\u003e\n\u003cp\u003elet’s say\u003cbr\u003e\nyou got this texture:\u003cbr\u003e\n\u003ca href=\"http://savepic.net/7702466.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.net/7702466m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ethis shader UnlitAnim\u003c/p\u003e\n\u003cp\u003e[code]\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e “Uniforms.glsl”\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e “Samplers.glsl”\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e “Transform.glsl”\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e “ScreenPos.glsl”\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e “Fog.glsl”\u003c/p\u003e\n\u003cp\u003evarying vec2 vTexCoord;\u003cbr\u003e\nvarying vec4 vWorldPos;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#ifdef\u003c/span\u003e VERTEXCOLOR\u003cbr\u003e\nvarying vec4 vColor;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#endif\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"hashtag\"\u003e#ifdef\u003c/span\u003e COMPILEVS\u003c/p\u003e\n\u003cp\u003euniform float cAnimTime;\u003cbr\u003e\nuniform float cAnimTileX;\u003cbr\u003e\nuniform float cAnimTileY;\u003c/p\u003e\n\u003cp\u003evoid VS()\u003cbr\u003e\n{\u003cbr\u003e\nmat4 modelMatrix = iModelMatrix;\u003cbr\u003e\nvec3 worldPos = GetWorldPos(modelMatrix);\u003cbr\u003e\ngl_Position = GetClipPos(worldPos);\u003cbr\u003e\nvTexCoord = GetTexCoord(iTexCoord);\u003cbr\u003e\nvWorldPos = vec4(worldPos, GetDepth(gl_Position));\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eint index = int(cAnimTime);  \nindex = index % int(cAnimTileX * cAnimTileY);\n\nvec2 size = vec2(1.0 / float(cAnimTileX), 1.0 / float(cAnimTileY));\n\n// split into horizontal and vertical index\nint uIndex = index % int((cAnimTileX));\nint vIndex = index / int((cAnimTileY));\n\n\nvec2 finalFrame = iTexCoord;\nfinalFrame.x /= cAnimTileX;\nfinalFrame.y /= cAnimTileY;\n\nfinalFrame += vec2((uIndex) * size.x, (vIndex) * size.y);\n \nvTexCoord = GetTexCoord(finalFrame);\n\n\n#ifdef VERTEXCOLOR\n    vColor = iColor;\n#endif\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"hashtag\"\u003e#endif\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003evoid PS()\u003cbr\u003e\n{\u003cbr\u003e\n// Get material diffuse albedo\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#ifdef\u003c/span\u003e DIFFMAP\u003cbr\u003e\nvec4 diffColor = cMatDiffColor * texture2D(sDiffMap, vTexCoord);\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#ifdef\u003c/span\u003e ALPHAMASK\u003cbr\u003e\nif (diffColor.a \u0026lt; 0.5)\u003cbr\u003e\ndiscard;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#endif\u003c/span\u003e\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#else\u003c/span\u003e\u003cbr\u003e\nvec4 diffColor = cMatDiffColor;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#endif\u003c/span\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e#ifdef VERTEXCOLOR\n    diffColor *= vColor;\n#endif\n\n// Get fog factor\n#ifdef HEIGHTFOG\n    float fogFactor = GetHeightFogFactor(vWorldPos.w, vWorldPos.y);\n#else\n    float fogFactor = GetFogFactor(vWorldPos.w);\n#endif\n\n#if defined(PREPASS)\n    // Fill light pre-pass G-Buffer\n    gl_FragData[0] = vec4(0.5, 0.5, 0.5, 1.0);\n    gl_FragData[1] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n#elif defined(DEFERRED)\n    gl_FragData[0] = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n    gl_FragData[1] = vec4(0.0, 0.0, 0.0, 0.0);\n    gl_FragData[2] = vec4(0.5, 0.5, 0.5, 1.0);\n    gl_FragData[3] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n#else\n    gl_FragColor = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n#endif\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}[/code]\u003c/p\u003e\n\u003cp\u003eand this tech for material\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e\u0026lt;technique vs=\"UnlitAnim\" ps=\"UnlitAnim\" psdefines=\"DIFFMAP\" \u0026gt;\n    \u0026lt;pass name=\"base\" /\u0026gt;\n    \u0026lt;pass name=\"prepass\" psdefines=\"PREPASS\" /\u0026gt;\n    \u0026lt;pass name=\"material\" /\u0026gt;\n    \u0026lt;pass name=\"deferred\" psdefines=\"DEFERRED\" /\u0026gt;\n\u0026lt;/technique\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003ecreate material with this tech and add few uniform for shader (as show on picture bellow)\u003cbr\u003e\nthen try change animTime\u003cbr\u003e\n\u003ca href=\"http://savepic.net/7670722.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.net/7670722m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eProbably you may try use this anim technique for animate particles:\u003cbr\u003e\nI guess you need put into shader the arrays of uniforms or TBO (with personal particles data - frame(or time)) and fetch it by particle index.\u003cbr\u003e\nOr just extends(or use free element masks) vertex structure with additional data for each particle(+float time), I guess particles system feed one common VBO for all particles(per emitter) on cpu side every frame.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:09:57.499Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":7,"readers_count":6,"score":6.4,"yours":false,"topic_id":1752,"topic_slug":"efficient-way-to-set-texture-frames-for-a-particle-effect","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://savepic.net/7702466.htm","internal":false,"reflection":false,"title":"Просмотр изображения 7702466 | Сервис публикации и хранения изображений : хостинг картинок : размещение фоток : место для фотографий : фотохостинг : Free Image Hosting","clicks":0},{"url":"http://savepic.net/7670722.htm","internal":false,"reflection":false,"title":"Просмотр изображения 7670722 | Сервис публикации и хранения изображений : хостинг картинок : размещение фоток : место для фотографий : фотохостинг : Free Image Hosting","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10094,"name":"","username":"Enhex","avatar_template":"/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png","created_at":"2016-02-10T02:59:34.000Z","cooked":"\u003cp\u003eI’m talking about Urho’s ParticleEffect frames, and the particle editor.\u003cbr\u003e\n\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"http://i.imgur.com/rIbqVJj.jpg\" title=\"\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/rIbqVJj.jpg\" alt=\"\" width=\"645\" height=\"500\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003e\u003c/span\u003e\u003cspan class=\"informations\"\u003e1040×806\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003ePerhaps a visual tool for defining frame sets for sprite sheets could improve the workflow. Such tool can be generic.\u003cbr\u003e\nUrho’s editor will need an option to load frames from such frame set file.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:09:57.980Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":5,"readers_count":4,"score":1.0,"yours":false,"topic_id":1752,"topic_slug":"efficient-way-to-set-texture-frames-for-a-particle-effect","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://i.imgur.com/rIbqVJj.jpg","internal":false,"reflection":false,"title":"rIbqVJj.jpg","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":184,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[10023,10088,10094]},"timeline_lookup":[[1,2483],[2,2478]],"suggested_topics":[{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11？","fancy_title":"Do we give up supporting dx11？","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7218,"title":"Jolt Physics: physics engine from Horizon Forbidden West open-sourced","fancy_title":"Jolt Physics: physics engine from Horizon Forbidden West open-sourced","slug":"jolt-physics-physics-engine-from-horizon-forbidden-west-open-sourced","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-03-14T15:23:58.296Z","last_posted_at":"2022-03-21T03:18:16.555Z","bumped":true,"bumped_at":"2022-03-21T03:18:16.555Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":10,"views":439,"category_id":16,"featured_link":"https://github.com/jrouwe/JoltPhysics","featured_link_root_domain":"github.com","has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7167,"title":":four_leaf_clover: Dry 01","fancy_title":":four_leaf_clover: Dry 01","slug":"dry-01","posts_count":33,"reply_count":26,"highest_post_number":33,"image_url":null,"created_at":"2022-01-29T06:58:35.533Z","last_posted_at":"2022-01-29T14:06:28.195Z","bumped":true,"bumped_at":"2022-01-29T11:09:43.702Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🍀 Dry 01","tags_descriptions":{},"like_count":2,"views":422,"category_id":6,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1004,"username":"GoldenThumbs","name":"Golden Thumbs","avatar_template":"/user_avatar/discourse.urho3d.io/goldenthumbs/{size}/1669_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]}],"tags_descriptions":{},"id":1752,"title":"Efficient way to set texture frames for a particle effect?","fancy_title":"Efficient way to set texture frames for a particle effect?","posts_count":3,"created_at":"2016-02-05T09:03:50.000Z","views":496,"reply_count":0,"like_count":0,"last_posted_at":"2016-02-10T02:59:34.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"efficient-way-to-set-texture-frames-for-a-particle-effect","category_id":9,"word_count":518,"deleted_at":null,"user_id":184,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1752","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":184,"username":"Enhex","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":184,"username":"Enhex","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png"},"last_poster":{"id":184,"username":"Enhex","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png"}}}