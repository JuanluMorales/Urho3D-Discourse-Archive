{"post_stream": {"posts": [{"id": 9230, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-22T01:09:16.000Z", "cooked": "<p>Hi guys I need some help with this as I spent quite a while and I cannot solve it on my own. I have added a new method inside the Geometry class and I am trying to create new VertexBuffer but when I call SetSize it crashes. Inside the method I have:</p>\n<p><code>SharedPtr&lt;VertexBuffer&gt; cVertBuffer(new VertexBuffer(context_));\ncVertBuffer-&gt;SetShadowed(true);\ncVertBuffer-&gt;SetSize(GetVertexCount() * instances.Size(), vertexBuffers_[0]-&gt;GetElementMask(), false);</code><br>\nEverything passed to SetSize seems to be valid in the debugger. The last method of the crash is at glGenBuffers(1, &amp;object_) inside the OGLVertexBuffer, VertexBuffer::Create() method. If I create the VertexBuffer headless it doesn\u2019t crash. The same applies for the IndexBuffer.</p>\n<p><code>#3\t0x00000001000b4ccb in Urho3D::Geometry::CreateCombinedGeometry() const at Geometry.cpp:465\n#2\t0x0000000100112e6b in Urho3D::VertexBuffer::SetSize(unsigned int, unsigned int, bool) at OGLVertexBuffer.cpp:197\n#1\t0x0000000100112828 in Urho3D::VertexBuffer::Create() at OGLVertexBuffer.cpp:406</code></p>", "post_number": 1, "post_type": 1, "updated_at": "2017-01-02T01:08:54.312Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 8, "reads": 12, "readers_count": 11, "score": 42.4, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9234, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-22T11:09:51.000Z", "cooked": "<p>Well i\u2019m test this code:</p>\n<p><code>        SharedPtr&lt;VertexBuffer&gt; vb = SharedPtr&lt;VertexBuffer&gt;(new VertexBuffer(context_));\n        vb-&gt;SetShadowed(true);\n        vb-&gt;SetSize(10000000, MASK_POSITION | MASK_NORMAL | MASK_COLOR | MASK_TEXCOORD1, false);</code><br>\nand it\u2019s working fine</p>\n<p>Did you modify Geometry class inside?<br>\nwhy you think if it\u2019s has been already created you need to create VB again ? Maybe if you decide to create new VB, probably you will need release old VB ?</p>\n<p>I suppose what Drawables have some methods for update geometry in it self internally.<br>\nEvery frame (if it pushed to renderer) it check some flags in UpdateGeometry()<br>\nfor example:</p>\n<pre><code class=\"lang-auto\">void Drawable::UpdateGeometry(const FrameInfo&amp; frame)\n{\n    if (bufferSizeDirty_ || indexBuffer_-&gt;IsDataLost())\n        UpdateBufferSize();\n\n    if (bufferDirty_ || vertexBuffer_-&gt;IsDataLost() || forceUpdateVertexBuffer_)\n        UpdateVertexBuffer(frame);\n}</code></pre>\n<p>you may manage this flags (in your derived class)  - bufferSizeDirty_, bufferDirty_ if you need reassemble VB by some reason.<br>\nand Drawable::UpdateBufferSize() you just setup IB size (and may feed it with indexes) and also setup VB.SetSize()</p>\n<p>and in method Drawable::UpdateVertexBuffer(const FrameInfo&amp; frame) you just assemble your VB feed it with new geometry.<br>\nThere is no place where new VB been created. It already exits by default.</p>\n<p>I don\u2019t known, but you may try just SetSize and feed VB with new geom and do not allocate new.</p>", "post_number": 2, "post_type": 1, "updated_at": "2017-01-02T01:08:54.596Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9236, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-22T11:27:08.000Z", "cooked": "<p>Thanks codingmonkey. Yes I am modifying the geometry class but I cannot use a reference to the same geometry as I am doing a new combined buffer of multiple instances. I looked into other classes in Urho3D and this seems to work. I think you are right I might need to update the geometry somewhere else as well but I am not sure where. Maybe I should just make a new class and inherit from Geometry instead of adding new methods.</p>", "post_number": 3, "post_type": 1, "updated_at": "2017-01-02T01:08:54.745Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9238, "name": "", "username": "TikariSakari", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f4b2a3/{size}.png", "created_at": "2015-12-22T11:51:38.000Z", "cooked": "<p>Ive been using customgeometry, and at least there it is easy to just add or remove the stuff in the end. It is bit harder to remove vertices from the middle though, so I\u2019ve been swapping the ones from the end to the middle. Although I think in general I am doing lots of things wrong, such as defining many customgeometries for creating armature/skeleton with customgeometry for my voxel modeling thingie.</p>\n<p>I think CustomGeometry by default has support for multiple geometries, I just haven\u2019t figured out how I could give different transformations to the geometries. I also noticed that for some reason, even if I use same material for all the geometries, at least when the material is created on the fly by modifying texture, the geometries for some reason do not become single batch. Again this is probably just me being dumb, which is nothing unusual.</p>", "post_number": 4, "post_type": 1, "updated_at": "2017-01-02T01:08:54.866Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 11, "readers_count": 10, "score": 2.2, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 205, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9239, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2015-12-22T11:58:45.000Z", "cooked": "<p>CustomGeometry is not intelligent. If you create 2 subgeometries, they also create 2 draw calls even with same materials.</p>\n<p>Drawcall combining only happens in Urho automatically via hardware instancing. The requirements are same Geometry, same Material, same lighting conditions. In case of CustomGeometry, the Geometries are always unique, therefore no instancing.</p>", "post_number": 5, "post_type": 1, "updated_at": "2017-01-02T01:08:54.934Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 10, "readers_count": 9, "score": 2.0, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9243, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-22T13:31:34.000Z", "cooked": "<p>Can we create custom geometry with new vertex and index buffer inside the Geometry class or it is not recommended?</p>", "post_number": 6, "post_type": 1, "updated_at": "2017-01-02T01:08:55.209Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9244, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2015-12-22T13:38:31.000Z", "cooked": "<p>You must have some way to supply the Geometry to the rendering pipeline, in other words probably your own Drawable subclass, unless you put the Geometry inside a Model resource, in which case it can be rendered by a normal StaticModel component. The latter way is demonstrated by the DynamicGeometry sample.</p>", "post_number": 7, "post_type": 1, "updated_at": "2017-01-02T01:08:55.269Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9262, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-22T20:46:49.000Z", "cooked": "<p>I am already calling this method inside the StaticModelGroup. If I try to create new vertex or index buffer and the set the size inside StaticModelGroup::UpdateBatches it crashes. Is there anything specific I need to do in order to sync it with the gpu buffer? Outside of Urho3D classes this usually works.</p>\n<p><code>SharedPtr&lt;IndexBuffer&gt; ib(new IndexBuffer(context_));\nib-&gt;SetShadowed(true);\nib-&gt;SetSize(10, false);</code></p>", "post_number": 8, "post_type": 1, "updated_at": "2017-01-02T01:08:56.574Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9267, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-23T00:38:33.000Z", "cooked": "<blockquote>\n<p>Outside of Urho3D classes this usually works.<br>\nHey, I looked into your brunch with smg instansing and trying to create similar feature<br>\nand at first look it seem working fine.</p>\n</blockquote>\n<p>look at this: <a href=\"https://github.com/MonkeyFirst/Urho3D/commit/d7d6f3b975324a684942541d15a871a2b04ce022\">github.com/MonkeyFirst/Urho3D/c \u2026 a2b04ce022</a></p>\n<p>you may copy from this brunch SMG <em>.h/</em>.cpp files and try to figure out with this.</p>\n<p>how it works:<br>\nadd node<br>\nadd to node smg component<br>\nset model<br>\nset material</p>\n<p>add some nodes to smg\u2019s node as children<br>\nmove child nodes<br>\nselect SMG component<br>\nselect menu EDIT -&gt; Add children to SM-group<br>\nset Use static instancing to true</p>\n<p><a href=\"http://savepic.su/6835727.htm\" data-bbcode=\"true\"><img src=\"http://savepic.su/6835727m.png\" alt=\"\" width=\"\" height=\"\"></a></p>\n<p>you may change child nodes positions and static blob will be reassembled per change</p>", "post_number": 9, "post_type": 1, "updated_at": "2017-01-02T01:08:56.922Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/MonkeyFirst/Urho3D/commit/d7d6f3b975324a684942541d15a871a2b04ce022", "internal": false, "reflection": false, "title": "static-instansing \u00b7 MonkeyFirst/Urho3D@d7d6f3b \u00b7 GitHub", "clicks": 1}, {"url": "http://savepic.su/6835727.htm", "internal": false, "reflection": false, "title": "\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 6835727 | \u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 : \u0445\u043e\u0441\u0442\u0438\u043d\u0433 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a : \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u043a : \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 : \u0444\u043e\u0442\u043e\u0445\u043e\u0441\u0442\u0438\u043d\u0433 : Free Image Hosting", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9280, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-23T12:56:23.000Z", "cooked": "<p>Thanks a lot codingmonkey, but I am getting the same crash maybe when I merged the master branch it was broken I don\u2019t have other explanation. As I just took your changes and merged them in the branch I already had.<br>\nIt crashes now at:</p>\n<pre><code class=\"lang-auto\"></code></pre>\n<p>I will try from scratch with a clean branch.<br>\n<span class=\"bbcode-b\">UPDATE:</span> I built your branch from scratch bu the same thing happens.</p>", "post_number": 10, "post_type": 1, "updated_at": "2017-01-02T01:08:57.819Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9284, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-23T14:29:41.000Z", "cooked": "<p>strange, but I only update my fork yesterday and add this feature (based on your code, with few changes)<br>\nI use vs2013 to compile debug and release and it\u2019s working fine in my case.<br>\ndid you try run Urho3DPlayer in debug mode, and debug problem place step by step?</p>", "post_number": 11, "post_type": 1, "updated_at": "2017-01-02T01:08:58.088Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9289, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-23T17:32:31.000Z", "cooked": "<p>I tried both in C++ and in the Editor. They both crash at the same place. For the C++ test I just added the lines below inside the HugeObjectCount demo and I tried reducing the number of objects to 10. I also tested the DynamicGeometry example and it works fine. I am under OSX 10.10 and I am using Xcode to compile. Is it possible that my videocard is the problem, its gtx 260?</p>\n<p><code>...\nlastGroup-&gt;SetModel(cache-&gt;GetResource&lt;Model&gt;(\"Models/Box.mdl\"));\nlastGroup-&gt;SetStatic(true);\n...</code><br>\nIt looks like the _object is zero compared to working example outside the engine\u2019s classes.<br>\n<img src=\"http://i.imgur.com/fEUAGfB.png\" alt=\"\" width=\"379\" height=\"402\"></p>", "post_number": 12, "post_type": 1, "updated_at": "2017-01-02T01:08:58.425Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 9, "readers_count": 8, "score": 1.8, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9316, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-24T11:54:00.000Z", "cooked": "<p>I doubt it\u2019s problems stem from the graphics card, although it is possible version of the driver can somehow influence on this.<br>\nMost likely your compiler have some -pedantic settings?<br>\nIn addition, the code can contain any unforeseen errors, I wrote a testvy variat it needs polishing.<br>\nI tested, only the editor with one SMG and one thing what very important - model should be without LODs otherwise this instansing does not work as expected.</p>", "post_number": 13, "post_type": 1, "updated_at": "2017-01-02T01:09:00.282Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 7, "readers_count": 6, "score": 1.4, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9318, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-24T12:02:12.000Z", "cooked": "<p>I am just testing with the default box model. I just tested on my Linux machine at work I tested both gcc and clang and the same crash happens. If you are building on Windows are you using the DirectX API? Because in my tests I can only test with the OpenGL API. I think is something to do where the graphics is initialized after we create the vertex and index buffers. Maybe I need to set the buffers manually in the graphics subsystem?</p>\n<pre><code class=\"lang-auto\"></code></pre>", "post_number": 14, "post_type": 1, "updated_at": "2017-01-02T01:09:00.422Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9319, "name": "Lasse \u00d6\u00f6rni", "username": "cadaver", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "created_at": "2015-12-24T12:26:35.000Z", "cooked": "<p>At least you shouldn\u2019t create anything GPU-related before you have done Graphics::SetMode() (normally done in engine initialization.) Otherwise the GL context is null and you will quite certainly crash.</p>", "post_number": 15, "post_type": 1, "updated_at": "2017-01-02T01:09:00.487Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 8, "readers_count": 7, "score": 1.6, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "Lasse \u00d6\u00f6rni", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Urho3D Author", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 3, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9320, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-24T12:43:51.000Z", "cooked": "<p>SetMode is already called, but because the code is initialized inside StaticModelGroup I think it might be called before the graphics is initialized. Is there a good way to make sure they are synced?</p>", "post_number": 16, "post_type": 1, "updated_at": "2017-01-02T01:09:00.546Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 7, "readers_count": 6, "score": 1.4, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9321, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-24T13:56:59.000Z", "cooked": "<blockquote>\n<p>If you are building on Windows are you using the DirectX API?<br>\nactually no) most of last time I use only GL renderer</p>\n</blockquote>\n<p>try to do test:<br>\nCompile again my brunch and use <span class=\"bbcode-b\">only Urho3D Editor to test this instancing</span>, i\u2019m just curious it still will be crashing or no?</p>", "post_number": 17, "post_type": 1, "updated_at": "2017-01-02T01:09:00.602Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 6, "readers_count": 5, "score": 1.2, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9323, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-24T15:20:37.000Z", "cooked": "<p>I just tried in the Editor at work on my linux machine and it is not crashing. It is really strange as I tried at home and it was crashing in the Editor. Finally I found the problem is in HugeObjectCount we have already nodes with the same name and when we switch to useGroups_ they are not properly initialized. It is quite unstable but alteast it is working.</p>", "post_number": 18, "post_type": 1, "updated_at": "2017-01-02T01:09:00.729Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 7, "readers_count": 6, "score": 1.4, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9325, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-24T17:16:42.000Z", "cooked": "<blockquote>\n<p>It is quite unstable but alteast it is working.<br>\nWell, my congrats )</p>\n</blockquote>\n<p>Earlier I do some primitive test with this instancing and old(dynamic) and do not found extra boost from this tech )<br>\nmore over, I found only more using memory GPU bandwidth with this static instancing (test on over 2 million vertexes)</p>", "post_number": 19, "post_type": 1, "updated_at": "2017-01-02T01:09:00.858Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 6, "readers_count": 5, "score": 1.2, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9329, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-24T19:17:27.000Z", "cooked": "<p>Thanks a lot for your help. This technique is mainly for mobile I am getting huge boost atleast double the FPS on an old tablet. Unity has these features out of the box as well.<br>\n<span class=\"bbcode-b\">UPDATE:</span> I think I am going crazy but it is still crashing at home on my OSX box.</p>", "post_number": 20, "post_type": 1, "updated_at": "2017-01-02T01:09:01.124Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 7, "readers_count": 6, "score": 1.4, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9344, "name": "", "username": "sabotage3d", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "created_at": "2015-12-25T22:22:03.000Z", "cooked": "<p>Is it possible that this is some kind of threading issue as it happens only on OSX? Might be something to do with the clang compiler. The Graphics subsytem is already present when the GPUObject and the VertexBuffer are created everything seems fine. Can anyone else verify this on OSX?<br>\n<img src=\"http://i.imgur.com/JbWthcD.png\" alt=\"\" width=\"525\" height=\"208\"><br>\n<span class=\"bbcode-b\">UPDATE:</span> It seems we can\u2019t create new vertex buffers inside UpdateBatches().</p>", "post_number": 21, "post_type": 1, "updated_at": "2017-01-02T01:09:02.171Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 2, "reads": 7, "readers_count": 6, "score": 11.4, "yours": false, "topic_id": 1609, "topic_slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 151, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}], "stream": [9230, 9234, 9236, 9238, 9239, 9243, 9244, 9262, 9267, 9280, 9284, 9289, 9316, 9318, 9319, 9320, 9321, 9323, 9325, 9329, 9344]}, "timeline_lookup": [[1, 2528], [8, 2527], [12, 2526], [19, 2525], [21, 2524]], "tags_descriptions": {}, "id": 1609, "title": "VertexBuffer SetSize crash inside Urho3D::Geometry", "fancy_title": "VertexBuffer SetSize crash inside Urho3D::Geometry", "posts_count": 21, "created_at": "2015-12-22T01:09:16.000Z", "views": 455, "reply_count": 0, "like_count": 0, "last_posted_at": "2015-12-25T22:22:03.000Z", "visible": true, "closed": false, "archived": false, "has_summary": false, "archetype": "regular", "slug": "vertexbuffer-setsize-crash-inside-urho3d-geometry", "category_id": 10, "word_count": 1697, "deleted_at": null, "user_id": 151, "featured_link": null, "pinned_globally": false, "pinned_at": null, "pinned_until": null, "image_url": null, "slow_mode_seconds": 0, "draft": null, "draft_key": "topic_1609", "draft_sequence": null, "unpinned": null, "pinned": false, "current_post_number": 1, "highest_post_number": 21, "deleted_by": null, "actions_summary": [{"id": 4, "count": 0, "hidden": false, "can_act": false}, {"id": 8, "count": 0, "hidden": false, "can_act": false}, {"id": 7, "count": 0, "hidden": false, "can_act": false}], "chunk_size": 20, "bookmarked": false, "bookmarks": [], "topic_timer": null, "message_bus_last_id": 0, "participant_count": 4, "show_read_indicator": false, "thumbnails": null, "slow_mode_enabled_until": null, "tags_disable_ads": false, "details": {"can_edit": false, "notification_level": 1, "participants": [{"id": 151, "username": "sabotage3d", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png", "post_count": 11, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 148, "username": "codingmonkey", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "post_count": 6, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 3, "username": "cadaver", "name": "Lasse \u00d6\u00f6rni", "avatar_template": "/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png", "post_count": 3, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "admin": true, "trust_level": 2}, {"id": 205, "username": "TikariSakari", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f4b2a3/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}], "created_by": {"id": 151, "username": "sabotage3d", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png"}, "last_poster": {"id": 151, "username": "sabotage3d", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png"}, "links": [{"url": "https://github.com/MonkeyFirst/Urho3D/commit/d7d6f3b975324a684942541d15a871a2b04ce022", "title": "static-instansing \u00b7 MonkeyFirst/Urho3D@d7d6f3b \u00b7 GitHub", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 148, "domain": "github.com", "root_domain": "github.com"}]}, "suggested_topics": [{"id": 7087, "title": "Android how to get error message sometimes little change gives me just crash", "fancy_title": "Android how to get error message sometimes little change gives me just crash", "slug": "android-how-to-get-error-message-sometimes-little-change-gives-me-just-crash", "posts_count": 2, "reply_count": 0, "highest_post_number": 2, "image_url": null, "created_at": "2021-12-05T16:59:59.376Z", "last_posted_at": "2021-12-05T18:17:02.335Z", "bumped": true, "bumped_at": "2021-12-05T18:17:02.335Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 153, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 1436, "username": "Maco", "name": "Maco", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/90ced4/{size}.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 1317, "username": "Lys0gen", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]}, {"id": 7067, "title": "Can the latest Urho3D version be built with VS2013?", "fancy_title": "Can the latest Urho3D version be built with VS2013?", "slug": "can-the-latest-urho3d-version-be-built-with-vs2013", "posts_count": 3, "reply_count": 0, "highest_post_number": 3, "image_url": null, "created_at": "2021-11-25T18:00:24.336Z", "last_posted_at": "2021-11-26T17:22:21.878Z", "bumped": true, "bumped_at": "2021-11-26T17:22:21.878Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 157, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}, {"extras": null, "description": "Frequent Poster, Accepted Answer", "user": {"id": 4, "username": "weitjong", "name": "Yao Wei Tjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]}, {"id": 7125, "title": "Android mobile shows jaggies in the instersection plane-terrain", "fancy_title": "Android mobile shows jaggies in the instersection plane-terrain", "slug": "android-mobile-shows-jaggies-in-the-instersection-plane-terrain", "posts_count": 5, "reply_count": 3, "highest_post_number": 5, "image_url": "https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png", "created_at": "2022-01-11T11:59:18.993Z", "last_posted_at": "2022-01-11T21:27:40.692Z", "bumped": true, "bumped_at": "2022-01-12T07:36:41.695Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 129, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 856, "username": "feresmu", "name": null, "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}}, {"extras": null, "description": "Frequent Poster, Accepted Answer", "user": {"id": 484, "username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}, {"id": 7127, "title": "Switching ribbon trails emission glitches transparent materials", "fancy_title": "Switching ribbon trails emission glitches transparent materials", "slug": "switching-ribbon-trails-emission-glitches-transparent-materials", "posts_count": 8, "reply_count": 3, "highest_post_number": 8, "image_url": null, "created_at": "2022-01-13T17:17:46.847Z", "last_posted_at": "2022-02-10T08:10:49.330Z", "bumped": true, "bumped_at": "2022-02-10T08:10:49.330Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 323, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1188, "username": "Taqer", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/d2c977/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 631, "username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}, {"id": 7146, "title": "How create affordable comfortable and modern terrain?", "fancy_title": "How create affordable comfortable and modern terrain?", "slug": "how-create-affordable-comfortable-and-modern-terrain", "posts_count": 5, "reply_count": 1, "highest_post_number": 5, "image_url": null, "created_at": "2022-01-21T15:20:08.910Z", "last_posted_at": "2022-01-21T21:51:58.799Z", "bumped": true, "bumped_at": "2022-01-21T22:03:14.896Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 4, "views": 193, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 1497, "username": "timob256", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 1304, "username": "lebrewer", "name": "lebrewer", "avatar_template": "/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 230, "username": "Nerrik", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]}]}