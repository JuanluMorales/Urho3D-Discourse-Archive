{"post_stream":{"posts":[{"id":43951,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2021-12-09T23:56:27.577Z","cooked":"\u003cp\u003eSo I use ConvexCast for my AI melee event and damage. How can I visualize what’s going on so I can improve their melee attacks.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edebug = scene_-\u0026gt;GetComponent\u0026lt;DebugRenderer\u0026gt;();\n\nCollisionShape* shape_ = handboneNode-\u0026gt;CreateComponent\u0026lt;CollisionShape\u0026gt;();\nshape_-\u0026gt;SetBox(Vector3(2.0f,2.0f,2.0f), Vector3::ZERO, Quaternion::IDENTITY);\n\nPhysicsRaycastResult raycResult;\nauto* physicsWorld = scene_-\u0026gt;GetComponent\u0026lt;PhysicsWorld\u0026gt;();\n\nconst Vector3 start = handboneNode-\u0026gt;GetWorldPosition();\nconst Vector3 end = start + (Vector3::FORWARD * 1.0f);\n\nphysicsWorld-\u0026gt;ConvexCast(raycResult, shape_, start, Quaternion::IDENTITY, end, Quaternion::IDENTITY);\n\nRigidBody* resultBody{ raycResult.body_ };\nPlayer* _Node;\nint damage = 10;\n\nif (resultBody)\n{\n\n\tNode* resultNode{ resultBody-\u0026gt;GetNode() };\n\tNode* resulttestNode{ resultBody-\u0026gt;GetNode() };\n\n\tif (_Node = resultNode-\u0026gt;GetDerivedComponent\u0026lt;Player\u0026gt;())\n\t{\n\t\t_Node-\u0026gt;setHealth(_Node-\u0026gt;getHealth() - damage);\n\t}\n\n}\u003c/code\u003e\u003c/pre\u003e","post_number":1,"post_type":1,"updated_at":"2021-12-09T23:56:27.577Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":17,"readers_count":16,"score":13.4,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43953,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2021-12-10T03:59:34.047Z","cooked":"\u003cp\u003eI don’t think there’s a direct simple way to visualize the collision shape unfortunately. If there is I’d also like to know it, as I also just had a convex cast I wanted to visualize.\u003c/p\u003e\n\u003cp\u003eThat said, I just wanted to ask whether convex cast works for you? For my game I had to write (mainly copy from the bullet library) a bit of code to allow multiple results to be returned as I think the default implementation only returns the first collision. If you’d like, I’ll share that later when I’m back at my computer.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-12-10T03:59:34.047Z","reply_count":2,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":16,"readers_count":15,"score":13.2,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43955,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2021-12-10T04:30:59.132Z","cooked":"\u003cp\u003eWell this works for me as my ai only attack the player. Sometimes though if I’m directly in front of the ai and they swipe at the player they miss, but off to the side of them and they never miss. I just wanted to try and visualize what’s going on and improve it.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-12-10T04:30:59.132Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":3.0,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43957,"name":"魔大农 𝞍𝞎𝝳 現招蜍","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2021-12-10T12:57:15.559Z","cooked":"\u003cp\u003eDuring \u003ccode\u003ePostRenderUpdate\u003c/code\u003e call:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eshape_-\u0026gt;DrawDebugGeometry(scene_-\u0026gt;GetComponent\u0026lt;DebugRenderer\u0026gt;(), true);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou could also tell the \u003ccode\u003eDebugRenderer\u003c/code\u003e to \u003ccode\u003eAddBoundingBox\u003c/code\u003e or \u003ccode\u003eAddTriangleMesh\u003c/code\u003e, with the advantage of being able to draw both ends of the cast.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2021-12-10T12:57:33.463Z","reply_count":2,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":12,"readers_count":11,"score":42.4,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"魔大农 𝞍𝞎𝝳 現招蜍","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43960,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2021-12-10T16:48:09.861Z","cooked":"\u003cp\u003eI was waiting for \u003ca class=\"mention\" href=\"/u/modanung\"\u003e@Modanung\u003c/a\u003e to pop in with some code. Thanks man.\u003cbr\u003e\nI will try this.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2021-12-10T16:48:09.861Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":11,"readers_count":10,"score":17.2,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43962,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2021-12-10T18:53:53.651Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eYou could also tell the \u003ccode\u003eDebugRenderer\u003c/code\u003e to \u003ccode\u003eAddBoundingBox\u003c/code\u003e or \u003ccode\u003eAddTriangleMesh\u003c/code\u003e , with the advantage of being able to draw both ends of the cast.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ca class=\"mention\" href=\"/u/modanung\"\u003e@Modanung\u003c/a\u003e  Do you have an example of what you mean?\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2021-12-10T18:53:53.651Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":11,"readers_count":10,"score":2.2,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43963,"name":"魔大农 𝞍𝞎𝝳 現招蜍","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2021-12-10T21:11:25.607Z","cooked":"\u003cp\u003eSomething like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003estruct MovingBox\n{\n    Vector3 size_{ 2.0f, 2.0f, 2.0f };\n    Vector3 startPos_{};\n    Vector3 endPos_{};\n    Quaternion startRot_{};\n    Quaternion endRot_{};\n\n    void DrawDebug(DebugRenderer* debug, bool depthTest = true)\n    {\n        const BoundingBox bounds{ -size * .5f, size * .5f };\n        debug-\u0026gt;AddBoundingBox(bounds, { startPos_, startRot_, 1.f }, Color::Green, depthTest);\n        debug-\u0026gt;AddBoundingBox(bounds, {   endPos_,   endRot_, 1.f }, Color::Red,   depthTest);\n        debug-\u0026gt;AddLine(startPos_, endPos_, Color::Yellow, depthTest);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e","post_number":7,"post_type":1,"updated_at":"2021-12-10T21:12:35.714Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":12,"readers_count":11,"score":32.4,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"魔大农 𝞍𝞎𝝳 現招蜍","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":43964,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2021-12-11T01:50:38.247Z","cooked":"\u003cp\u003eSo I modified the code some. I may not be using it as you intended. This is what I am seeing. The Green and Red boxes seem to be the actual area where the collision events occur. I could be wrong though.\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/3/333910109110424cff3d5f95f849847e7c943b20.jpeg\" data-download-href=\"/uploads/short-url/7j8BEKVgtKtQFvzxiRJqJ6GI59u.jpeg?dl=1\" title=\"Screenshot_Fri_Dec_10_19_47_54_2021\" rel=\"noopener nofollow ugc\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/333910109110424cff3d5f95f849847e7c943b20_2_690x291.jpeg\" alt=\"Screenshot_Fri_Dec_10_19_47_54_2021\" data-base62-sha1=\"7j8BEKVgtKtQFvzxiRJqJ6GI59u\" width=\"690\" height=\"291\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/333910109110424cff3d5f95f849847e7c943b20_2_690x291.jpeg, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/333910109110424cff3d5f95f849847e7c943b20_2_1035x436.jpeg 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/333910109110424cff3d5f95f849847e7c943b20_2_1380x582.jpeg 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/333910109110424cff3d5f95f849847e7c943b20_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\n\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eScreenshot_Fri_Dec_10_19_47_54_2021\u003c/span\u003e\u003cspan class=\"informations\"\u003e1920×810 145 KB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\n\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2021-12-11T01:50:38.247Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":11,"readers_count":10,"score":2.2,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/3/333910109110424cff3d5f95f849847e7c943b20.jpeg","internal":false,"reflection":false,"title":"333910109110424cff3d5f95f849847e7c943b20.jpeg","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43973,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2021-12-12T02:57:09.354Z","cooked":"\u003cp\u003eThe code I mentioned before for multiple convex cast results, in case someone wants it. And I realize now the reason I thought it wasn’t possible to draw the collision shapes directly was because my code created the convex bullet collision shapes directly rather than using \u003ccode\u003eUrho3D::CollisionShape\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e#include \u0026lt;BulletCollision/CollisionShapes/btSphereShape.h\u0026gt;\n#include \u0026lt;Urho3D/Physics/PhysicsWorld.h\u0026gt;\n#include \u0026lt;Urho3D/Physics/CollisionShape.h\u0026gt;\n#include \u0026lt;Urho3D/ThirdParty/Bullet/BulletCollision/CollisionShapes/btCollisionShape.h\u0026gt;\n#include \u0026lt;Urho3D/ThirdParty/Bullet/BulletDynamics/Dynamics/btDiscreteDynamicsWorld.h\u0026gt;\n#include \u0026lt;Urho3D/ThirdParty/Bullet/btBulletDynamicsCommon.h\u0026gt;\n\n\n\n#include \u0026lt;Urho3D/ThirdParty/Bullet/btBulletCollisionCommon.h\u0026gt;\n#include \u0026lt;Urho3D/ThirdParty/Bullet/btBulletDynamicsCommon.h\u0026gt;\n#include \u0026lt;Urho3D/Physics/PhysicsUtils.h\u0026gt;\n\n\nstruct AllHitsConvexResultCallback : public btCollisionWorld::ConvexResultCallback\n{\n    AllHitsConvexResultCallback(const btVector3\u0026amp; rayFromWorld, const btVector3\u0026amp; rayToWorld)\n        : m_convexFromWorld(rayFromWorld),\n          m_convexToWorld(rayToWorld)\n    {\n    }\n\n    btAlignedObjectArray\u0026lt;const btCollisionObject*\u0026gt; m_collisionObjects;\n\n    btVector3 m_convexFromWorld;  //used to calculate hitPointWorld from hitFraction\n    btVector3 m_convexToWorld;\n\n    btAlignedObjectArray\u0026lt;btVector3\u0026gt; m_hitNormalWorld;\n    btAlignedObjectArray\u0026lt;btVector3\u0026gt; m_hitPointWorld;\n    btAlignedObjectArray\u0026lt;btScalar\u0026gt; m_hitFractions;\n\n\n    virtual btScalar addSingleResult(btCollisionWorld::LocalConvexResult\u0026amp; rayResult, bool normalInWorldSpace)\n    {\n        m_collisionObjects.push_back(rayResult.m_hitCollisionObject);\n        btVector3 hitNormalWorld;\n        if (normalInWorldSpace)\n        {\n            hitNormalWorld = rayResult.m_hitNormalLocal;\n        }\n        else\n        {\n            ///need to transform normal into worldspace\n            hitNormalWorld = rayResult.m_hitCollisionObject-\u0026gt;getWorldTransform().getBasis() * rayResult.m_hitNormalLocal;\n        }\n        m_hitNormalWorld.push_back(hitNormalWorld);\n        btVector3 hitPointWorld;\n//        hitPointWorld.setInterpolate3(m_rayFromWorld, m_rayToWorld, rayResult.m_hitFraction);\n//        m_hitPointWorld.push_back(hitPointWorld);\n        m_hitPointWorld.push_back(rayResult.m_hitPointLocal);\n        m_hitFractions.push_back(rayResult.m_hitFraction);\n        return m_closestHitFraction; // i.e. 1.0\n    }\n};\n\nnamespace Urho3D {\n\nvoid SphereCastMultiple(PhysicsWorld* pw, Vector\u0026lt;PhysicsRaycastResult\u0026gt;\u0026amp; results, const Ray\u0026amp; ray, float radius, float maxDistance, unsigned collisionMask)\n{\n\n    if (maxDistance \u0026gt;= M_INFINITY)\n        URHO3D_LOGWARNING(\"Infinite maxDistance in physics sphere cast is not supported\");\n\n    btSphereShape shape(radius);\n    Vector3 endPos = ray.origin_ + maxDistance * ray.direction_;\n\n    AllHitsConvexResultCallback\n            convexCallback(ToBtVector3(ray.origin_), ToBtVector3(endPos));\n    convexCallback.m_collisionFilterGroup = (short)0xffff;\n    convexCallback.m_collisionFilterMask = (short)collisionMask;\n\n\n    pw-\u0026gt;GetWorld()-\u0026gt;convexSweepTest(\u0026amp;shape, btTransform(btQuaternion::getIdentity(), convexCallback.m_convexFromWorld),\n                                    btTransform(btQuaternion::getIdentity(), convexCallback.m_convexToWorld), convexCallback);\n\n    for (unsigned i = 0; (int)i \u0026lt; convexCallback.m_hitFractions.size(); ++i)\n    {\n        PhysicsRaycastResult result;\n        result.body_ = static_cast\u0026lt;RigidBody*\u0026gt;(convexCallback.m_collisionObjects[i]-\u0026gt;getUserPointer());\n        result.position_ = ToVector3(convexCallback.m_hitPointWorld[i]);\n        result.normal_ = ToVector3(convexCallback.m_hitNormalWorld[i]);\n        result.distance_ = convexCallback.m_hitFractions[i] * (endPos - ray.origin_).Length();\n        result.hitFraction_ = convexCallback.m_hitFractions[i];\n\n        results.Push(result);\n    }\n}\nvoid ConvexCastMultiple(PhysicsWorld* pw, Vector\u0026lt;PhysicsRaycastResult\u0026gt;\u0026amp; results, const Ray\u0026amp; ray, CollisionShape* shape, float maxDistance, unsigned collisionMask)\n{\n    if (!pw || !shape)\n        return;\n\n    const auto\u0026amp; btShape = shape-\u0026gt;GetCollisionShape();\n    if (!btShape || !btShape-\u0026gt;isConvex())\n        return;\n\n    const btConvexShape* btConvex = static_cast\u0026lt;const btConvexShape*\u0026gt;(btShape);\n    ConvexCastMultiple(pw,results,ray,btConvex,maxDistance,collisionMask);\n}\n\nvoid ConvexCastMultiple(PhysicsWorld* pw, Vector\u0026lt;PhysicsRaycastResult\u0026gt;\u0026amp; results, const Ray\u0026amp; ray, const btConvexShape* shape, float maxDistance, unsigned collisionMask)\n{\n    if (!pw || !shape)\n        return;\n\n    if (maxDistance \u0026gt;= M_INFINITY)\n        URHO3D_LOGWARNING(\"Infinite maxDistance in physics convex cast is not supported\");\n\n    Vector3 endPos = ray.origin_ + maxDistance * ray.direction_;\n\n    AllHitsConvexResultCallback\n            convexCallback(ToBtVector3(ray.origin_), ToBtVector3(endPos));\n    convexCallback.m_collisionFilterGroup = (short)0xffff;\n    convexCallback.m_collisionFilterMask = (short)collisionMask;\n\n\n    pw-\u0026gt;GetWorld()-\u0026gt;convexSweepTest(shape, btTransform(btQuaternion::getIdentity(), convexCallback.m_convexFromWorld),\n                                    btTransform(btQuaternion::getIdentity(), convexCallback.m_convexToWorld), convexCallback);\n\n    for (unsigned i = 0; (int)i \u0026lt; convexCallback.m_hitFractions.size(); ++i)\n    {\n        PhysicsRaycastResult result;\n        result.body_ = static_cast\u0026lt;RigidBody*\u0026gt;(convexCallback.m_collisionObjects[i]-\u0026gt;getUserPointer());\n        result.position_ = ToVector3(convexCallback.m_hitPointWorld[i]);\n        result.normal_ = ToVector3(convexCallback.m_hitNormalWorld[i]);\n        result.distance_ = convexCallback.m_hitFractions[i] * (endPos - ray.origin_).Length();\n        result.hitFraction_ = convexCallback.m_hitFractions[i];\n\n        results.Push(result);\n    }\n}\n\n}\n\u003c/code\u003e\u003c/pre\u003e","post_number":9,"post_type":1,"updated_at":"2021-12-12T02:57:44.775Z","reply_count":1,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":11,"readers_count":10,"score":7.2,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43974,"name":"魔大农 𝞍𝞎𝝳 現招蜍","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2021-12-12T03:33:30.186Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"SirNate0\" data-post=\"9\" data-topic=\"7097\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/40.png\" class=\"avatar\"\u003e SirNate0:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAnd I realize now the reason I thought it wasn’t possible to draw the collision shapes directly was because my code created the convex bullet collision shapes directly rather than using \u003ccode\u003eUrho3D::CollisionShape\u003c/code\u003e .\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eYou should be able to pour those into a \u003ccode\u003ePolyhedron\u003c/code\u003e, which the \u003ccode\u003eDebugRenderer\u003c/code\u003e can draw.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2021-12-12T03:33:30.186Z","reply_count":0,"reply_to_post_number":9,"quote_count":1,"incoming_link_count":0,"reads":11,"readers_count":10,"score":17.2,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"魔大农 𝞍𝞎𝝳 現招蜍","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":43979,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2021-12-12T20:20:02.788Z","cooked":"\u003cp\u003eMan I suck with the physics API of Urho3d. LOL.\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2021-12-12T20:20:02.788Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":9,"readers_count":8,"score":1.8,"yours":false,"topic_id":7097,"topic_slug":"view-physics-event-for-convexcast","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[43951,43953,43955,43957,43960,43962,43963,43964,43973,43974,43979]},"timeline_lookup":[[1,348],[5,347],[9,346],[11,345]],"suggested_topics":[{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7178,"title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","fancy_title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","slug":"medium-quality-technique-for-semi-reflective-specular-glass-in-urho","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/51408fe152ba02eb8b92237cc9a9411c8ee922e6.jpeg","created_at":"2022-01-31T22:57:50.134Z","last_posted_at":"2022-02-01T04:32:37.418Z","bumped":true,"bumped_at":"2022-02-01T04:32:37.418Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":154,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7087,"title":"Android how to get error message sometimes little change gives me just crash","fancy_title":"Android how to get error message sometimes little change gives me just crash","slug":"android-how-to-get-error-message-sometimes-little-change-gives-me-just-crash","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-05T16:59:59.376Z","last_posted_at":"2021-12-05T18:17:02.335Z","bumped":true,"bumped_at":"2021-12-05T18:17:02.335Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":153,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1436,"username":"Maco","name":"Maco","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/90ced4/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7209,"title":"Need Compute Shader for Heightmap Normals Calculation","fancy_title":"Need Compute Shader for Heightmap Normals Calculation","slug":"need-compute-shader-for-heightmap-normals-calculation","posts_count":14,"reply_count":5,"highest_post_number":14,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/f/f3699392311fc006b02311f4ac539017ce2ba760.jpeg","created_at":"2022-02-26T04:46:13.776Z","last_posted_at":"2022-03-10T00:07:52.127Z","bumped":true,"bumped_at":"2022-03-10T00:07:52.127Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":410,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]}],"tags_descriptions":{},"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","posts_count":11,"created_at":"2021-12-09T23:56:27.507Z","views":206,"reply_count":5,"like_count":6,"last_posted_at":"2021-12-12T20:20:02.788Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"view-physics-event-for-convexcast","category_id":10,"word_count":1009,"deleted_at":null,"user_id":861,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_7097","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":11,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":7,"username":"Modanung","excerpt":"Something like this: \nstruct MovingBox\n{\n    Vector3 size_{ 2.0f, 2.0f, 2.0f };\n    Vector3 startPos_{};\n    Vector3 endPos_{};\n    Quaternion startRot_{};\n    Quaternion endRot_{};\n\n    void DrawDebug(DebugRenderer* debug, bool depthTest = true)\n    {\n        const BoundingBox bounds{ -size * .5f, \u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","post_count":6,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0},{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"},"last_poster":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}}