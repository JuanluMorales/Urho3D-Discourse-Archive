{"post_stream":{"posts":[{"id":26941,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2018-12-15T17:59:29.103Z","cooked":"\u003cp\u003eI suppose my c++ skills are rusty here. I‚Äôm trying to make it where if your press M the animation controller plays a different animation. This code is in CharacterDemo.cpp the main entry point file.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eif (input-\u0026gt;GetKeyPress(KEY_M))\n    animCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_melee%1.ani\", 0, false, 0.2f);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe issue is that animCtrl is defined in another .cpp file Character.cpp.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eAnimationController* animCtrl = node_-\u0026gt;GetComponent\u0026lt;AnimationController\u0026gt;(true);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI‚Äôm using the characterdemo if anyone needs a good reference.\u003c/p\u003e\n\u003cp\u003eNormally I use a pointer to animCtrl and define it in the header file that‚Äôs included in CharacterDemo.cpp, but this does not work this time.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2018-12-17T00:21:29.032Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":32,"readers_count":31,"score":6.4,"yours":false,"topic_id":4753,"topic_slug":"issues-changing-animation-controller-from-another-class-solved","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26942,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2018-12-15T21:46:09.507Z","cooked":"\u003cp\u003eIf you can get to the node you should be able to \u003cem\u003eget\u003c/em\u003e any component that‚Äôs on there.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eAnimationController* animCtrl{ otherNode-\u0026gt;GetComponent\u0026lt;AnimationController\u0026gt;() };\n\u003c/code\u003e\u003c/pre\u003e","post_number":2,"post_type":1,"updated_at":"2018-12-15T21:46:34.324Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":31,"readers_count":30,"score":6.2,"yours":false,"topic_id":4753,"topic_slug":"issues-changing-animation-controller-from-another-class-solved","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26943,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2018-12-15T22:47:11.884Z","cooked":"\u003cp\u003eI tried what you suggested, and it crashes now when I hit M key.\u003c/p\u003e\n\u003cp\u003eI also tried this: \u003ccode\u003eAnimationController* animCtrl = character_-\u0026gt;GetNode()-\u0026gt;GetComponent\u0026lt;AnimationController\u0026gt;() ;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eTo get the node that \u003ccode\u003echaracter_\u003c/code\u003e is pointing to, but it still crashes when I hit the M key.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-12-15T22:47:11.884Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":32,"readers_count":31,"score":6.4,"yours":false,"topic_id":4753,"topic_slug":"issues-changing-animation-controller-from-another-class-solved","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26944,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2018-12-15T23:05:52.345Z","cooked":"\u003cp\u003eIt does not crash anymore. I left off the boolean.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e`AnimationController* animCtrl{ otherNode-\u0026gt;GetComponent\u0026lt;AnimationController\u0026gt;(true) };`\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBut it will not play the animation.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2018-12-15T23:05:52.345Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":5.8,"yours":false,"topic_id":4753,"topic_slug":"issues-changing-animation-controller-from-another-class-solved","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26945,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2018-12-16T04:02:50.860Z","cooked":"\u003cpre\u003e\u003ccode\u003e #include \u0026lt;Urho3D/Core/Context.h\u0026gt;\n#include \u0026lt;Urho3D/Graphics/AnimationController.h\u0026gt;\n#include \u0026lt;Urho3D/IO/MemoryBuffer.h\u0026gt;\n#include \u0026lt;Urho3D/Physics/PhysicsEvents.h\u0026gt;\n#include \u0026lt;Urho3D/Physics/PhysicsWorld.h\u0026gt;\n#include \u0026lt;Urho3D/Physics/RigidBody.h\u0026gt;\n#include \u0026lt;Urho3D/Scene/Scene.h\u0026gt;\n#include \u0026lt;Urho3D/Scene/SceneEvents.h\u0026gt;\n#include \u0026lt;Urho3D/Input/Input.h\u0026gt;\n\n#include \"Character.h\"\n\nCharacter::Character(Context* context) :\n    LogicComponent(context),\n    onGround_(false),\n    okToJump_(true),\n    inAirTimer_(0.0f)\n{\n    // Only the physics update event is needed: un-subscribe from the rest for optimization\n    SetUpdateEventMask(USE_FIXEDUPDATE);\n}\n\nvoid Character::RegisterObject(Context* context)\n{\n    context-\u0026gt;RegisterFactory\u0026lt;Character\u0026gt;();\n\n    // These macros register the class attributes to the Context for automatic load / save handling.\n    // We specify the Default attribute mode which means it will be used both for saving into file, and network replication\n    URHO3D_ATTRIBUTE(\"Controls Yaw\", float, controls_.yaw_, 0.0f, AM_DEFAULT);\n    URHO3D_ATTRIBUTE(\"Controls Pitch\", float, controls_.pitch_, 0.0f, AM_DEFAULT);\n    URHO3D_ATTRIBUTE(\"On Ground\", bool, onGround_, false, AM_DEFAULT);\n    URHO3D_ATTRIBUTE(\"OK To Jump\", bool, okToJump_, true, AM_DEFAULT);\n    URHO3D_ATTRIBUTE(\"In Air Timer\", float, inAirTimer_, 0.0f, AM_DEFAULT);\n}\n\nvoid Character::Start()\n{\n    // Component has been inserted into its scene node. Subscribe to events now\n    SubscribeToEvent(GetNode(), E_NODECOLLISION, URHO3D_HANDLER(Character, HandleNodeCollision));\n}\n\nvoid Character::FixedUpdate(float timeStep)\n{\n    /// \\todo Could cache the components for faster access instead of finding them each frame\n    RigidBody* body = GetComponent\u0026lt;RigidBody\u0026gt;();\n    AnimationController* animCtrl = node_-\u0026gt;GetComponent\u0026lt;AnimationController\u0026gt;(true);\n\tInput* input = GetSubsystem\u0026lt;Input\u0026gt;();\n\n    // Update the in air timer. Reset if grounded\n    if (!onGround_)\n        inAirTimer_ += timeStep;\n    else\n        inAirTimer_ = 0.0f;\n    // When character has been in air less than 1/10 second, it's still interpreted as being on ground\n    bool softGrounded = inAirTimer_ \u0026lt; INAIR_THRESHOLD_TIME;\n\n    // Update movement \u0026amp; animation\n    const Quaternion\u0026amp; rot = node_-\u0026gt;GetRotation();\n    Vector3 moveDir = Vector3::ZERO;\n    const Vector3\u0026amp; velocity = body-\u0026gt;GetLinearVelocity();\n    // Velocity on the XZ plane\n    Vector3 planeVelocity(velocity.x_ * 0.5f, 0.0f, velocity.z_ * 0.5f);\n\n    if (controls_.IsDown(CTRL_FORWARD))\n        moveDir += Vector3::FORWARD;\n    if (controls_.IsDown(CTRL_BACK))\n        moveDir += Vector3::BACK;\n    if (controls_.IsDown(CTRL_LEFT))\n        moveDir += Vector3::LEFT;\n    if (controls_.IsDown(CTRL_RIGHT))\n        moveDir += Vector3::RIGHT;\n\n\n    // Normalize move vector so that diagonal strafing is not faster\n    if (moveDir.LengthSquared() \u0026gt; 0.0f)\n        moveDir.Normalize();\n\n    // If in air, allow control, but slower than when on ground\n    body-\u0026gt;ApplyImpulse(rot * moveDir * (softGrounded ? MOVE_FORCE : INAIR_MOVE_FORCE));\n\n    if (softGrounded)\n    {\n        // When on ground, apply a braking force to limit maximum ground velocity\n        Vector3 brakeForce = -planeVelocity * BRAKE_FORCE;\n        body-\u0026gt;ApplyImpulse(brakeForce);\n\n        // Jump. Must release jump control between jumps\n        if (controls_.IsDown(CTRL_JUMP))\n        {\n            if (okToJump_)\n            {\n                body-\u0026gt;ApplyImpulse(Vector3::UP * JUMP_FORCE);\n                okToJump_ = false;\n\t\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_airborne.ani\", 0, false, 0.2f);\n            }\n        }\n        else\n            okToJump_ = true;\n    }\n\n    if ( !onGround_ )\n    {\n\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_airborne.ani\", 0, true, 0.2f);\n    }\n    else\n    {\n        // Play walk animation if moving on ground, otherwise fade it out\n        if (softGrounded \u0026amp;\u0026amp; !moveDir.Equals(Vector3::ZERO))\n\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_move_front.ani\", 0, true, 0.2f);\n\n        else\n\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_idle.ani\", 0, true, 0.2f);\n\n        // Set walk animation speed proportional to velocity\n\t\tanimCtrl-\u0026gt;SetSpeed(\"Models/stand_sword_move_front.ani\", planeVelocity.Length() * 0.3f);\n    }\n\t// Play walk animation if moving on ground, otherwise fade it out\n\tif (softGrounded \u0026amp;\u0026amp; moveDir.Equals(Vector3::RIGHT))\n\t{\n\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_move_right.ani\", 0, true, 0.2f);\n\t}\n\t// Play walk animation if moving on ground, otherwise fade it out\n\tif (softGrounded \u0026amp;\u0026amp; moveDir.Equals(Vector3::LEFT))\n\t{\n\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_move_left.ani\", 0, true, 0.2f);\n\t}\n\t// Play walk animation if moving on ground, otherwise fade it out\n\tif (softGrounded \u0026amp;\u0026amp; moveDir.Equals(Vector3::BACK))\n\t{\n\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_move_back.ani\", 0, true, 0.2f);\n\t}\n\t// Switch between 1st and 3rd person\n\tif (input-\u0026gt;GetKeyPress(KEY_M))\n\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_melee%1.ani\", 0, false, 0.2f);\n\n\t// Play walk animation if moving on ground, otherwise fade it out\n\tif (inAirTimer_ \u0026gt; 3.5f)\n\t{\n\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_dead_airborne.ani\", 0, true, 0.2f);\n\t}\n\n    // Reset grounded flag for next frame\n    onGround_ = false;\n\n}\n\nvoid Character::HandleNodeCollision(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n    // Check collision contacts and see if character is standing on ground (look for a contact that has near vertical normal)\n    using namespace NodeCollision;\n\n    MemoryBuffer contacts(eventData[P_CONTACTS].GetBuffer());\n\n    while (!contacts.IsEof())\n    {\n        Vector3 contactPosition = contacts.ReadVector3();\n        Vector3 contactNormal = contacts.ReadVector3();\n        /*float contactDistance = */contacts.ReadFloat();\n        /*float contactImpulse = */contacts.ReadFloat();\n\n        // If contact is below node center and pointing up, assume it's a ground contact\n        if (contactPosition.y_ \u0026lt; (node_-\u0026gt;GetPosition().y_ + 1.0f))\n        {\n            float level = contactNormal.y_;\n            if (level \u0026gt; 0.75)\n                onGround_ = true;\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI have moved my key press function into the Character.cpp file. If I press M it tries to play the animation, but the character just kinda jitters. Something in this file stops it from playing.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2018-12-16T04:02:50.860Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":28,"readers_count":27,"score":5.6,"yours":false,"topic_id":4753,"topic_slug":"issues-changing-animation-controller-from-another-class-solved","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26947,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2018-12-16T20:36:50.817Z","cooked":"\u003cp\u003eI may have confused you own the jittering. Here is a video watch until the end. \u003ca href=\"https://youtu.be/Lm05-39ld1o\" rel=\"nofollow noopener\"\u003eVideo\u003c/a\u003e That is when I repeatedly press the M key. I tried assigning the melee key to the controls in \u003ccode\u003eCharacterDemo.cpp\u003c/code\u003e on this line ‚Äúnot shown‚Äù.\u003cbr\u003e\n// Clear previous controls\u003cbr\u003e\ncharacter_-\u0026gt;controls_.Set(CTRL_FORWARD | CTRL_BACK | CTRL_LEFT | CTRL_RIGHT | CTRL_JUMP, false);\u003c/p\u003e\n\u003cp\u003eThen in\u003ccode\u003eCharacter.h\u003c/code\u003e\u003cbr\u003e\nconst int CTRL_FORWARD = 1;\u003cbr\u003e\nconst int CTRL_BACK = 2;\u003cbr\u003e\nconst int CTRL_LEFT = 4;\u003cbr\u003e\nconst int CTRL_RIGHT = 8;\u003cbr\u003e\nconst int CTRL_JUMP = 16;\u003c/p\u003e\n\u003cp\u003eI assign the \u003ccode\u003econst int CTRL_MELEE\u003c/code\u003e I am not sure what int value goes for the M key, because I don‚Äôt know where these numbers came from. The animation would play if I hit the M key, but it kept trying to move my character in one of the directions no matter what int I assigned \u003ccode\u003eCTRL_MELEE\u003c/code\u003e. I was able to add the other thing quite easily like left and right animation. A falling animation, but this turned quite complicated for the melee animation.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2018-12-16T20:36:50.817Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":4753,"topic_slug":"issues-changing-animation-controller-from-another-class-solved","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://youtu.be/Lm05-39ld1o","internal":false,"reflection":false,"clicks":4}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26951,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2018-12-17T00:20:25.019Z","cooked":"\u003cp\u003eWell everything is working now. Thanks for the help everyone. I believe part of the problem was that I did not have the bit number right for the melee action.\u003c/p\u003e\n\u003cp\u003eFor anyone in the future this is the updated code for \u003ccode\u003eCharacter.cpp\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003evoid Character::FixedUpdate(float timeStep)\n{\n/// \\todo Could cache the components for faster access instead of finding them each frame\nRigidBody* body = GetComponent\u0026lt;RigidBody\u0026gt;();\nAnimationController* animCtrl = node_-\u0026gt;GetComponent\u0026lt;AnimationController\u0026gt;(true);\n\tInput* input = GetSubsystem\u0026lt;Input\u0026gt;();\n\n// Update the in air timer. Reset if grounded\nif (!onGround_)\n    inAirTimer_ += timeStep;\nelse\n    inAirTimer_ = 0.0f;\n// When character has been in air less than 1/10 second, it's still interpreted as being on ground\nbool softGrounded = inAirTimer_ \u0026lt; INAIR_THRESHOLD_TIME;\n\n// Update movement \u0026amp; animation\nconst Quaternion\u0026amp; rot = node_-\u0026gt;GetRotation();\nVector3 moveDir = Vector3::ZERO;\nconst Vector3\u0026amp; velocity = body-\u0026gt;GetLinearVelocity();\n// Velocity on the XZ plane\nVector3 planeVelocity(velocity.x_ * 0.5f, 0.0f, velocity.z_ * 0.5f);\n\nif (controls_.IsDown(CTRL_FORWARD))\n    moveDir += Vector3::FORWARD;\nif (controls_.IsDown(CTRL_BACK))\n    moveDir += Vector3::BACK;\nif (controls_.IsDown(CTRL_LEFT))\n    moveDir += Vector3::LEFT;\nif (controls_.IsDown(CTRL_RIGHT))\n    moveDir += Vector3::RIGHT;\n\n\n// Normalize move vector so that diagonal strafing is not faster\nif (moveDir.LengthSquared() \u0026gt; 0.0f)\n    moveDir.Normalize();\n\n// If in air, allow control, but slower than when on ground\nbody-\u0026gt;ApplyImpulse(rot * moveDir * (softGrounded ? MOVE_FORCE : INAIR_MOVE_FORCE));\n\nif (softGrounded)\n{\n    // When on ground, apply a braking force to limit maximum ground velocity\n    Vector3 brakeForce = -planeVelocity * BRAKE_FORCE;\n    body-\u0026gt;ApplyImpulse(brakeForce);\n\n    // Jump. Must release jump control between jumps\n    if (controls_.IsDown(CTRL_JUMP))\n    {\n        if (okToJump_)\n        {\n            body-\u0026gt;ApplyImpulse(Vector3::UP * JUMP_FORCE);\n            okToJump_ = false;\n\t\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_airborne.ani\", 0, false, 0.2f);\n        }\n    }\n    else\n        okToJump_ = true;\n}\n\n\t// On air\n\tif (!onGround_) {\n\n\t\t// Falling a lot\n\t\tif (inAirTimer_ \u0026gt; 3.5f)\t{\n\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_dead_airborne.ani\", 0, true, 0.2f);\n\n\t\t\t// Falling a bit\t\t\n\t\t}\n\t\telse {\n\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_airborne.ani\", 0, true, 0.2f);\n\t\t}\n\n\t\t// On ground\n\t}\n\telse {\n\n\t\t// On ground with movement\n\t\tif (softGrounded \u0026amp;\u0026amp; !moveDir.Equals(Vector3::ZERO)) {\n\n\t\t\t// Moving forward\n\t\t\tif (softGrounded \u0026amp;\u0026amp; moveDir.Equals(Vector3::FORWARD)) {\n\t\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_move_front.ani\", 0, true, 0.2f);\n\t\t\t\tanimCtrl-\u0026gt;SetSpeed(\"Models/stand_sword_move_front.ani\", planeVelocity.Length() * 0.3f);\n\t\t\t}\n\n\t\t\t// Moving back\n\t\t\tif (softGrounded \u0026amp;\u0026amp; moveDir.Equals(Vector3::BACK)) {\n\t\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_move_back.ani\", 0, true, 0.2f);\n\t\t\t\tanimCtrl-\u0026gt;SetSpeed(\"Models/stand_sword_move_back.ani\", planeVelocity.Length() * 0.3f);\n\t\t\t}\n\n\t\t\t// Moving left\n\t\t\tif (softGrounded \u0026amp;\u0026amp; moveDir.Equals(Vector3::LEFT)) {\n\t\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_move_left.ani\", 0, true, 0.2f);\n\t\t\t\tanimCtrl-\u0026gt;SetSpeed(\"Models/stand_sword_move_left.ani\", planeVelocity.Length() * 0.3f);\n\t\t\t}\n\n\t\t\t// Moving right\n\t\t\tif (softGrounded \u0026amp;\u0026amp; moveDir.Equals(Vector3::RIGHT))\t{\n\t\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_move_right.ani\", 0, true, 0.2f);\n\t\t\t\tanimCtrl-\u0026gt;SetSpeed(\"Models/stand_sword_move_right.ani\", planeVelocity.Length() * 0.3f);\n\t\t\t}\n\n\t\t\t// On ground idle\n\t\t}\n\t\telse {\n\t\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_idle.ani\", 0, true, 0.2f);\n\t\t}\n\n\t}\n\n\tif (controls_.IsDown(CTRL_MELEE)) {\n\t\tanimCtrl-\u0026gt;PlayExclusive(\"Models/stand_sword_melee%1.ani\", 0, false, 0.0f); // Try tweaking the last value.\n\t\tanimCtrl-\u0026gt;SetSpeed(\"Models/stand_sword_melee%1.ani\", 1.0f); // Try tweaking the last value.\n\t}\n\n// Reset grounded flag for next frame\nonGround_ = false;\n\n}\u003c/code\u003e\u003c/pre\u003e","post_number":9,"post_type":1,"updated_at":"2018-12-17T00:21:06.774Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":18,"readers_count":17,"score":18.6,"yours":false,"topic_id":4753,"topic_slug":"issues-changing-animation-controller-from-another-class-solved","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[26941,26942,26943,26944,26945,26947,26951]},"timeline_lookup":[[1,1438],[6,1437]],"suggested_topics":[{"id":7083,"title":"Using custom models in Xamarin.Forms shared project","fancy_title":"Using custom models in Xamarin.Forms shared project","slug":"using-custom-models-in-xamarin-forms-shared-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-03T08:34:21.895Z","last_posted_at":"2021-12-03T11:40:30.983Z","bumped":true,"bumped_at":"2021-12-03T11:40:30.983Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":198,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1493,"username":"Nikolai","name":"Nikolai Miroshnichenko","avatar_template":"/user_avatar/discourse.urho3d.io/nikolai/{size}/3632_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7087,"title":"Android how to get error message sometimes little change gives me just crash","fancy_title":"Android how to get error message sometimes little change gives me just crash","slug":"android-how-to-get-error-message-sometimes-little-change-gives-me-just-crash","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-05T16:59:59.376Z","last_posted_at":"2021-12-05T18:17:02.335Z","bumped":true,"bumped_at":"2021-12-05T18:17:02.335Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":153,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1436,"username":"Maco","name":"Maco","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/90ced4/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7107,"title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u003cSDL/SDL_gamecontroller.h\u003e","fancy_title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u0026lt;SDL/SDL_gamecontroller.h\u0026gt;","slug":"error-sdl-sdl-gamecontroller-h-no-such-file-or-directory-include-sdl-sdl-gamecontroller-h","posts_count":6,"reply_count":1,"highest_post_number":6,"image_url":null,"created_at":"2021-12-21T15:29:52.810Z","last_posted_at":"2021-12-22T15:32:44.818Z","bumped":true,"bumped_at":"2021-12-22T15:32:44.818Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":271,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}],"tags_descriptions":{},"id":4753,"title":"Issues changing animation controller from another class(Solved)","fancy_title":"Issues changing animation controller from another class(Solved)","posts_count":7,"created_at":"2018-12-15T17:59:28.987Z","views":445,"reply_count":2,"like_count":1,"last_posted_at":"2018-12-17T00:20:25.019Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"issues-changing-animation-controller-from-another-class-solved","category_id":10,"word_count":1582,"deleted_at":null,"user_id":861,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_4753","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":9,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","post_count":6,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0}],"created_by":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"},"last_poster":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"},"links":[{"url":"https://youtu.be/Lm05-39ld1o","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":861,"domain":"youtu.be","root_domain":"youtu.be"}]}}