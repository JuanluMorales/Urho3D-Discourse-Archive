{"post_stream":{"posts":[{"id":4808,"name":"","username":"lazypanda","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/ad7895/{size}.png","created_at":"2015-02-16T21:37:10.000Z","cooked":"\u003cp\u003eHey again!\u003c/p\u003e\n\u003cp\u003eCould some one tell me about vegetation systems and how they’re implemented in games. I’ve been studying pagedgeometry from ogre3d. The general notion seems to be to divide the terrain into batches and load grass around the camera in a cache-friendly way (using vectors?).\u003c/p\u003e\n\u003cp\u003eMy questions are:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCan I use the octree in Urho3d for spatial partioning, or is it better to write my own grid classes?\u003c/li\u003e\n\u003cli\u003eWhat is the most performance friendly way to load and unload meshes in Urho?\u003c/li\u003e\n\u003cli\u003eCan I use the inbuilt instancing with alpha (grass)? I read in some thread that this wasn’t possible in Urho.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThanks  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:03:30.152Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":367,"reads":58,"readers_count":57,"score":1848.6,"yours":false,"topic_id":850,"topic_slug":"vegetation-in-urho3d-how","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":204,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4821,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-02-17T08:57:30.000Z","cooked":"\u003cp\u003eThe octree should be perfectly fine for creating grass objects dynamically, and in fact you would certainly want to use it so that the grass objects can interact normally with the rest of the rendering (ie. lights and shadows).\u003c/p\u003e\n\u003cp\u003eIf the grass patches use ordinary model resources loaded through the ResourceCache, instantiating more copies of them is fairly fast (ie. create a scene node and a drawable component, SetModel to it), as well as deleting them (just remove the scene node). ResourceCache takes care of keeping the model resource(s) in memory for fast access.\u003c/p\u003e\n\u003cp\u003eIf you need to create model resources dynamically, there is not a real “fast” or a “slow” path either to it. Create model, create vertex/index buffers, fill them with data. Refer to the 34_DynamicGeometry C++ sample.\u003c/p\u003e\n\u003cp\u003eMost FPS / TPS games seem to use alpha-tested opaque vegetation, which means that it’s not an actual alpha object as far as the Urho’s renderer would be concerned, but writes to the Z-buffer normally. In this case the renderer can instance your objects. If you need actual alpha blending, the grass patches will need to be distance-sorted and that will tax the CPU and not allow instancing. In that case I’d recommend to use as large patches as possible, so that you only need a few of them.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:03:31.109Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":58,"readers_count":57,"score":11.6,"yours":false,"topic_id":850,"topic_slug":"vegetation-in-urho3d-how","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4827,"name":"","username":"lazypanda","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/ad7895/{size}.png","created_at":"2015-02-17T14:10:09.000Z","cooked":"\u003cp\u003eThanks cadaver! So I’ve thought  about StaticModels close to the camera and billboards further back. Are lots of billboards performance hungry in Urho? Also is a cache system needed like the one in pagedgeometry or should add/removing nodes be enough?\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:03:31.547Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":54,"readers_count":53,"score":15.8,"yours":false,"topic_id":850,"topic_slug":"vegetation-in-urho3d-how","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":204,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4828,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-02-17T14:37:28.000Z","cooked":"\u003cp\u003eOne BillboardSet component is one drawcall. These will not be instanced because each sends unique shader constants for the camera orientation. So gather as many billboards as you can into one BillboardSet. About the cache system I cannot answer, as I haven’t studied Ogre PagedGeometry code and don’t know what it exactly does, so you should profile yourself: start with the simplest code you can and see if the performance is already OK.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:03:31.603Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":7,"reads":52,"readers_count":51,"score":45.4,"yours":false,"topic_id":850,"topic_slug":"vegetation-in-urho3d-how","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4832,"name":"","username":"franck22000","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png","created_at":"2015-02-17T18:02:16.000Z","cooked":"\u003cp\u003eHere is an image of my day/night cycle with my vegetation system in uhro. My system is made by using a custom grid class and some billboard textures that are automatically generated from the tree models. Tree in front are regular meshes and of course trees in distance are billboards.\u003c/p\u003e\n\u003cp\u003eSo yes urho can handle this easilly but you need to do some of the work yourself \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://tof.canardpc.com/view/fd79006c-3ec2-4812-ab53-de30b3dd5e6f.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://tof.canardpc.com/preview2/fd79006c-3ec2-4812-ab53-de30b3dd5e6f.jpg\" alt=\"\" width=\"600\" height=\"338\"\u003e\u003c/a\u003e\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:03:31.862Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":10,"reads":51,"readers_count":50,"score":60.2,"yours":false,"topic_id":850,"topic_slug":"vegetation-in-urho3d-how","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://tof.canardpc.com/view/fd79006c-3ec2-4812-ab53-de30b3dd5e6f.jpg","internal":false,"reflection":false,"title":"fd79006c-3ec2-4812-ab53-de30b3dd5e6f.jpg","clicks":132}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":174,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4844,"name":"gawag AKA damu","username":"gawag","avatar_template":"/user_avatar/discourse.urho3d.io/gawag/{size}/68_2.png","created_at":"2015-02-18T00:21:37.000Z","cooked":"\u003cp\u003eOh that looks really great!\u003c/p\u003e\n\u003cp\u003eI’ve used PagedGeometry with Ogre before and I would / we could really need something like that for Urho3D as well.\u003cbr\u003e\nI’ve also used two different Day/Night/Weather things with Ogre, one was called SkyX I think. Those systems also changed models and the terrain by adding a shader phase to it, to influence them with the current lighting.\u003c/p\u003e\n\u003cp\u003eCould you release your work regarding those things in some way? Even it’s unfinished/buggy. They could be expanded to be general and easily usable as PagedGeometry was.\u003cbr\u003e\nCan it also do grass? PagedGeometry used two triangles per grass “billboard”, which were deformed depending on terrain shape. Paged Geometry also automatically created images of objects to have billboard of them from different angles.\u003cbr\u003e\nAre your systems used in any game project?\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:03:32.804Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":4,"reads":50,"readers_count":49,"score":30.0,"yours":false,"topic_id":850,"topic_slug":"vegetation-in-urho3d-how","display_username":"gawag AKA damu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":206,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[4808,4821,4827,4828,4832,4844]},"timeline_lookup":[[1,2836],[5,2835]],"suggested_topics":[{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11？","fancy_title":"Do we give up supporting dx11？","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7179,"title":"Need help with cusomized PBR renderpath","fancy_title":"Need help with cusomized PBR renderpath","slug":"need-help-with-cusomized-pbr-renderpath","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-02-01T09:04:58.692Z","last_posted_at":"2022-02-03T17:35:34.174Z","bumped":true,"bumped_at":"2022-02-03T17:35:34.174Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":13,"views":205,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7104,"title":"Bug in my partial-model copying code","fancy_title":"Bug in my partial-model copying code","slug":"bug-in-my-partial-model-copying-code","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5367e370779d64989e5c3ff2c1ebfb0689908c87.png","created_at":"2021-12-17T03:50:19.405Z","last_posted_at":"2021-12-17T13:50:49.662Z","bumped":true,"bumped_at":"2021-12-17T13:50:49.662Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":850,"title":"Vegetation in Urho3D. How?","fancy_title":"Vegetation in Urho3D. How?","posts_count":6,"created_at":"2015-02-16T21:37:10.000Z","views":2429,"reply_count":0,"like_count":0,"last_posted_at":"2015-02-18T00:21:37.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"vegetation-in-urho3d-how","category_id":9,"word_count":685,"deleted_at":null,"user_id":204,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_850","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":204,"username":"lazypanda","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/ad7895/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":174,"username":"franck22000","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":206,"username":"gawag","name":"gawag AKA damu","avatar_template":"/user_avatar/discourse.urho3d.io/gawag/{size}/68_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":204,"username":"lazypanda","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/ad7895/{size}.png"},"last_poster":{"id":206,"username":"gawag","name":"gawag AKA damu","avatar_template":"/user_avatar/discourse.urho3d.io/gawag/{size}/68_2.png"}}}