{"post_stream":{"posts":[{"id":18972,"name":"","username":"Victor","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","created_at":"2017-06-26T12:32:36.345Z","cooked":"\u003cp\u003eI’ve been working on a few modifications to my foliage system and started to add multiple foliage types to it. I’ve also removed the StaticModelGroup and I’m only using StaticModel now, grouping the triangles into large batches of my CustomMesh class for performance.\u003c/p\u003e\n\u003cp\u003eMy next goal is to load the different foliage patches onto another thread to save on memory resources. I’ve done this before, but I need to rewrite my class since I’ve refactored a bunch of stuff.\u003c/p\u003e\n\u003cdiv class=\"lazyYT\" data-youtube-id=\"bZnO0qLi3bY\" data-youtube-title=\"Urho3D Foliage 2\" data-width=\"480\" data-height=\"270\" data-parameters=\"feature=oembed\u0026amp;wmode=opaque\"\u003e\u003c/div\u003e","post_number":1,"post_type":1,"updated_at":"2017-06-26T12:32:36.345Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":67,"reads":61,"readers_count":60,"score":422.2,"yours":false,"topic_id":3283,"topic_slug":"foliage-rendering","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.youtube.com/watch?v=bZnO0qLi3bY","internal":false,"reflection":false,"title":"Urho3D Foliage 2","clicks":1}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":3}],"moderator":false,"admin":false,"staff":false,"user_id":461,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":18990,"name":"","username":"Don","avatar_template":"/user_avatar/discourse.urho3d.io/don/{size}/755_2.png","created_at":"2017-06-27T03:09:56.209Z","cooked":"\u003cp\u003eThe performance here is really great! Would you mind sharing the code to your CustomMesh class and what hardware you’re running on? I’m looking to implement something similar.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-06-27T03:09:56.209Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":56,"readers_count":55,"score":16.2,"yours":false,"topic_id":3283,"topic_slug":"foliage-rendering","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":723,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":18991,"name":"","username":"Victor","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","created_at":"2017-06-27T03:43:00.948Z","cooked":"\u003cp\u003eHere’s the updated version of the CustomMesh class. It’s originally based off of this post: \u003ca href=\"http://discourse.urho3d.io/t/a-mesh-generator/2361\"\u003eA Mesh Generator\u003c/a\u003e by \u003ca class=\"mention\" href=\"/u/rbnpontes\"\u003e@rbnpontes\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThe key factors right now for the foliage to render as a single mesh are the Rotate()/RotateFace() method. I’m still working on adding wind and making a better shader. I have noticed that if you push too many tris to the CustomMesh class you can run into some issues where the vertices are misplaced. There’s a SetUseLargeIndices() for large meshes, however sometimes you still end up having REALLY large set of vertices to render (which can mess up the render). In those cases I create multiple CustomMesh objects if that makes sense… \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003caside class=\"onebox githubgist\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://gist.github.com/victorholt/5913777922c61549f9d9bce9487a750f\" target=\"_blank\" rel=\"nofollow noopener\"\u003egist.github.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://gist.github.com/victorholt/5913777922c61549f9d9bce9487a750f\" target=\"_blank\" rel=\"nofollow noopener\"\u003ehttps://gist.github.com/victorholt/5913777922c61549f9d9bce9487a750f\u003c/a\u003e\u003c/h4\u003e\n\n\u003cp\u003e\n\u003c/p\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\u003caside class=\"onebox githubgist\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://gist.github.com/victorholt/955ae2f76173d1a5d3b9f65fefcbb47e\" target=\"_blank\" rel=\"nofollow noopener\"\u003egist.github.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://gist.github.com/victorholt/955ae2f76173d1a5d3b9f65fefcbb47e\" target=\"_blank\" rel=\"nofollow noopener\"\u003ehttps://gist.github.com/victorholt/955ae2f76173d1a5d3b9f65fefcbb47e\u003c/a\u003e\u003c/h4\u003e\n\n\u003cp\u003e\n\u003c/p\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n","post_number":3,"post_type":1,"updated_at":"2017-06-27T03:43:00.948Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":7,"reads":56,"readers_count":55,"score":46.2,"yours":false,"topic_id":3283,"topic_slug":"foliage-rendering","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://gist.github.com/victorholt/5913777922c61549f9d9bce9487a750f","internal":false,"reflection":false,"title":"CustomMesh Header Refactored · GitHub","clicks":23},{"url":"https://gist.github.com/victorholt/955ae2f76173d1a5d3b9f65fefcbb47e","internal":false,"reflection":false,"title":"CustomMesh Src Refactored · GitHub","clicks":13},{"url":"http://discourse.urho3d.io/t/a-mesh-generator/2361","internal":true,"reflection":false,"title":"A Mesh Generator","clicks":11}],"read":true,"user_title":"","reply_to_user":{"username":"Don","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/don/{size}/755_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":461,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":18992,"name":"","username":"Victor","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","created_at":"2017-06-27T03:56:11.545Z","cooked":"\u003cp\u003eOh, in terms of hardware…, I don’t think I run an incredibly powerful machine, just one I built a couple of years ago.\u003c/p\u003e\n\u003cp\u003eWindows 10 64bit\u003cbr\u003e\ni5-4690K (3.5 GHz) no overclock\u003cbr\u003e\nNvidia GeForce GTX 760\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-06-27T03:56:11.545Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":55,"readers_count":54,"score":11.0,"yours":false,"topic_id":3283,"topic_slug":"foliage-rendering","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":461,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":18994,"name":"","username":"TheSHEEEP","avatar_template":"/user_avatar/discourse.urho3d.io/thesheeep/{size}/74_2.png","created_at":"2017-06-27T05:32:36.059Z","cooked":"\u003cp\u003eNot bad!\u003cbr\u003e\nHow would you go about rendering distant environments with this approach (think maybe a forest from the distance)?\u003c/p\u003e\n\u003cp\u003eOr would you use something else for that?\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-06-27T05:32:36.059Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":55,"readers_count":54,"score":16.0,"yours":false,"topic_id":3283,"topic_slug":"foliage-rendering","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":513,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":18996,"name":"","username":"Victor","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","created_at":"2017-06-27T06:45:21.676Z","cooked":"\u003cp\u003eI’m not sure to be honest. This is all just experimental heh. Also, this approach makes it harder to do wind animation, which might not even be worth it. Instead, this might be a good approach to render distant foliage with no animation, while close up foliage can use the StaticModelGroup approach to handle wind animation.\u003c/p\u003e\n\u003cp\u003eFor very large terrains, I used a multi-threaded approach to load up foliage files when you got close enough to save on resources.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-06-27T06:45:21.676Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":2,"reads":52,"readers_count":51,"score":35.4,"yours":false,"topic_id":3283,"topic_slug":"foliage-rendering","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"TheSHEEEP","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/thesheeep/{size}/74_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":461,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[18972,18990,18991,18992,18994,18996]},"timeline_lookup":[[1,1976],[2,1975]],"suggested_topics":[{"id":7175,"title":"Urholonia! Avalonia UI inside Urho.NET","fancy_title":"Urholonia! Avalonia UI inside Urho.NET","slug":"urholonia-avalonia-ui-inside-urho-net","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/1/16ba305655d479c49a51c096c5176dcb6d895db2_2_1024x512.jpeg","created_at":"2022-01-30T09:21:06.368Z","last_posted_at":"2022-01-30T09:21:06.435Z","bumped":true,"bumped_at":"2022-01-30T09:21:06.435Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":197,"category_id":17,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}]},{"id":7126,"title":":checkered_flag: Urho Kart","fancy_title":":checkered_flag: Urho Kart","slug":"urho-kart","posts_count":6,"reply_count":3,"highest_post_number":6,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/1/1281338493c5b7deaf16a1166af11a78504bde16.png","created_at":"2022-01-13T03:17:23.415Z","last_posted_at":"2022-01-14T20:54:48.999Z","bumped":true,"bumped_at":"2022-01-14T21:16:54.291Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🏁 Urho Kart","tags_descriptions":{},"like_count":10,"views":385,"category_id":14,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7138,"title":"Build fails (linking phase) on Linux","fancy_title":"Build fails (linking phase) on Linux","slug":"build-fails-linking-phase-on-linux","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-01-20T03:08:29.663Z","last_posted_at":"2022-01-21T15:27:41.192Z","bumped":true,"bumped_at":"2022-01-21T15:27:41.192Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":178,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1502,"username":"jasperry","name":"Jason Perry","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/5fc32e/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7114,"title":":fireworks: Multi-Mower","fancy_title":":fireworks: Multi-Mower","slug":"multi-mower","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/2/21e99fb677795abba6665611690df6db44a4f724_2_1024x336.png","created_at":"2022-01-01T00:59:53.176Z","last_posted_at":"2022-01-01T10:18:14.930Z","bumped":true,"bumped_at":"2022-01-01T22:11:41.028Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🎆 Multi-Mower","tags_descriptions":{},"like_count":1,"views":258,"category_id":12,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7103,"title":":test_tube: DebugRenderer as GUI","fancy_title":":test_tube: DebugRenderer as GUI","slug":"debugrenderer-as-gui","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-17T02:25:06.606Z","last_posted_at":"2021-12-18T01:09:27.738Z","bumped":true,"bumped_at":"2021-12-18T01:09:27.738Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🧪 DebugRenderer as GUI","tags_descriptions":{},"like_count":4,"views":267,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]}],"tags_descriptions":{},"id":3283,"title":"Foliage Rendering","fancy_title":"Foliage Rendering","posts_count":6,"created_at":"2017-06-26T12:32:36.291Z","views":1198,"reply_count":2,"like_count":4,"last_posted_at":"2017-06-27T06:45:21.676Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"foliage-rendering","category_id":17,"word_count":400,"deleted_at":null,"user_id":461,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3283","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":461,"username":"Victor","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":513,"username":"TheSHEEEP","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/thesheeep/{size}/74_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":723,"username":"Don","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/don/{size}/755_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":461,"username":"Victor","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png"},"last_poster":{"id":461,"username":"Victor","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png"},"links":[{"url":"https://gist.github.com/victorholt/5913777922c61549f9d9bce9487a750f","title":"CustomMesh Header Refactored · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":23,"user_id":461,"domain":"gist.github.com","root_domain":"github.com"},{"url":"https://gist.github.com/victorholt/955ae2f76173d1a5d3b9f65fefcbb47e","title":"CustomMesh Src Refactored · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":13,"user_id":461,"domain":"gist.github.com","root_domain":"github.com"},{"url":"http://discourse.urho3d.io/t/a-mesh-generator/2361","title":"A Mesh Generator","internal":true,"attachment":false,"reflection":false,"clicks":11,"user_id":461,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"},{"url":"https://www.youtube.com/watch?v=bZnO0qLi3bY","title":"Urho3D Foliage 2","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":461,"domain":"www.youtube.com","root_domain":"youtube.com"}]}}