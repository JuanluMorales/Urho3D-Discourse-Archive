{"post_stream":{"posts":[{"id":8656,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2015-11-19T17:03:05.000Z","cooked":"\u003cp\u003eHello,\u003c/p\u003e\n\u003cp\u003eHow do you use packages? This is what I’m doing I have a file GameAssetData.xml and putting it in for example GameData.pak package file.\u003c/p\u003e\n\u003cp\u003eI have a function the search a Package or list with adidtional search criterias. It returns a a Vector .\u003c/p\u003e\n\u003cp\u003eOn the first find of GameAssetData.xml located there.\u003c/p\u003e\n\u003cp\u003eThe question next is how do I load it properly.\u003c/p\u003e\n\u003cp\u003eVivienne\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:08:12.733Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":63,"reads":14,"readers_count":13,"score":317.8,"yours":false,"topic_id":1512,"topic_slug":"using-packages-help","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8657,"name":"","username":"thebluefish","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","created_at":"2015-11-19T17:30:26.000Z","cooked":"\u003cp\u003e\u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/IO/File.h#L91\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003eFile::Open seems to be what you want.\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAlternatively you can use ResourceCache to open it.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:08:12.800Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":1512,"topic_slug":"using-packages-help","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/IO/File.h#L91","internal":false,"reflection":false,"title":"Urho3D/File.h at master · urho3d/Urho3D · GitHub","clicks":2}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":80,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8660,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2015-11-19T18:24:07.000Z","cooked":"\u003cp\u003e[quote=“thebluefish”]\u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/IO/File.h#L91\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003eFile::Open seems to be what you want.\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAlternatively you can use ResourceCache to open it.[/quote]\u003c/p\u003e\n\u003cp\u003eI’m looking at resource cache documentation but just not sure how to open it. I have something like\u003c/p\u003e\n\u003cp\u003e[code]// load game assets\u003cbr\u003e\nbool GameAssetData::LoadGameAssets(Vector\u0026lt;GameAsset*\u0026gt;* AllData)\u003cbr\u003e\n{\u003cbr\u003e\n// Get Resource\u003cbr\u003e\nResourceCache* resCache = g_pApp-\u0026gt;GetConstantResCache();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// create a empty file\nVector\u0026lt;String\u0026gt; m_datafiles;\nString m_UsePackage;\n\n// search files\nfor(unsigned i=0; i\u0026lt;=m_pDataFiles-\u0026gt;Size(); ++i)\n{\n    // temporary clear data\n    m_datafiles.Clear();\n\n    m_datafiles = SWResourceCache::Match(g_pApp-\u0026gt;GetConstantResCache(), m_pDataFiles-\u0026gt;At(i), m_pDataPath-\u0026gt;CString());\n\n    // if file is found\n    if(m_datafiles.Size()\u0026gt;0)\n    {\n        // Use this package\n        UsePackage.Append(m_pDataFiles-\u0026gt;at(i));\n\n        break;\n    }\n}\n\n// If datafiles is 0 or empty return - meaning nothing was found\nif(UsePackage.Empty())\n{\n    return false;\n}\n\n\n// Set File Pointer to file\nSharedPtr\u0026lt;File\u0026gt; m_DataFile = rescache-\u0026gt;GetFile(\"GameAssetOption.xml\");\n\n\nreturn true;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}[/code]\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:08:13.010Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":1512,"topic_slug":"using-packages-help","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/IO/File.h#L91","internal":false,"reflection":false,"title":"Urho3D/File.h at master · urho3d/Urho3D · GitHub","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8661,"name":"","username":"thebluefish","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","created_at":"2015-11-19T18:49:13.000Z","cooked":"\u003cp\u003eResourceCache can use Package Files the exact same way as directories. For example, /Data/ and Data.pak are interchangeable, and retrieving “scripts/editor.as” will pull from either one.\u003c/p\u003e\n\u003cp\u003eIf you’re not trying to use ResourceCache the way it’s meant to be used (ie, you are trying to directly work with the package file), then you have to use File::Open.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:08:13.076Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":13,"readers_count":12,"score":12.6,"yours":false,"topic_id":1512,"topic_slug":"using-packages-help","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":80,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8662,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2015-11-19T18:55:43.000Z","cooked":"\u003cp\u003e[quote=“thebluefish”]ResourceCache can use Package Files the exact same way as directories. For example, /Data/ and Data.pak are interchangeable, and retrieving “scripts/editor.as” will pull from either one.\u003c/p\u003e\n\u003cp\u003eIf you’re not trying to use ResourceCache the way it’s meant to be used (ie, you are trying to directly work with the package file), then you have to use File::Open.[/quote]\u003c/p\u003e\n\u003cp\u003eLike the above code I posted?\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:08:13.135Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":1512,"topic_slug":"using-packages-help","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8663,"name":"","username":"thebluefish","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","created_at":"2015-11-19T19:01:01.000Z","cooked":"\u003cp\u003eAFAIK as long as you aren’t doing something strange, the code \u003cem\u003eshould\u003c/em\u003e work in the sense that:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eSharedPtr\u0026lt;File\u0026gt; m_DataFile = rescache-\u0026gt;GetFile(\"GameAssetOption.xml\");\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eShould pull a File from a Package assuming the Package is used by ResourceCache. However I am not sure what the rest of the code is useful for.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:08:13.196Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":13,"readers_count":12,"score":12.6,"yours":false,"topic_id":1512,"topic_slug":"using-packages-help","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":80,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8671,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2015-11-20T03:23:13.000Z","cooked":"\u003cp\u003e[quote=“thebluefish”]AFAIK as long as you aren’t doing something strange, the code \u003cem\u003eshould\u003c/em\u003e work in the sense that:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eSharedPtr\u0026lt;File\u0026gt; m_DataFile = rescache-\u0026gt;GetFile(\"GameAssetOption.xml\");\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eShould pull a File from a Package assuming the Package is used by ResourceCache. However I am not sure what the rest of the code is useful for.[/quote]\u003c/p\u003e\n\u003cp\u003eI boiled down a error to this\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://pastebin.com/xXVD96xU\" rel=\"nofollow noopener\"\u003epastebin.com/xXVD96xU\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI checked the size of which is correct to the filename but I tried muiltiple ways. I think those lines load up garbage. So, either I’m not allocating the memory correctly or something else.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:08:13.805Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":5,"reads":12,"readers_count":11,"score":27.4,"yours":false,"topic_id":1512,"topic_slug":"using-packages-help","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://pastebin.com/xXVD96xU","internal":false,"reflection":false,"title":"hmm - Pastebin.com","clicks":6}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[8656,8657,8660,8661,8662,8663,8671]},"timeline_lookup":[[1,2561],[2,2560]],"suggested_topics":[{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7074,"title":"First Person and 3rd person camera and water reflections","fancy_title":"First Person and 3rd person camera and water reflections","slug":"first-person-and-3rd-person-camera-and-water-reflections","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-01T18:37:28.669Z","last_posted_at":"2021-12-01T21:19:51.519Z","bumped":true,"bumped_at":"2021-12-01T21:19:51.519Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":158,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7156,"title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","fancy_title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","slug":"manual-mesh-part-animation-e-g-rotate-a-propeller","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-26T23:50:29.343Z","last_posted_at":"2022-01-27T05:31:02.766Z","bumped":true,"bumped_at":"2022-01-27T05:31:02.766Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":155,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7160,"title":"RayCast trouble","fancy_title":"RayCast trouble","slug":"raycast-trouble","posts_count":17,"reply_count":9,"highest_post_number":19,"image_url":null,"created_at":"2022-01-29T00:06:00.367Z","last_posted_at":"2022-01-30T00:29:39.356Z","bumped":true,"bumped_at":"2022-01-30T00:29:39.356Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":260,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]}],"tags_descriptions":{},"id":1512,"title":"Using Packages Help?","fancy_title":"Using Packages Help?","posts_count":7,"created_at":"2015-11-19T17:03:05.000Z","views":332,"reply_count":0,"like_count":0,"last_posted_at":"2015-11-20T03:23:13.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"using-packages-help","category_id":10,"word_count":547,"deleted_at":null,"user_id":88,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1512","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":7,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":88,"username":"vivienneanthony","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":80,"username":"thebluefish","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":88,"username":"vivienneanthony","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png"},"last_poster":{"id":88,"username":"vivienneanthony","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png"},"links":[{"url":"http://pastebin.com/xXVD96xU","title":"hmm - Pastebin.com","internal":false,"attachment":false,"reflection":false,"clicks":6,"user_id":88,"domain":"pastebin.com","root_domain":"pastebin.com"},{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/IO/File.h#L91","title":"Urho3D/File.h at master · urho3d/Urho3D · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":80,"domain":"github.com","root_domain":"github.com"}]}}