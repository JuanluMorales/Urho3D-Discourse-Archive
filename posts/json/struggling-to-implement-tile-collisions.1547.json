{"post_stream":{"posts":[{"id":8818,"name":"","username":"Useless","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/ee59a6/{size}.png","created_at":"2015-12-03T15:23:38.000Z","cooked":"\u003cp\u003eHi i’m new in programming stuff, i i’m struggling to check collision with an Spriter Animated Sprite and a tile. I tried messing with the bounding box from the AnimatedSprite2D and creating a custom from an tile node, but i don’t seen to understand it well, it don’t intersect. Do anyone\u003c/p\u003e\n\u003cp\u003ei’m following this article: \u003ca href=\"http://www.wildbunny.co.uk/blog/2011/12/14/how-to-make-a-2d-platform-game-part-2-collision-detection/\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003ehttp://www.wildbunny.co.uk/blog/2011/12/14/how-to-make-a-2d-platform-game-part-2-collision-detection/\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e    void ResolveCollision(Node* tile) {\n        BoundingBox actorBBox = animSprite-\u0026gt;GetBoundingBox();\n        actorBBox.Transform(node_-\u0026gt;GetTransform());\n\n        std::cout \u0026lt;\u0026lt; \"tile \" \u0026lt;\u0026lt; tile-\u0026gt;GetPosition().ToString().CString() \u0026lt;\u0026lt; \"\\n;\";\n        std::cout \u0026lt;\u0026lt; node_-\u0026gt;GetPosition().ToString().CString() \u0026lt;\u0026lt; \"\\n;\";\n\n        if (actorBBox.IsInside(tile-\u0026gt;GetPosition()) != OUTSIDE)\n            std::cout \u0026lt;\u0026lt; \"NOT FIRING\" \u0026lt;\u0026lt; \"\\n\";\n    }\n\n    void PosCollisions(float timeStep) {\n        Vector2 position = node_-\u0026gt;GetPosition2D() + Vector2(0, 0.5f);\n        Vector2 predictedPos = position + (Vector2(velocity.x_, velocity.y_) * timeStep);\n\n        Vector2 min = Vector2(Min(position.x_, predictedPos.x_), Min(position.y_, predictedPos.y_));\n        Vector2 max = Vector2(Max(position.x_, predictedPos.x_), Max(position.y_, predictedPos.y_));\n\n\n        int mapMinX = -1;\n        int mapMinY = -1;\n        map_-\u0026gt;PositionToTileIndex(mapMinX, mapMinY, min);\n\n        int mapMaxX = -1;\n        int mapMaxY = -1;\n        map_-\u0026gt;PositionToTileIndex(mapMaxX, mapMaxY, max);\n\n        for (int x = mapMinX; x \u0026lt;= mapMaxX; x++) {\n            for (int y = mapMinY; y \u0026lt;= mapMaxY; y++) {\n                Node* tile = map_-\u0026gt;GetLayer(0)-\u0026gt;GetTileNode(x, y);\n                if (tile) {\n                    ResolveCollision(tile);\n                }\n            }\n        }\n    }\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEdit: Updated Code\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:08:24.177Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":3,"readers_count":2,"score":10.6,"yours":false,"topic_id":1547,"topic_slug":"struggling-to-implement-tile-collisions","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.wildbunny.co.uk/blog/2011/12/14/how-to-make-a-2d-platform-game-part-2-collision-detection/","internal":false,"reflection":false,"title":"How to make a 2d platform game – part 2 collision detection | Wildbunny blog","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":351,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8819,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2015-12-03T16:06:56.000Z","cooked":"\u003cp\u003eWhy not use the Physics2D components?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:08:24.247Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":2,"readers_count":1,"score":0.4,"yours":false,"topic_id":1547,"topic_slug":"struggling-to-implement-tile-collisions","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8827,"name":"","username":"Useless","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/ee59a6/{size}.png","created_at":"2015-12-04T06:04:55.000Z","cooked":"\u003cp\u003eBox2D is a overkill for me… for that i would have to fight the engine to make the desirable behavior.\u003c/p\u003e\n\u003cp\u003eAlso is there a way to setup a static bbox on the scml file?\u003c/p\u003e\n\u003cp\u003eMade something a bit simpler:\u003cbr\u003e\nPoint based\u003c/p\u003e\n\u003cp\u003e[code]      void AdjustPosition(Vector2 pos, float timeStep) {\u003cbr\u003e\nVector2 tilePos = (node_-\u0026gt;GetPosition2D() + pos + (Vector2(velocity.x_, velocity.y_) * timeStep));\u003cbr\u003e\nNode* tile = GetTileNode(tilePos);\u003cbr\u003e\nif (tile == NULL)\u003cbr\u003e\nreturn;\u003cbr\u003e\nVector3 dir = tile-\u0026gt;GetPosition() - node_-\u0026gt;GetPosition() + pos;\u003cbr\u003e\ndir.Normalize();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    //dir = GetGreaterAxis(dir); //Need to check if the tile axis is occluded\n\n    if (dir.y_ \u0026lt; 0) {\n        node_-\u0026gt;SetPosition2D(Vector2(node_-\u0026gt;GetPosition2D().x_, tile-\u0026gt;GetPosition2D().y_ + 0.32f - 0.01f));\n        velocity.y_ = 0;\n        return;\n    }\n    if (dir.x_ \u0026lt; 0) {\n        //Tile size + half character width + 0.2\n        node_-\u0026gt;SetPosition2D(Vector2(tile-\u0026gt;GetPosition2D().x_ + 0.64 - 0.2f, node_-\u0026gt;GetPosition2D().y_));\n        //velocity.x_ = 0;\n        return;\n    }\n    if (dir.x_ \u0026gt; 0) {\n        node_-\u0026gt;SetPosition2D(Vector2(tile-\u0026gt;GetPosition2D().x_ - 0.1f, node_-\u0026gt;GetPosition2D().y_));\n        //velocity.x_ = 0;\n        return;\n    }\n}\n\nvoid ResolveCollisions(float timeStep) {\n    AdjustPosition(Vector2(0, 0), timeStep);\n    AdjustPosition(Vector2(0.1, 0.2), timeStep);\n    AdjustPosition(Vector2(0.1, 0.5), timeStep);\n    AdjustPosition(Vector2(-0.1, 0.2), timeStep);\n    AdjustPosition(Vector2(-0.1, 0.5), timeStep);\n}  [/code]\u003c/code\u003e\u003c/pre\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:08:24.800Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":2,"readers_count":1,"score":0.4,"yours":false,"topic_id":1547,"topic_slug":"struggling-to-implement-tile-collisions","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":351,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[8818,8819,8827]},"timeline_lookup":[[1,2547],[3,2546]],"suggested_topics":[{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11？","fancy_title":"Do we give up supporting dx11？","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7222,"title":"Crowdmanager navigation makes an inexplicable turn after reaching the position","fancy_title":"Crowdmanager navigation makes an inexplicable turn after reaching the position","slug":"crowdmanager-navigation-makes-an-inexplicable-turn-after-reaching-the-position","posts_count":9,"reply_count":6,"highest_post_number":9,"image_url":null,"created_at":"2022-03-21T09:44:00.801Z","last_posted_at":"2022-03-23T06:32:14.846Z","bumped":true,"bumped_at":"2022-03-23T06:32:14.846Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":176,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1503,"username":"tianlv777","name":"zerrrrr","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/a4c791/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7074,"title":"First Person and 3rd person camera and water reflections","fancy_title":"First Person and 3rd person camera and water reflections","slug":"first-person-and-3rd-person-camera-and-water-reflections","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-01T18:37:28.669Z","last_posted_at":"2021-12-01T21:19:51.519Z","bumped":true,"bumped_at":"2021-12-01T21:19:51.519Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":158,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":1547,"title":"Struggling to implement tile collisions","fancy_title":"Struggling to implement tile collisions","posts_count":3,"created_at":"2015-12-03T15:23:38.000Z","views":212,"reply_count":0,"like_count":0,"last_posted_at":"2015-12-04T06:04:55.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"struggling-to-implement-tile-collisions","category_id":9,"word_count":420,"deleted_at":null,"user_id":351,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1547","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":351,"username":"Useless","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/ee59a6/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":4}],"created_by":{"id":351,"username":"Useless","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/ee59a6/{size}.png"},"last_poster":{"id":351,"username":"Useless","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/ee59a6/{size}.png"}}}