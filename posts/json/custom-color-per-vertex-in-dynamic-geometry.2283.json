{"post_stream":{"posts":[{"id":13845,"name":"","username":"napard","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/90db22/{size}.png","created_at":"2016-10-02T00:23:55.000Z","cooked":"\u003cp\u003eHi, I‚Äôm quite newbie with the engine, while porting an old code base to Urho3D I often get stuck despite using the examples as a guide, so‚Ä¶\u003c/p\u003e\n\u003cp\u003eI‚Äôd like to know how to specify a custom color per vertex, the DynamicGeometry example has not enough information as there is no color nor texture coordinates specification in vertex data for that example. Until now, I‚Äôve managed to set only vertex and normal data, but adding color information does not work and the model only gets shaded/colored by the ambient light, this is what I have (not the full code):\u003c/p\u003e\n\u003cp\u003e[code]struct VertexData\u003cbr\u003e\n{\u003cbr\u003e\nVertexData(float* pData, size_t pN, Urho3D::Vector3 pPosition) :\u003cbr\u003e\ndata(pData), n(pN), position(pPosition) {}\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efloat* data;\nsize_t n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003estruct IndexData\u003cbr\u003e\n{\u003cbr\u003e\nIndexData(uint16_t* pData, size_t pN) :\u003cbr\u003e\ndata(pData), n(pN) {}\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003euint16_t* data;\nsize_t n;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e};\u003c/p\u003e\n\u003cp\u003estd::vector v;\u003cbr\u003e\nstd::vector i;\u003c/p\u003e\n\u003cp\u003e// Vertex semantics specification.\u003cbr\u003e\nUrho3D::PODVector\u003ca\u003eUrho3D::VertexElement\u003c/a\u003e elements;\u003cbr\u003e\nelements.Push(Urho3D::VertexElement(Urho3D::TYPE_VECTOR3, Urho3D::SEM_POSITION));\u003cbr\u003e\nelements.Push(Urho3D::VertexElement(Urho3D::TYPE_VECTOR3, Urho3D::SEM_NORMAL));\u003cbr\u003e\nelements.Push(Urho3D::VertexElement(Urho3D::TYPE_VECTOR4, Urho3D::SEM_COLOR));\u003c/p\u003e\n\u003cp\u003e// Vertex buffer.\u003cbr\u003e\nUrho3D::SharedPtr\u003ca\u003eUrho3D::VertexBuffer\u003c/a\u003e vb(new Urho3D::VertexBuffer(mContext));\u003c/p\u003e\n\u003cp\u003evb-\u0026gt;SetShadowed(true);\u003cbr\u003e\nvb-\u0026gt;SetSize(static_cast(v.n / 10), elements); // 10 is floats per vertex\u003cbr\u003e\nvb-\u0026gt;SetData(v.data);\u003cbr\u003e\ndelete[] v.data;\u003cbr\u003e\nv.data = nullptr;\u003c/p\u003e\n\u003cp\u003e// Index buffer.\u003cbr\u003e\nUrho3D::SharedPtr\u003ca\u003eUrho3D::IndexBuffer\u003c/a\u003e ib(new Urho3D::IndexBuffer(mContext));\u003c/p\u003e\n\u003cp\u003eib-\u0026gt;SetShadowed(true);\u003cbr\u003e\nib-\u0026gt;SetSize(static_cast((*i).n), false);\u003cbr\u003e\nib-\u0026gt;SetData((*i).data);\u003cbr\u003e\ndelete[] (*i).data;\u003cbr\u003e\n(*i).data = nullptr;[/code]\u003c/p\u003e\n\u003cp\u003eAnd a vertex entry would by:\u003c/p\u003e\n\u003cp\u003e[code]std::vector vertices;\u003c/p\u003e\n\u003cp\u003evertices.push_back(x);\u003cbr\u003e\nvertices.push_back(y);\u003cbr\u003e\nvertices.push_back(z);\u003c/p\u003e\n\u003cp\u003evertices.push_back(0);\u003cbr\u003e\nvertices.push_back(0);\u003cbr\u003e\nvertices.push_back(1);\u003c/p\u003e\n\u003cp\u003evertices.push_back(1.0f); // I‚Äôd like red on this vertex‚Ä¶\u003cbr\u003e\nvertices.push_back(0.0f);\u003cbr\u003e\nvertices.push_back(0.0f);\u003cbr\u003e\nvertices.push_back(1.0f);[/code]\u003c/p\u003e\n\u003cp\u003eThanks in advance!\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:14:29.864Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":146,"reads":19,"readers_count":18,"score":733.8,"yours":false,"topic_id":2283,"topic_slug":"custom-color-per-vertex-in-dynamic-geometry","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":564,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":13851,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2016-10-02T09:03:06.000Z","cooked":"\u003cp\u003eMake sure that you use material with enabled vertex colors.\u003cbr\u003e\nSee DiffVCol* techniques.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:14:30.355Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":7,"reads":18,"readers_count":17,"score":38.6,"yours":false,"topic_id":2283,"topic_slug":"custom-color-per-vertex-in-dynamic-geometry","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":13856,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2016-10-02T15:07:12.000Z","cooked":"\u003cp\u003e\u003ca href=\"https://urho3d.github.io/documentation/1.6/_vertex_buffers.html\"\u003eurho3d.github.io/documentation/ ‚Ä¶ ffers.html\u003c/a\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:14:30.752Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":19,"readers_count":18,"score":13.8,"yours":false,"topic_id":2283,"topic_slug":"custom-color-per-vertex-in-dynamic-geometry","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://urho3d.github.io/documentation/1.6/_vertex_buffers.html","internal":false,"reflection":false,"title":"Urho3D - Documentation - Vertex buffers","clicks":47}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[13845,13851,13856]},"timeline_lookup":[[1,2243]],"suggested_topics":[{"id":7083,"title":"Using custom models in Xamarin.Forms shared project","fancy_title":"Using custom models in Xamarin.Forms shared project","slug":"using-custom-models-in-xamarin-forms-shared-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-03T08:34:21.895Z","last_posted_at":"2021-12-03T11:40:30.983Z","bumped":true,"bumped_at":"2021-12-03T11:40:30.983Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":198,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1493,"username":"Nikolai","name":"Nikolai Miroshnichenko","avatar_template":"/user_avatar/discourse.urho3d.io/nikolai/{size}/3632_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7127,"title":"Switching ribbon trails emission glitches transparent materials","fancy_title":"Switching ribbon trails emission glitches transparent materials","slug":"switching-ribbon-trails-emission-glitches-transparent-materials","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-01-13T17:17:46.847Z","last_posted_at":"2022-02-10T08:10:49.330Z","bumped":true,"bumped_at":"2022-02-10T08:10:49.330Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":323,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1188,"username":"Taqer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7129,"title":"Best Model Import Pipeline as of Jan 2022?","fancy_title":"Best Model Import Pipeline as of Jan 2022?","slug":"best-model-import-pipeline-as-of-jan-2022","posts_count":7,"reply_count":0,"highest_post_number":7,"image_url":null,"created_at":"2022-01-17T09:27:23.432Z","last_posted_at":"2022-01-17T20:37:59.458Z","bumped":true,"bumped_at":"2022-01-17T20:37:59.458Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":170,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}}]},{"id":7185,"title":"Update Ray ray direction","fancy_title":"Update Ray ray direction","slug":"update-ray-ray-direction","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-02-05T00:28:45.414Z","last_posted_at":"2022-02-05T20:19:51.238Z","bumped":true,"bumped_at":"2022-02-05T20:19:51.238Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":2283,"title":"Custom color per vertex in dynamic geometry","fancy_title":"Custom color per vertex in dynamic geometry","posts_count":3,"created_at":"2016-10-02T00:23:55.000Z","views":577,"reply_count":0,"like_count":0,"last_posted_at":"2016-10-02T15:07:12.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"custom-color-per-vertex-in-dynamic-geometry","category_id":10,"word_count":333,"deleted_at":null,"user_id":564,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2283","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":4},{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":564,"username":"napard","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/90db22/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":564,"username":"napard","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/90db22/{size}.png"},"last_poster":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"},"links":[{"url":"https://urho3d.github.io/documentation/1.6/_vertex_buffers.html","title":"Urho3D - Documentation - Vertex buffers","internal":false,"attachment":false,"reflection":false,"clicks":47,"user_id":263,"domain":"urho3d.github.io","root_domain":"urho3d.github.io"}]}}