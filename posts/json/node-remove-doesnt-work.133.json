{"post_stream":{"posts":[{"id":685,"name":"","username":"GIMB4L","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/ba8739/{size}.png","created_at":"2014-03-11T07:24:48.000Z","cooked":"\u003cp\u003eI’ve taken a look at the documentation, and I’ve noticed that since the automatic garbage collection has been turned off, it is our responsibility to manage the references on objects. However, I see no option in the scripting language to facilitate this. How does one manage the references of an object?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T00:58:17.543Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":174,"reads":26,"readers_count":25,"score":875.2,"yours":false,"topic_id":133,"topic_slug":"node-remove-doesnt-work","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":26,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":686,"name":"","username":"aster2013","avatar_template":"/user_avatar/discourse.urho3d.io/aster2013/{size}/828_2.png","created_at":"2014-03-11T07:36:05.000Z","cooked":"\u003cp\u003eWhat script you used? AngelScript or Lua?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T00:58:17.591Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":26,"readers_count":25,"score":15.2,"yours":false,"topic_id":133,"topic_slug":"node-remove-doesnt-work","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":11,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":688,"name":"","username":"GIMB4L","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/ba8739/{size}.png","created_at":"2014-03-11T07:44:29.000Z","cooked":"\u003cp\u003eI’m in AngelScript. I should say that the node I’m trying to delete has a ScriptObject attached, which is where I’m doing the delete from.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T00:58:17.720Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":25,"readers_count":24,"score":15.0,"yours":false,"topic_id":133,"topic_slug":"node-remove-doesnt-work","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":26,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":691,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2014-03-11T09:24:29.000Z","cooked":"\u003cp\u003eCheck the scripts in NinjaSnowWar game, they successfully delete their owning nodes from the scene. For example \u003ca href=\"http://GameObject.as\"\u003eGameObject.as\u003c/a\u003e, which implements a lifetime counter:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e    void FixedUpdate(float timeStep)\n    {\n        // Disappear when duration expired\n        if (duration \u0026gt;= 0)\n        {\n            duration -= timeStep;\n            if (duration \u0026lt;= 0)\n                node.Remove();\n        }\n    }\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eManaging references means just that you’re responsible for setting all long-living (not local in a function) handle variables that point to your node to null, because they’re “strong refs” and keep the node alive. For example holding a handle to your cameraNode would prevent it from being destroyed, even if it’s removed from the scene. You can use the WeakHandle type to avoid that effect, which holds a weak ref instead and returns automatically null when the object has been destroyed. A WeakHandle returns a normal AngelScript handle by calling Get() on it.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T00:58:17.921Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":26,"readers_count":25,"score":10.2,"yours":false,"topic_id":133,"topic_slug":"node-remove-doesnt-work","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://GameObject.as","internal":false,"reflection":false,"clicks":5}],"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":707,"name":"","username":"GIMB4L","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/ba8739/{size}.png","created_at":"2014-03-11T18:29:48.000Z","cooked":"\u003cp\u003eAlright, makes sense. Thanks!\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T00:58:19.078Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":24,"readers_count":23,"score":4.8,"yours":false,"topic_id":133,"topic_slug":"node-remove-doesnt-work","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":26,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":709,"name":"","username":"GIMB4L","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/ba8739/{size}.png","created_at":"2014-03-11T22:10:40.000Z","cooked":"\u003cp\u003eI’m still having issues deleting the node. Let me go into more detail.\u003c/p\u003e\n\u003cp\u003eSo we fire a missile from a jet. The missile tracks another jet, and upon making contact will explode with a particle effect, and be deleted.\u003c/p\u003e\n\u003cp\u003eThe missile initialization code is like so:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid FireMissile(Node@ targetNode = null)\n{\n\tNode@ missileNode = LoadGameObject(\"Missile\", node.scene, cameraNode.worldPosition, node.worldRotation);\n\t\t\n\tMissile@ newMissile = cast\u0026lt;Missile\u0026gt;(missileNode.scriptObject);\n\t\t\n\tnewMissile.Init(missileNode, targetNode, true);\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, with my new knowledge of references, I tried this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid FireMissile(Node@ targetNode = null)\n{\n\tWeakHandle missileNode = LoadGameObject(\"Missile\", node.scene, cameraNode.worldPosition, node.worldRotation);\n\t\t\n\tMissile@ newMissile = cast\u0026lt;Missile\u0026gt;(cast\u0026lt;Node\u0026gt;(missileNode.Get()).scriptObject);\n\t\t\n\tnewMissile.Init(cast\u0026lt;Node\u0026gt;(missileNode.Get()).scriptObject, targetNode, true);\n\n\t@newMissile = null;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThat also doesn’t work. When I go to call the Node.Remove() inside the Missile class, the node remains.\u003c/p\u003e\n\u003cp\u003eAny help with this?\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T00:58:19.206Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":8,"reads":23,"readers_count":22,"score":44.6,"yours":false,"topic_id":133,"topic_slug":"node-remove-doesnt-work","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":26,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":710,"name":"","username":"friesencr","avatar_template":"/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png","created_at":"2014-03-11T23:28:05.000Z","cooked":"\u003cp\u003eYou wouldnt use a weakhandle inside a method generally.  As soon as the variable goes out of scope the reference is subtracted.  If you have a class that holds onto a Node that would be a good canidate for a weakhandle since that variables scope is lived to the object’s duration.  The code you are showing looks like it wouldn’t add a reference it must be from somewhere else.  What does the Init method do?  I hate to give any advice on this matter as I am fighting this stuff myself.  Like i mentioned in another post, I hope to one day look back and think this memory stuff a bad dream.\u003c/p\u003e\n\u003cp\u003eQuestion:\u003cbr\u003e\nDoes calling Remove defer the removal until the counter reaches 0 or will it skip over the command and need to be issued again?\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T00:58:19.276Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":19,"readers_count":18,"score":13.8,"yours":false,"topic_id":133,"topic_slug":"node-remove-doesnt-work","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":15,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[685,686,688,691,707,709,710]},"timeline_lookup":[[1,3179],[5,3178]],"suggested_topics":[{"id":7086,"title":"Handling CrowdAgents that get stuck","fancy_title":"Handling CrowdAgents that get stuck","slug":"handling-crowdagents-that-get-stuck","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-04T01:26:23.062Z","last_posted_at":"2021-12-05T04:37:54.143Z","bumped":true,"bumped_at":"2021-12-05T04:37:54.143Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7083,"title":"Using custom models in Xamarin.Forms shared project","fancy_title":"Using custom models in Xamarin.Forms shared project","slug":"using-custom-models-in-xamarin-forms-shared-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-03T08:34:21.895Z","last_posted_at":"2021-12-03T11:40:30.983Z","bumped":true,"bumped_at":"2021-12-03T11:40:30.983Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":198,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1493,"username":"Nikolai","name":"Nikolai Miroshnichenko","avatar_template":"/user_avatar/discourse.urho3d.io/nikolai/{size}/3632_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7123,"title":"Character hitboxes","fancy_title":"Character hitboxes","slug":"character-hitboxes","posts_count":24,"reply_count":16,"highest_post_number":24,"image_url":null,"created_at":"2022-01-10T19:34:24.617Z","last_posted_at":"2022-01-12T22:44:20.744Z","bumped":true,"bumped_at":"2022-01-12T22:44:20.744Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}}]},{"id":7146,"title":"How create affordable comfortable and modern terrain?","fancy_title":"How create affordable comfortable and modern terrain?","slug":"how-create-affordable-comfortable-and-modern-terrain","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-01-21T15:20:08.910Z","last_posted_at":"2022-01-21T21:51:58.799Z","bumped":true,"bumped_at":"2022-01-21T22:03:14.896Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7156,"title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","fancy_title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","slug":"manual-mesh-part-animation-e-g-rotate-a-propeller","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-26T23:50:29.343Z","last_posted_at":"2022-01-27T05:31:02.766Z","bumped":true,"bumped_at":"2022-01-27T05:31:02.766Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":155,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]}],"tags_descriptions":{},"id":133,"title":"Node.Remove() Doesn't Work","fancy_title":"Node.Remove() Doesn\u0026rsquo;t Work","posts_count":7,"created_at":"2014-03-11T07:24:48.000Z","views":752,"reply_count":0,"like_count":0,"last_posted_at":"2014-03-11T23:28:05.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"node-remove-doesnt-work","category_id":10,"word_count":518,"deleted_at":null,"user_id":26,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_133","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":7,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":26,"username":"GIMB4L","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/ba8739/{size}.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":11,"username":"aster2013","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/aster2013/{size}/828_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":15,"username":"friesencr","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":26,"username":"GIMB4L","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/ba8739/{size}.png"},"last_poster":{"id":15,"username":"friesencr","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png"},"links":[{"url":"http://GameObject.as","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":3,"domain":"GameObject.as","root_domain":"GameObject.as"}]}}