{"post_stream":{"posts":[{"id":15587,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2017-01-08T01:53:18.755Z","cooked":"\u003cp\u003eSo I am learning to write shaders in general and also learning the Urho3D way of doing them.\u003c/p\u003e\n\u003cp\u003eLooking at the shaders that Urho3D already has implemented helps a bit.  So I looked at TexturedUnlit.xml and Unlit.glsl and saw that it uses multiple passes in the fragment shader.\u003c/p\u003e\n\u003cp\u003eDuring the passes where it is not writing to gl_FragColor it is writing to gl_FragData at a few set positions in the array.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e    #if defined(PREPASS)\n        // Fill light pre-pass G-Buffer\n        gl_FragData[0] = vec4(0.5, 0.5, 0.5, 1.0);\n        gl_FragData[1] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n    #elif defined(DEFERRED)\n        gl_FragData[0] = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n        gl_FragData[1] = vec4(0.0, 0.0, 0.0, 0.0);\n        gl_FragData[2] = vec4(0.5, 0.5, 0.5, 1.0);\n        gl_FragData[3] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n    #else\n        gl_FragColor = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n    #endif\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSo my question is what is gl_FragData being used for?  If I take out the other passes the shader seems to work just fine.  It does not seem to be read in later passes so I guess it is probably sending data back to urho3d for some purpose.  But I am just not sure.  Any help would be appreciated.  Thanks!\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-03-18T02:12:41.618Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1517,"reads":33,"readers_count":32,"score":7581.6,"yours":false,"topic_id":2685,"topic_slug":"what-is-gl-fragdata-being-used-for","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":15593,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-01-08T08:44:49.976Z","cooked":"\u003cp\u003eThis is a question about GLSL, not Urho3D.\u003c/p\u003e\n\u003cp\u003eFragData is an array counterpart of FragColor. Outside both FragData and FragColor just fill corresponding pixels of corresponding render targets.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-03-18T02:12:16.869Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":6,"reads":32,"readers_count":31,"score":36.4,"yours":false,"topic_id":2685,"topic_slug":"what-is-gl-fragdata-being-used-for","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":15594,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2017-01-08T09:01:58.470Z","cooked":"\u003cp\u003eAlright.  What is the shader doing in the other passes?\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-08T09:01:58.470Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":5,"reads":31,"readers_count":30,"score":36.2,"yours":false,"topic_id":2685,"topic_slug":"what-is-gl-fragdata-being-used-for","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":15595,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2017-01-08T10:07:31.108Z","cooked":"\u003cp\u003eIt is “Multiple render Targets”.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e    #if defined(PREPASS)\n        // Fill light pre-pass G-Buffer\n        gl_FragData[0] = vec4(0.5, 0.5, 0.5, 1.0);\n        gl_FragData[1] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003efilled two textures that used in CoreData\\RenderPaths\\Prepass*.xml\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e    \u0026lt;command type=\"scenepass\" pass=\"prepass\" marktostencil=\"true\" metadata=\"gbuffer\"\u0026gt;\n        \u0026lt;output index=\"0\" name=\"normal\" /\u0026gt;\n        \u0026lt;output index=\"1\" name=\"depth\" /\u0026gt;\n    \u0026lt;/command\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e#elif defined(DEFERRED)\n        gl_FragData[0] = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n        gl_FragData[1] = vec4(0.0, 0.0, 0.0, 0.0);\n        gl_FragData[2] = vec4(0.5, 0.5, 0.5, 1.0);\n        gl_FragData[3] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n    #else\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003efilled 4 textures for  CoreData\\RenderPaths\\Deferred*.xml\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e    \u0026lt;command type=\"scenepass\" pass=\"deferred\" marktostencil=\"true\" vertexlights=\"true\" metadata=\"gbuffer\"\u0026gt;\n        \u0026lt;output index=\"0\" name=\"viewport\" /\u0026gt;\n        \u0026lt;output index=\"1\" name=\"albedo\" /\u0026gt;\n        \u0026lt;output index=\"2\" name=\"normal\" /\u0026gt;\n        \u0026lt;output index=\"3\" name=\"depth\" /\u0026gt;\n    \u0026lt;/command\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDefualt used Forward.xml and this code just ignored. You can delete this \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-08T10:07:31.108Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":10,"reads":32,"readers_count":31,"score":86.4,"yours":false,"topic_id":2685,"topic_slug":"what-is-gl-fragdata-being-used-for","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":15596,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2017-01-08T10:13:32.025Z","cooked":"\u003caside class=\"quote\" data-post=\"3\" data-topic=\"2685\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/googlebot42/40/62_1.png\" class=\"avatar\"\u003e GoogleBot42:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAlright.  What is the shader doing in the other passes?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eUrho3D used combination of defines for every passe for turn on and turn off fragments of code (Ubershader approach). So this code not exists for another passes except “prepass” and “deferred”\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-03-18T02:12:16.826Z","reply_count":0,"reply_to_post_number":3,"quote_count":1,"incoming_link_count":0,"reads":31,"readers_count":30,"score":6.2,"yours":false,"topic_id":2685,"topic_slug":"what-is-gl-fragdata-being-used-for","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"GoogleBot42","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":15609,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2017-01-08T19:40:53.399Z","cooked":"\u003cp\u003eHuh, that is pretty cool!  Thanks 1vanK!  I will start to play with render paths a bit.  Fortunately, there is a page in the documentation on them.  I didn’t even know about them before.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-08T19:41:27.989Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":29,"readers_count":28,"score":15.8,"yours":false,"topic_id":2685,"topic_slug":"what-is-gl-fragdata-being-used-for","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[15587,15593,15594,15595,15596,15609]},"timeline_lookup":[[1,2145],[6,2144]],"suggested_topics":[{"id":7104,"title":"Bug in my partial-model copying code","fancy_title":"Bug in my partial-model copying code","slug":"bug-in-my-partial-model-copying-code","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5367e370779d64989e5c3ff2c1ebfb0689908c87.png","created_at":"2021-12-17T03:50:19.405Z","last_posted_at":"2021-12-17T13:50:49.662Z","bumped":true,"bumped_at":"2021-12-17T13:50:49.662Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7086,"title":"Handling CrowdAgents that get stuck","fancy_title":"Handling CrowdAgents that get stuck","slug":"handling-crowdagents-that-get-stuck","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-04T01:26:23.062Z","last_posted_at":"2021-12-05T04:37:54.143Z","bumped":true,"bumped_at":"2021-12-05T04:37:54.143Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7200,"title":"Urho3D just building if I check \"use SHARED libraries\"","fancy_title":"Urho3D just building if I check \u0026ldquo;use SHARED libraries\u0026rdquo;","slug":"urho3d-just-building-if-i-check-use-shared-libraries","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-02-22T20:02:48.835Z","last_posted_at":"2022-02-23T15:38:33.698Z","bumped":true,"bumped_at":"2022-02-23T15:54:07.879Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":165,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7260,"title":"Is urho3d supported on Windows 8 and below?","fancy_title":"Is urho3d supported on Windows 8 and below?","slug":"is-urho3d-supported-on-windows-8-and-below","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-05-11T12:24:39.422Z","last_posted_at":"2022-05-11T12:50:41.468Z","bumped":true,"bumped_at":"2022-05-11T12:50:41.468Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":5,"views":103,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1519,"username":"Integar","name":"Torque189","avatar_template":"/user_avatar/discourse.urho3d.io/integar/{size}/3795_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":2685,"title":"What is gl_FragData being used for?","fancy_title":"What is gl_FragData being used for?","posts_count":6,"created_at":"2017-01-08T01:53:18.700Z","views":2725,"reply_count":1,"like_count":3,"last_posted_at":"2017-01-08T19:40:53.399Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"what-is-gl-fragdata-being-used-for","category_id":10,"word_count":498,"deleted_at":null,"user_id":197,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2685","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":2,"username":"Eugene","excerpt":"This is a question about GLSL, not Urho3D. \nFragData is an array counterpart of FragColor. Outside both FragData and FragColor just fill corresponding pixels of corresponding render targets."},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":197,"username":"GoogleBot42","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":4},{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":197,"username":"GoogleBot42","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png"},"last_poster":{"id":197,"username":"GoogleBot42","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png"}}}