{"post_stream": {"posts": [{"id": 8414, "name": "", "username": "JamesK89", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png", "created_at": "2015-11-02T23:41:38.000Z", "cooked": "<p>The character demo is nice and all but as most of us may know dynamic force based character controllers are highly unpredictable and don\u2019t feel natural unless that is what you are going for.</p>\n<p>That being said I\u2019m just wondering if anyone has come up with a kinematic character controller that uses custom movement and collision logic for that traditional FPS feel and control (? la Quake, Half-Life, Unreal, etc\u2026)?</p>\n<p>I\u2019ve been tinkering with Urho3D seeing if I can come up with something using ConvexCast but I am inexperienced with the library thus far so if someone has already written something and wants to share I\u2019d appreciate it.</p>", "post_number": 1, "post_type": 1, "updated_at": "2017-01-02T01:07:55.536Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1121, "reads": 81, "readers_count": 80, "score": 5621.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 201, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8423, "name": "", "username": "Enhex", "avatar_template": "/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png", "created_at": "2015-11-03T14:31:35.000Z", "cooked": "<p>[quote=\u201cJamesK89\u201d]The character demo is nice and all but as most of us may know dynamic force based character controllers are highly unpredictable and don\u2019t feel natural unless that is what you are going for.</p>\n<p>That being said I\u2019m just wondering if anyone has come up with a kinematic character controller that uses custom movement and collision logic for that traditional FPS feel and control (? la Quake, Half-Life, Unreal, etc\u2026)?</p>\n<p>I\u2019ve been tinkering with Urho3D seeing if I can come up with something using ConvexCast but I am inexperienced with the library thus far so if someone has already written something and wants to share I\u2019d appreciate it.[/quote]</p>\n<p>The problem with dynamic controllers is that you can\u2019t implement advanced features for them like stair stepping.<br>\nOther than that you can make them control and move just like quake/hl ones. (I did myself)</p>\n<p>I\u2019m working on a hybrid controller now - rigid body with kinematic movement to let the physics engine handle pushing and getting pushed by stuff.<br>\nStair stepping is difficult to implement in Bullet Physics because Bullet relies on collision margins(tons of features break without it, including sweeps &amp; raycasts), and they make everything round.<br>\nSo combining features like auto stair stepping with maximum walkable ground slope angle creates a problem: if you step on a rounded corner (which all stairs will be) you\u2019ll get a steep slope and the traditional quake-style stepping doesn\u2019t handle such a thing, so you\u2019ll bump into the stair and perhaps some other undesired behaviors.</p>\n<p>I\u2019m almost done solving all the problems with my controller, so it should be possible to handle the roundness from the collision margins.</p>\n<p>Other than that the quake games and doom 3 are open source on github and u can try to see what they do.<br>\nValve\u2019s Source SDK is also open source on Github.</p>\n<p>Oh an last time I checked the bullet kinematic char controller demo wasn\u2019t good and it had flawed manual recovery from penetration algorithm.<br>\nI made a post asking for a better method on the Bullet forums and got a good answer: <a href=\"http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&amp;t=10843\" rel=\"nofollow noopener\">bulletphysics.org/Bullet/php \u2026 =9&amp;t=10843</a></p>", "post_number": 2, "post_type": 1, "updated_at": "2017-01-02T01:07:56.167Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 24, "reads": 80, "readers_count": 79, "score": 136.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=10843", "internal": false, "reflection": false, "title": "Real-Time Physics Simulation Forum \u2022 View topic - Manual recovery from penetration problem", "clicks": 64}, {"url": "https://discourse.urho3d.io/t/a-more-advanced-character-controller/5052/2", "internal": true, "reflection": true, "title": "A more advanced character controller", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 184, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8429, "name": "", "username": "JamesK89", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png", "created_at": "2015-11-03T18:41:43.000Z", "cooked": "<p>It\u2019s been while since I looked at the SDK code but if I\u2019m not mistaken Valve\u2019s character controller in Half-Life basically does manual collision detection against the world with a kinematic body attached for interaction with dynamic objects. I\u2019m thinking it may be the only way to get the best of both worlds if Bullet is that terrible at this.</p>", "post_number": 3, "post_type": 1, "updated_at": "2017-01-02T01:07:56.575Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 3, "reads": 75, "readers_count": 74, "score": 30.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 201, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8430, "name": "", "username": "Enhex", "avatar_template": "/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png", "created_at": "2015-11-03T18:53:18.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/jamesk89/40/1073_1.png\" class=\"avatar\"> JamesK89:</div>\n<blockquote>\n<p>It\u2019s been while since I looked at the SDK code but if I\u2019m not mistaken Valve\u2019s character controller in Half-Life basically does manual collision detection against the world with a kinematic body attached for interaction with dynamic objects. I\u2019m thinking it may be the only way to get the best of both worlds if Bullet is that terrible at this.</p>\n</blockquote>\n</aside>\n<p>Not sure what you mean by \u201cat this\u201d but using a kinematic body won\u2019t change any of the problems I mentioned.<br>\nThe kinematic control can be the same with no problem, and so is interaction with dynamic objects. The problem is that everything is round.<br>\nIn case you don\u2019t know what collision margins are or how they behave, you have to watch this video because it\u2019s very important for working with Bullet:<br>\n<div class=\"lazyYT\" data-youtube-id=\"BGAwRKPlpCw\" data-youtube-title=\"Bullet Physics Collision Margins and Shapes\" data-width=\"480\" data-height=\"270\" data-parameters=\"feature=oembed&amp;wmode=opaque\"></div></p>", "post_number": 4, "post_type": 1, "updated_at": "2017-05-31T17:53:15.581Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 14, "reads": 73, "readers_count": 72, "score": 84.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://www.youtube.com/watch?v=BGAwRKPlpCw", "internal": false, "reflection": false, "clicks": 3}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 184, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8432, "name": "", "username": "JamesK89", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png", "created_at": "2015-11-03T20:54:46.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/enhex/40/81_1.png\" class=\"avatar\"> Enhex:</div>\n<blockquote>\n<p>using a kinematic body won\u2019t change any of the problems I mentioned.</p>\n</blockquote>\n</aside>\n<p>What I meant was doing the majority of collision detections yourself <span class=\"bbcode-i\">outside</span> of Bullet but using either a kinematic body that shadows your player object to interact with dynamic objects or otherwise applying forces upon collision with dynamic objects yourself.</p>\n<p>As much work as it is that seems to be the best way to get the best of both worlds and it seems to be what Valve has done.<br>\nOf course every project has its own requirements so I imagine such an approach would be overblown in some cases.</p>", "post_number": 5, "post_type": 1, "updated_at": "2017-01-02T01:07:56.771Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 3, "reads": 76, "readers_count": 75, "score": 30.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 201, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8435, "name": "", "username": "Dave82", "avatar_template": "/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png", "created_at": "2015-11-03T23:41:01.000Z", "cooked": "<p>[quote=\u201cJamesK89\u201d]The character demo is nice and all but as most of us may know dynamic force based character controllers are highly unpredictable and don\u2019t feel natural unless that is what you are going for.</p>\n<p>That being said I\u2019m just wondering if anyone has come up with a kinematic character controller that uses custom movement and collision logic for that traditional FPS feel and control (? la Quake, Half-Life, Unreal, etc\u2026)?</p>\n<p>I\u2019ve been tinkering with Urho3D seeing if I can come up with something using ConvexCast but I am inexperienced with the library thus far so if someone has already written something and wants to share I\u2019d appreciate it.[/quote]</p>\n<p>Hi James ! I saw your private message so i decided to write here so other might find it useful too.</p>\n<p>Kinematic Controller : It\u2019s a bad idea , since the interaction withe the physics world won\u2019t work properly and you will need workarounds which is a bad thing i think.<br>\nConvexCast : Thats a bad idea either beacuse this way the character controller tries to solve collision detection externally , and you will need hell of a lot work to get things working (manual force calculations , contact manual manifold sorting etc) and still you will have problems.</p>\n<p>Here\u2019s how i did it in Infested :</p>\n<p>I modified Urho\u2019s existing character controller :</p>\n<ol>\n<li>Set Friction to 0.0f ! This will disable the ice-skate simulator <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\">\n</li>\n</ol>\n<pre><code class=\"lang-auto\"></code></pre>\n<p>2.You need to modify the MOVE_FORCE , JUMP_FORCE etc variables to your game world and character size (this will take some time to have good results and sync the movement with walk and run animations)</p>\n<p>3.The meat and potato.I rewrote the onGround_ check. Urho uses simple intersection test (handled in HandleNodeCollision) i handle it in FixedUpdate like this :</p>\n<p>[code]void INFCharacterController::FixedUpdate(float timeStep)<br>\n{</p>\n<pre><code>  // Reset grounded and falling flag for next frame\n  onGround_ = false;\n  falling = false;\n \n  Vector3 planeVelocity(velocity.x_, 0.0f, velocity.z_);\n  Vector3 brakeForce = -planeVelocity * BRAKE_FORCE;\n\n  if (controls_.IsDown(CTRL_FORWARD)) moveDir -= Vector3::FORWARD;\n  if (controls_.IsDown(CTRL_BACK)) moveDir -= Vector3::BACK * 2.0f;\n  if (controls_.IsDown(CTRL_LEFT)) moveDir -= Vector3::LEFT;\n  if (controls_.IsDown(CTRL_RIGHT)) moveDir -= Vector3::RIGHT;\n\n  // Normalize move vector so that diagonal strafing is not faster\n  if (moveDir.LengthSquared() &gt; 0.0f) moveDir.Normalize();\n\n  Urho3D::Vector3 inairMoveForce = rot * moveDir * INAIR_MOVE_FORCE;  // if the player jumps or falling this extra force is applied to allow slight movement\n  \n  // Temporarily set collision flag to 0 to avoid self collisiojn check\n  unsigned int flag = body-&gt;GetCollisionMask();\n  body-&gt;SetCollisionMask(0);\n\n // raycast from the center of the player downwards and see if we hit something in certain distance\n Urho3D::PhysicsRaycastResult prr;\n\n pw-&gt;SphereCast(prr,Urho3D::Ray(characterCenter , Urho3D::Vector3(0,-1,0)),radius , 1000.0f); \n \n if (prr.distance_ &lt;= distTreshold)\n {\n      // this means we are hitting the floor now set the onGround and fall flag to \n      onGround_ = true;\n      falling = false;\n   \n      inairMoveForce = Urho3D::Vector3::ZERO; // if we are moving no inair force\n      if (!jumping) moveForce = rot * moveDir * (controls_.IsDown(CTRL_BACK) ? MOVE_FORCE * 0.5f : MOVE_FORCE); // Moving slower backwards...\n\n}\n</code></pre>\n<p>else<br>\n{<br>\nonGround_ = false;<br>\nfalling = true;<br>\n}</p>\n<p>// Reset collision flag back :<br>\nbody-&gt;SetCollisionMask(flag);</p>\n<p>// This is part of the jump code : If we are in jump mode we start counting and reset our \u201cjumping\u201d flag to false only if some time passed and linear velocity is smaller thatn 0 (e.g the character is falling !)<br>\nif (jumping)<br>\n{<br>\njumpTimer += timeStep;<br>\nif (jumpTimer &gt;= 0.5f &amp;&amp; body-&gt;GetLinearVelocity().y_ &lt;= 0.0f)<br>\n{<br>\njumping = false;<br>\njumpTimer = 0.0f;<br>\n}<br>\n}<br>\n// and finally apply the necessary forces calculated this frame : (the scaleForce is a normalized value and is used to slow down or speed up the player.<br>\n// For an example : if the player walks in water the scaleForce changes. The deeper that water is the smaller the scaleForce value is\u2026</p>\n<pre><code> body-&gt;ApplyImpulse(moveForce * scaleForce);   // The general move force\n body-&gt;ApplyImpulse(inairMoveForce); // Move force applied if the player is jumping (its 0 if not jumping)\n body-&gt;ApplyImpulse(brakeForce);  // and apply some brake force to avoid the character to accelerate to infinity.\n</code></pre>\n<p>}[/code]</p>\n<p>So in nuthshell : Check wether the player stands or floor or not by doing a raycast from the center of the player downwards.If yes simply apply move force if not , apply inair move force.<br>\nWhen doing SphereCast you have 3 variables to set up properly the : characterCenter (the center of your shape) the radius and distTreshold.<br>\n1 the center of the character is given in world space. (bodyWorldPos.y_ += characterHeight / 2);<br>\n2 . radius is a bit smaller than your capsule\u2019s radius (eg if capsule radius is 10 then radius is 9 or 8)<br>\n3. distTreshold is the distance that shows what is smallest distance where the player is considered to standing on floor.This is usually a bit bigger number than your capsule\u2019s half height.<br>\nif the half height of your character is 15 this value should be 18 (you can calculate it simply distTreshold = capsuleHalgHeight * 1.2f);</p>\n<ol start=\"4\">\n<li>jumping : Is done simply by checking if the player already jumping ? if not apply jumpForce , or do nothing</li>\n</ol>\n<p><code>void INFCharacterController::jump()\n{\n    if (!jumping &amp;&amp; onGround_)\n    {\n\tjumping = true;\n\tRigidBody* body = GetComponent&lt;RigidBody&gt;();\n\tfloat n = -(body-&gt;GetLinearVelocity().y_ * 0.5f);\n\tbody-&gt;ApplyImpulse(Vector3::UP * (jumpForce + n));\n    }\n}</code></p>\n<p>Also there is a bit of trick that should be mentioned : you have to take into account the current linear velocity when apply jumping , because the jump height while going downhill or uphill will be different due to physisc engine (To achieve the same jump height bigger force is needed when the character is going downwards and smaller if going upwards. Use the current linear velocity to calculate te required force).</p>\n<p>PS : There\u2019s a lot of variables you have to tweak to have good result the forces , timers , dimensions , mass , etc. But i suggest to have one unique scalar variable that can change everything.<br>\ncalculate everything for characterScale = 1.0f; if your set thin value to 2.0f everything will  be recalculated (forces masses sizes etc).So you don\u2019t need additional code to handle different size enemies/players.</p>\n<p>Stairs and slopes\u2026 the Phiscs Engines\u2019 worst enemies <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"> So instead of writing some code to handle these situations i suggest to use some hidden helper meshes as i did<br>\nWrong Geometry : you have to plan your levels wisely ! No matter how professional  your character controller is , if the level geometry is wrong it will stuck in walls , narrow streets , invalid polygons etc.</p>\n<p>Don\u2019t hesitate to ask if you need further help<br>\nRegards</p>", "post_number": 6, "post_type": 1, "updated_at": "2017-01-02T01:07:56.956Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 21, "reads": 73, "readers_count": 72, "score": 119.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 247, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8441, "name": "", "username": "Enhex", "avatar_template": "/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png", "created_at": "2015-11-04T06:21:18.000Z", "cooked": "<p>[quote=\u201cJamesK89\u201d]<br>\nWhat I meant was doing the majority of collision detections yourself <span class=\"bbcode-i\">outside</span> of Bullet but using either a kinematic body that shadows your player object to interact with dynamic objects or otherwise applying forces upon collision with dynamic objects yourself.[/quote]</p>\n<p>I know, and I\u2019m telling you it won\u2019t change anything because you\u2019ll still be colliding with collision margins, unless you plan to write your own physics engine.</p>\n<aside class=\"quote no-group\" data-username=\"Dave82\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/dave82/40/2369_2.png\" class=\"avatar\"> Dave82:</div>\n<blockquote>\n<p>Kinematic Controller : It\u2019s a bad idea , since the interaction withe the physics world won\u2019t work properly and you will need workarounds which is a bad thing i think.<br>\nConvexCast : Thats a bad idea either beacuse this way the character controller tries to solve collision detection externally , and you will need hell of a lot work to get things working (manual force calculations , contact manual manifold sorting etc) and still you will have problems.</p>\n</blockquote>\n</aside>\n<p>That\u2019s bad advice. JamesK89 mentioned he wants something like quake-based controllers and those have auto stair stepping.<br>\nJust moving around a rigid body is trivial, but to implement something that can step over stairs is impossible using a rigid body because:<br>\n<img src=\"http://i.imgur.com/Ja8IoDL.png\" alt=\"\" width=\"640\" height=\"400\"><br>\nNote that Bullet can\u2019t add time on individual bodies so you can\u2019t split up the movement.<br>\nThe only way to achieve that is with sweeps (AKA convextCasts in urho).<br>\nThe common \u201cworkaround\u201d is using capsule shapes, but you\u2019ll still have a bump that will kill the player\u2019s velocity, it\u2019s far inferior solution.</p>\n<p>Note that an alternative path is to make sure you don\u2019t have stairs in your game, usually by using ramps - either visible, or invisible over stairs.<br>\nWith this limitation a simple character controller will be enough.</p>", "post_number": 7, "post_type": 1, "updated_at": "2017-01-02T01:07:57.438Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 9, "reads": 63, "readers_count": 62, "score": 57.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 184, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8457, "name": "", "username": "Zaroio", "avatar_template": "/user_avatar/discourse.urho3d.io/zaroio/{size}/1839_2.png", "created_at": "2015-11-04T14:08:42.000Z", "cooked": "<p>To cimb a stair user a Kinematic Body and and a leg (raycast downward). Use a Kinematic Body, it will give you more controll</p>\n<p><img src=\"http://s2.postimg.org/cfwiq8fdl/lol.png\" alt=\"\" width=\"\" height=\"\"></p>", "post_number": 8, "post_type": 1, "updated_at": "2017-01-02T01:07:58.511Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 59, "readers_count": 58, "score": 11.8, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 143, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8458, "name": "", "username": "Dave82", "avatar_template": "/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png", "created_at": "2015-11-04T14:48:56.000Z", "cooked": "<aside class=\"quote\">\n<blockquote>\n<p>That\u2019s bad advice. JamesK89 mentioned he wants something like quake-based controllers and those have auto stair stepping.</p>\n</blockquote>\n</aside>\n<p>As i mentioned i used invisible helper meshes in my game for stairs.I found this approach a lot easier than adding extra calculations which need lots of testing and tweaking. But adding some extra polys in a level editor is a lot faster and easier.You can even add invisible walls to forbid movement on a steep terrain etc Rigid bodies give far the best result as character controller.</p>\n<ol>\n<li>A lot easier to implement (i wrote my own 3d and 2d collsion detection and response library including quad/octrees , swept volumes (rectangle , circle/box sphere) and sliding vector calculation for practicing and learning purposes and it was a pain in the ass , and still missed some features and had some <a href=\"http://issues.It\" rel=\"nofollow noopener\">issues.It</a> was really great and most of my linear algebra knowledge comes from these books and practicing , but i rather stick with a out of a box solution if a want to write a game)</li>\n<li>Automatic interaction with dynamic world (Using kinematic controllers you need extra steps to push crates or be pushed by elevators etc)</li>\n<li>Utomatic  velocity calculation (with kinematic controllers you need extra step for that , e.g : character jumps and hit the ceiling with his head , bullet will automatically calculate the necessary \u201creversed\u201d velocity)</li>\n</ol>\n<p>It\u2019s up to James what he trying to do.If he want to learn how collision detection and response and character controllers work , then he can use kinematic bodies or convex cast , but if his plans are to write a game i would stick with built in features. (personal opinion)</p>\n<p>I implemented a rigid body character controller in my game and i say you can have a decent (almost kinematic) character controller. I tried both kinematic bodies and swept test , and found both to be lot harder to implement and always had the stucking in walls problem</p>", "post_number": 9, "post_type": 1, "updated_at": "2017-01-02T01:07:58.580Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 6, "reads": 59, "readers_count": 58, "score": 41.8, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://issues.It", "internal": false, "reflection": false, "title": "speeds.it", "clicks": 1}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 247, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8459, "name": "", "username": "Enhex", "avatar_template": "/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png", "created_at": "2015-11-04T15:51:07.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Zaroio\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/zaroio/40/1839_2.png\" class=\"avatar\"> Zaroio:</div>\n<blockquote>\n<p>To cimb a stair user a Kinematic Body and and a leg (raycast downward). Use a Kinematic Body, it will give you more controll</p>\n</blockquote>\n</aside>\n<p>Raycasting will fail to detect ground if the character stands above a gap, or when you don\u2019t stand directly above the higher platform. It has to be a sweep test or a ghost object.</p>", "post_number": 10, "post_type": 1, "updated_at": "2017-01-02T01:07:58.646Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 1, "reads": 60, "readers_count": 59, "score": 17.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 184, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8463, "name": "", "username": "JamesK89", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png", "created_at": "2015-11-05T00:21:09.000Z", "cooked": "<p>Oh dear what can of worms have I opened?</p>", "post_number": 11, "post_type": 1, "updated_at": "2017-01-02T01:07:58.908Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 60, "readers_count": 59, "score": 12.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 201, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8464, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2015-11-05T01:13:55.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/jamesk89/40/1073_1.png\" class=\"avatar\"> JamesK89:</div>\n<blockquote>\n<p>Oh dear what can of worms have I opened?</p>\n</blockquote>\n</aside>\n<p>No worry. So far, the gentlemen in this thread are well behaved. I will be watching you  <img src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=5\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"></p>", "post_number": 12, "post_type": 1, "updated_at": "2017-01-02T01:07:58.966Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 58, "reads": 63, "readers_count": 62, "score": 302.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8470, "name": "", "username": "Bananaft", "avatar_template": "/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png", "created_at": "2015-11-05T09:40:35.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Enhex\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/enhex/40/81_2.png\" class=\"avatar\"> Enhex:</div>\n<blockquote>\n<p>[quote=\u201cZaroio\u201d]To cimb a stair user a Kinematic Body and and a leg (raycast downward). Use a Kinematic Body, it will give you more controll</p>\n</blockquote>\n</aside>\n<p>Raycasting will fail to detect ground if the character stands above a gap, or when you don\u2019t stand directly above the higher platform. It has to be a sweep test or a ghost object.[/quote]</p>\n<p>Or more raycasts, like Lemma did: <a href=\"http://etodd.io/2015/04/03/poor-mans-character-controller/\" rel=\"nofollow noopener\">etodd.io/2015/04/03/poor-mans-ch \u2026 ontroller/</a></p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"http://etodd.io/assets/SuQjLaQ.png\" title=\"\" rel=\"nofollow noopener\"><img src=\"http://etodd.io/assets/SuQjLaQ.png\" alt=\"\" width=\"690\" height=\"388\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\"></span><span class=\"informations\">960\u00d7540</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg></div></a></div></p>", "post_number": 13, "post_type": 1, "updated_at": "2017-01-02T01:07:59.370Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 121, "reads": 63, "readers_count": 62, "score": 617.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://etodd.io/2015/04/03/poor-mans-character-controller/", "internal": false, "reflection": false, "clicks": 25}, {"url": "http://etodd.io/assets/SuQjLaQ.png", "internal": false, "reflection": false, "title": "SuQjLaQ.png", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 165, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8471, "name": "", "username": "Dave82", "avatar_template": "/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png", "created_at": "2015-11-05T09:45:34.000Z", "cooked": "<p>I still can\u2019t get why is everyone against my sphere cast solution ?  <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>", "post_number": 14, "post_type": 1, "updated_at": "2017-01-02T01:07:59.446Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 61, "readers_count": 60, "score": 12.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 247, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8474, "name": "", "username": "Enhex", "avatar_template": "/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png", "created_at": "2015-11-05T15:19:38.000Z", "cooked": "<p>[quote=\u201cBananaft\u201d]<br>\nOr more raycasts, like Lemma did: <a href=\"http://etodd.io/2015/04/03/poor-mans-character-controller/\" rel=\"nofollow noopener\">etodd.io/2015/04/03/poor-mans-ch \u2026 ontroller/</a></p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"http://etodd.io/assets/SuQjLaQ.png\" title=\"\" rel=\"nofollow noopener\"><img src=\"http://etodd.io/assets/SuQjLaQ.png\" alt=\"\" width=\"690\" height=\"388\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\"></span><span class=\"informations\">960\u00d7540</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg></div></a></div>[/quote]</p>\n<p>You\u2019re just bolting hacks upon hacks.<br>\nIt will always break when you only have ground where there\u2019s no raycasts, and unless you\u2019re going to do infinite raycasts it isn\u2019t going to cover all cases.<br>\nInsisting on not learning more advanced concepts has no advantages, just learn how to use sweep tests or ghost objects (AKA trigger in urho).</p>\n<aside class=\"quote no-group\" data-username=\"Dave82\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/dave82/40/2369_2.png\" class=\"avatar\"> Dave82:</div>\n<blockquote>\n<p>I still can\u2019t get why is everyone against my sphere cast solution ?  <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=9\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>\n</blockquote>\n</aside>\n<p>Sphere cast is the same as a sweep test. It\u2019s fine when you\u2019re using capsule/sphere body because it\u2019s a specific shape.</p>\n<p>Basically it\u2019s adding \u201cleg extra length\u201d at the bottom of the body and staying \u201cstep up when something touches the leg at bottom of the body\u201d.<br>\nYou can do the same by using a trigger body and getting the highest contact point.<br>\nThis method could actually work if you don\u2019t have low ceilings (Unless there are more failure cases I didn\u2019t think about):<br>\n<img src=\"http://i.imgur.com/1BHKj7O.png\" alt=\"\" width=\"640\" height=\"400\"></p>\n<p>That also means that you can\u2019t reuse the body for hit detection, in an shooter game for example, because the rigid body hovers over the ground. So an additional body is required.</p>\n<p>Advanced character controllers are difficult! And you ain\u2019t gonna top John Carmack\u2019s Quake method that easily  <img src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=9\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"> (which isn\u2019t general enough to handle Bullet\u2019s collision margin roundness which makes it even more difficult)</p>", "post_number": 15, "post_type": 1, "updated_at": "2017-01-02T01:07:59.638Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 14, "reads": 66, "readers_count": 65, "score": 83.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://etodd.io/2015/04/03/poor-mans-character-controller/", "internal": false, "reflection": false, "clicks": 2}, {"url": "http://etodd.io/assets/SuQjLaQ.png", "internal": false, "reflection": false, "title": "SuQjLaQ.png", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 184, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9147, "name": "", "username": "Enhex", "avatar_template": "/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png", "created_at": "2015-12-19T12:00:17.000Z", "cooked": "<p>Actually if the leg is a spring, this could work since the body will end up in a crouching position.</p>", "post_number": 16, "post_type": 1, "updated_at": "2017-01-02T01:08:48.194Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 58, "readers_count": 57, "score": 11.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 184, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9148, "name": "", "username": "Zaroio", "avatar_template": "/user_avatar/discourse.urho3d.io/zaroio/{size}/1839_2.png", "created_at": "2015-12-19T12:57:54.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/enhex/40/81_1.png\" class=\"avatar\"> Enhex:</div>\n<blockquote>\n<p>Actually if the leg is a spring, this could work since the body will end up in a crouching position.</p>\n</blockquote>\n</aside>\n<p>Yes it does works. I\u2019ve implemented it on Godot.</p>", "post_number": 17, "post_type": 1, "updated_at": "2017-01-02T01:08:48.262Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 1, "reads": 60, "readers_count": 59, "score": 17.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 143, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9151, "name": "", "username": "JamesK89", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png", "created_at": "2015-12-19T18:11:23.000Z", "cooked": "<p>Enhex that is quite a genius idea!</p>\n<p>I seem to recall a post-mortem for Call of Juarez where one of the developers described representing the player as a capsule overlapping with a sphere where the sphere would roll around according to player input with its angular velocity set to zero each physics frame.</p>\n<p>I thought that article was on Gamasutra but I can\u2019t find it there, maybe it was in one of books somewhere.</p>", "post_number": 18, "post_type": 1, "updated_at": "2017-01-02T01:08:48.481Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 10, "reads": 64, "readers_count": 63, "score": 62.8, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 201, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9160, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2015-12-20T06:30:24.000Z", "cooked": "<p>Do I understand from this that a \u201cmountain goat demo\u201d would be really compelling?  Something that simply walks on uneven procedurally generated surfaces no problemo?  AKA the \u201cstumbling Roman legions in the rough\u201d problem.</p>", "post_number": 19, "post_type": 1, "updated_at": "2017-01-02T01:08:49.239Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 67, "reads": 65, "readers_count": 64, "score": 353.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9219, "name": "", "username": "JamesK89", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png", "created_at": "2015-12-21T20:19:28.000Z", "cooked": "<p>Here is a novel approach from an excerpt in the book, which I highly recommend; Game Coding Complete Third Edition on Page 538:<br>\n<a href=\"http://postimg.org/image/fkysr1dm1/\" data-bbcode=\"true\" rel=\"nofollow noopener\"><img src=\"http://s4.postimg.org/fkysr1dm1/Excerpt.jpg\" alt=\"\" width=\"\" height=\"\"></a></p>\n<p>It seems like it would work for a variety of environments. The purposed character hull looks like a <a href=\"https://en.wikipedia.org/wiki/Bacteriophage\" data-bbcode=\"true\" rel=\"nofollow noopener\">Bacteriophage virus</a> to me.</p>", "post_number": 20, "post_type": 1, "updated_at": "2017-01-02T01:08:53.519Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 91, "reads": 65, "readers_count": 64, "score": 468.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://postimg.org/image/fkysr1dm1/", "internal": false, "reflection": false, "title": "Excerpt \u2014 Postimage.org", "clicks": 45}, {"url": "https://en.wikipedia.org/wiki/Bacteriophage", "internal": false, "reflection": false, "title": "Bacteriophage - Wikipedia", "clicks": 13}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 201, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9227, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2015-12-21T21:43:23.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/jamesk89/40/1073_1.png\" class=\"avatar\"> JamesK89:</div>\n<blockquote>\n<p>The purposed character hull looks like a <a href=\"https://en.wikipedia.org/wiki/Bacteriophage\" data-bbcode=\"true\" rel=\"nofollow noopener\">Bacteriophage virus</a> to me.</p>\n</blockquote>\n</aside>\n<p>I\u2019ve considered making more abstract geometric games of entities that are actually such, although I think of pawns in chess, not viruses.  Hey if Minecraft can be ugly and eventually sell to MS for billions, why do we have to make nice human appearances and canned animations?</p>", "post_number": 21, "post_type": 1, "updated_at": "2017-01-02T01:08:54.055Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 10, "reads": 58, "readers_count": 57, "score": 61.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9423, "name": "", "username": "JamesK89", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png", "created_at": "2015-12-28T20:05:37.000Z", "cooked": "<p>I found this article if anyone wants to look at it: <a href=\"http://codefreax.org/tutorials/view/id/3\" rel=\"nofollow noopener\">codefreax.org/tutorials/view/id/3</a><br>\nFrom what I can tell from a preliminary standpoint is that it seems to manually control player movement using a ghost convex shape and performs convex sweep tests against Bullet\u2019s collision world.</p>\n<p>It\u2019s written in Ogre and Bullet but should be adaptable to Urho3D especially given that the same physics engine is used.</p>\n<p>On the other hand last evening I was looking at some of the assets from Frictional Games\u2019 SOMA in Blender and noticed that objects like stairs have an invisible collision ramp enveloping the stairs and after taking a look at the source code for <a href=\"https://github.com/FrictionalGames\" data-bbcode=\"true\" rel=\"nofollow noopener\">Penumbra and HPL1 Engine</a> I\u2019m thinking maybe dynamic character controllers are not as bad as they used to be.</p>", "post_number": 22, "post_type": 1, "updated_at": "2017-01-02T01:09:07.756Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 2, "reads": 62, "readers_count": 61, "score": 22.4, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://codefreax.org/tutorials/view/id/3", "internal": false, "reflection": false, "title": "codefreax: \"The important part is below this sentence.\"", "clicks": 29}, {"url": "https://github.com/FrictionalGames", "internal": false, "reflection": false, "title": "Frictional Games \u00b7 GitHub", "clicks": 6}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 201, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9424, "name": "", "username": "Enhex", "avatar_template": "/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png", "created_at": "2015-12-28T20:57:16.000Z", "cooked": "<p>I implemented convex cast suspension based dynamic controller and it works fine. Though it complicates interactions since the rigidbody doesn\u2019t span all the way to the ground so another body is required, and a way to attach it to the controller body without parenting it if u want to detect collision with inactive objects like pickups (fixed constraint may work for it).</p>", "post_number": 23, "post_type": 1, "updated_at": "2017-01-02T01:09:07.830Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 62, "readers_count": 61, "score": 17.4, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 184, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9433, "name": "", "username": "thebluefish", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "created_at": "2015-12-29T05:45:25.000Z", "cooked": "<p>It should be easy to make a small component which takes the world transformation for one node and set it to the node that the component is attached to. Then all you need to do is plug a node id in, possibly as an attribute that can be set in the editor, and voila.</p>", "post_number": 24, "post_type": 1, "updated_at": "2017-01-02T01:09:08.432Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 61, "readers_count": 60, "score": 12.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 80, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12664, "name": "", "username": "Zaroio", "avatar_template": "/user_avatar/discourse.urho3d.io/zaroio/{size}/1839_2.png", "created_at": "2016-06-28T15:18:20.000Z", "cooked": "<aside class=\"quote\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/enhex/40/81_1.png\" class=\"avatar\"> Enhex:</div>\n<blockquote>\n<p>I implemented convex cast suspension based dynamic controller and it works fine. Though it complicates interactions since the rigidbody doesn\u2019t span all the way to the ground so another body is required, and a way to attach it to the controller body without parenting it if u want to detect collision with inactive objects like pickups (fixed constraint may work for it).</p>\n</blockquote>\n</aside>\n<p>Sorrey for reviving this again\u2026</p>\n<p>I\u2019ve lost my whole hd\u2026 realy want to kill myself know  <img src=\"https://emoji.discourse-cdn.com/twitter/laughing.png?v=5\" title=\":laughing:\" class=\"emoji\" alt=\":laughing:\"></p>\n<p>[code]    btCapsuleShape foot(0.4f, 0.5f);</p>\n<pre><code>PhysicsRaycastResult ray;\n\n//world-&gt;SphereCast(ray, Ray(node_-&gt;GetPosition(), Vector3::DOWN), 0.4, 1.0f);\n\n world-&gt;ConvexCast(ray, &amp;foot, node_-&gt;GetPosition(), Quaternion::IDENTITY,\n                   node_-&gt;GetPosition() + Vector3(0, -1.0f, 0), Quaternion::IDENTITY);\n\nif (ray.body_ &amp;&amp; ray.body_ != m_body) {\n    Vector3 newPos = node_-&gt;GetPosition();\n    newPos.y_ = ray.position_.y_ + 1.0f;\n    node_-&gt;SetPosition(newPos);\n    std::cout &lt;&lt; ray.distance_ &lt;&lt; std::endl;\n    ray.body_-&gt;SetMass(0);\n}[/code]\n</code></pre>\n<p>After losing my other engine project, I?ve desired to move to Urho3D again. I?ve done the casting and everything seems to work all right. Except that it does some annoying jitter when getting slowly out of an edge. Am i setting it?s position on the right time?</p>", "post_number": 25, "post_type": 1, "updated_at": "2017-01-02T01:13:03.290Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 7, "reads": 62, "readers_count": 61, "score": 47.4, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 143, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12705, "name": "", "username": "TheComet", "avatar_template": "/user_avatar/discourse.urho3d.io/thecomet/{size}/1493_2.png", "created_at": "2016-07-03T22:05:28.000Z", "cooked": "<p>I thought I\u2019d dump my camera controller implementation here for people to look at. I\u2019ve found that managing your own velocities and applying them with body-&gt;SetLinearVelocity() gives you a lot more freedom in how you want to control your character, without having to screw around with the physics engine <span class=\"bbcode-i\">too much</span>. One thing I\u2019ll most likely add is collision feedback from bullet. Currently, the velocity is applied regardless of what you\u2019re colliding with, so when interacting with other collision objects you just tear through them with constant force. This makes it impossible to jump on top of other collision objects, for example.</p>\n<p>My implementation feels almost identical to Half Life 2 (which is what I was inspired by). When you jump your velocity increases, and I\u2019ve deliberately made it possible for you to chain jumps to gain more speed (known as \u201cBunny Hopping\u201d).</p>\n<p>Sources can be found here:<br>\n<a href=\"https://github.com/TheComet93/iceweasel/blob/master/software/game/iceweasel/include/iceweasel/CameraController.h\" data-bbcode=\"true\" rel=\"nofollow noopener\">CameraController.h</a><br>\n<a href=\"https://github.com/TheComet93/iceweasel/blob/master/software/game/iceweasel/src/CameraController.cpp\" data-bbcode=\"true\" rel=\"nofollow noopener\">CameraController.cpp</a></p>\n<p>It\u2019s still a work in progress, as you can see with all of the TODOs in the code. You can switch between freecam mode and FPS mode by calling CameraController::SetMode().</p>\n<p>Video:<br>\n<div class=\"lazyYT\" data-youtube-id=\"y68cd2Su-M8\" data-youtube-title=\"Ice Weasel Update #1 - FPS Camera Movement\" data-width=\"480\" data-height=\"270\" data-parameters=\"feature=oembed&amp;wmode=opaque\"></div></p>\n<p>This is the relevant section of code:</p>\n<p>[code]void CameraController::UpdateFPSCameraMovement(float timeStep)<br>\n{<br>\nRigidBody* body = moveNode_-&gt;GetComponent();</p>\n<pre><code>// Get input direction vector\nfloat speed = 8.0f; // TODO read this from an XML config file\nVector3 targetPlaneVelocity(Vector2::ZERO);\nif(input_-&gt;GetKeyDown(KEY_W))     targetPlaneVelocity.z_ += 1;\nif(input_-&gt;GetKeyDown(KEY_S))     targetPlaneVelocity.z_ -= 1;\nif(input_-&gt;GetKeyDown(KEY_A))     targetPlaneVelocity.x_ += 1;\nif(input_-&gt;GetKeyDown(KEY_D))     targetPlaneVelocity.x_ -= 1;\nif(targetPlaneVelocity.x_ != 0 || targetPlaneVelocity.z_ != 0)\n    targetPlaneVelocity = targetPlaneVelocity.Normalized() * speed;\n\n// Rotate input direction by camera angle using a 3D rotation matrix\ntargetPlaneVelocity = Matrix3(-Cos(angleY_), 0, Sin(angleY_),\n                          0, 1, 0,\n                          Sin(angleY_), 0, Cos(angleY_)) * targetPlaneVelocity;\n\n// Controls the player's Y velocity. The velocity is reset to 0.0f when\n// E_NODECOLLISION occurs and the player is on the ground. Allow the player\n// to jump by pressing space while the velocity is 0.0f.\nif(input_-&gt;GetKeyDown(KEY_SPACE) &amp;&amp; downVelocity_ == 0.0f)\n{\n    downVelocity_ = playerParameters_.jumpForce;\n    // Give the player a slight speed boost so he moves faster than usual\n    // in the air.\n    planeVelocity_ *= playerParameters_.jumpSpeedBoostFactor;\n}\n\n// TODO limit velocity on slopes?\n\n// TODO Take upwards velocity into account when bunny hopping (e.g. on ramps)\n\n// smoothly approach target direction if we're on the ground. Otherwise\n// just maintain whatever plane velocity we had previously.\nfloat smoothness = 16.0f;\nif(downVelocity_ == 0.0f)\n    planeVelocity_ += (targetPlaneVelocity - planeVelocity_) * timeStep * smoothness;\n\n// Integrate gravity to get Y velocity\ndownVelocity_ += physicsWorld_-&gt;GetGravity().y_ * timeStep;\n\n// update camera position\nVector3 velocity(planeVelocity_.x_, downVelocity_, planeVelocity_.z_);\nbody-&gt;SetLinearVelocity(velocity);\n</code></pre>\n<p>}</p>\n<p>// ----------------------------------------------------------------------------<br>\nvoid CameraController::HandleNodeCollision(StringHash eventType, VariantMap&amp; eventData)<br>\n{<br>\nusing namespace NodeCollision;<br>\n(void)eventType;<br>\n(void)eventData;</p>\n<pre><code>RigidBody* body = moveNode_-&gt;GetComponent&lt;RigidBody&gt;();\n\n// Temporarily disable collision checks for the player's rigid body, so\n// raycasts don't collide with ourselves.\nunsigned int storeCollisionMask = body-&gt;GetCollisionMask();\nbody-&gt;SetCollisionMask(0);\n\n    // Cast a ray down and check if we're on the ground\n    PhysicsRaycastResult result;\n    float rayCastLength = playerParameters_.height * 1.05;\n    Ray ray(moveNode_-&gt;GetWorldPosition(), Vector3::DOWN);\n    physicsWorld_-&gt;RaycastSingle(result, ray, rayCastLength);\n    if(result.distance_ &lt; rayCastLength)\n        // Reset player's Y velocity\n        downVelocity_ = 0.0f;\n\n// Restore collision mask\nbody-&gt;SetCollisionMask(storeCollisionMask);\n</code></pre>\n<p>}[/code]</p>", "post_number": 26, "post_type": 1, "updated_at": "2017-05-31T17:59:19.568Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 15, "reads": 71, "readers_count": 70, "score": 134.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/TheComet93/iceweasel/blob/master/software/game/iceweasel/src/CameraController.cpp", "internal": false, "reflection": false, "clicks": 20}, {"url": "https://github.com/TheComet93/iceweasel/blob/master/software/game/iceweasel/include/iceweasel/CameraController.h", "internal": false, "reflection": false, "clicks": 15}, {"url": "https://www.youtube.com/watch?v=y68cd2Su-M8", "internal": false, "reflection": false, "clicks": 2}], "read": true, "user_title": "Community repository maintainer", "title_is_group": false, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 37, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12709, "name": "", "username": "Zaroio", "avatar_template": "/user_avatar/discourse.urho3d.io/zaroio/{size}/1839_2.png", "created_at": "2016-07-04T00:36:17.000Z", "cooked": "<p>Thank you very very much my friend.  <img src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>", "post_number": 27, "post_type": 1, "updated_at": "2017-01-02T01:13:06.561Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 64, "readers_count": 63, "score": 17.8, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 143, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 12725, "name": "hd_", "username": "hdunderscore", "avatar_template": "/user_avatar/discourse.urho3d.io/hdunderscore/{size}/1151_2.png", "created_at": "2016-07-05T01:19:21.000Z", "cooked": "<p>In my fps controller experiment, I stuck with the bullet forces method to avoid the extra work of collision detection/response. I started with the character sample and made use of several collision triggers to control different behaviors (like ground detect, drop detect, stand detect), and added some fudge. I added a half-life style crouch-jump (or at least how I remember it). In most cases it behaves well as I\u2019ve limited extreme responses, but there are some glitches like wall climbing and it doesn\u2019t handle stairs well (although ramps are good).</p>\n<p>I used a simple trick to smooth out the collisions by separating the character controller physics from the visual model, that way even if there are hiccups, the visual model is always moving fluidly. If you wanted to then do hitboxes, or IK steps, you would do it based on the visual model position rather than the character controller.</p>\n<p>Source: <a href=\"https://github.com/hdunderscore/Urho3D-FPS-Controller\" rel=\"nofollow noopener\">github.com/hdunderscore/Urho3D-FPS-Controller</a></p>", "post_number": 28, "post_type": 1, "updated_at": "2017-01-02T01:13:07.732Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 5, "reads": 66, "readers_count": 65, "score": 38.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "hd_", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/hdunderscore/Urho3D-FPS-Controller", "internal": false, "reflection": false, "title": "GitHub - hdunderscore/Urho3D-FPS-Controller", "clicks": 47}, {"url": "https://discourse.urho3d.io/t/beginner-coming-from-unity/2824/4", "internal": true, "reflection": true, "title": "Beginner coming from Unity", "clicks": 2}, {"url": "https://discourse.urho3d.io/t/standard-character-controller/3156/6", "internal": true, "reflection": true, "title": "Standard Character Controller", "clicks": 1}], "read": true, "user_title": "Contributor", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 114, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 14799, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-12-19T09:45:19.000Z", "cooked": "<p>I don\u2019t play FPS games but always wondered why capsule shape rigid body can\u2019t be used.<br>\nI tested this to see if can be done, and below is the video.<br>\n<div class=\"lazyYT\" data-youtube-id=\"OSRAUEXIKBI\" data-youtube-title=\"\" data-width=\"480\" data-height=\"270\" data-parameters=\"feature=oembed&amp;wmode=opaque\"></div></p>", "post_number": 29, "post_type": 1, "updated_at": "2017-05-31T17:55:01.181Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 63, "readers_count": 62, "score": 12.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://www.youtube.com/watch?v=OSRAUEXIKBI", "internal": false, "reflection": false, "title": "YouTube", "clicks": 2}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 14800, "name": "Eugene Kozlov", "username": "Eugene", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png", "created_at": "2016-12-19T11:42:53.000Z", "cooked": "<p>I know one annoying problem of true-RB character controller that I\u2019ve seen on Bullet few years ago: nobody promises that rigid body will move with speed that you set.<br>\nE.g. try to move RB rapidly over heightmap/trimesh geometry. You may notice that character sometimes don\u2019t move smoothly with expected speed because of inaccuracy of physics computation and colliding with ground.</p>", "post_number": 30, "post_type": 1, "updated_at": "2017-01-02T01:15:39.457Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 3, "reads": 59, "readers_count": 58, "score": 26.8, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "Eugene Kozlov", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Core developer", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 484, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 14810, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-12-20T06:22:07.000Z", "cooked": "<p>Single-shot step up to step heights looked ugly, but what if we can do incremental height stepping.<br>\n<div class=\"lazyYT\" data-youtube-id=\"w6PtBgm4uaQ\" data-youtube-title=\"\" data-width=\"480\" data-height=\"270\" data-parameters=\"feature=oembed&amp;wmode=opaque\"></div></p>", "post_number": 31, "post_type": 1, "updated_at": "2017-05-31T18:01:28.362Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 59, "readers_count": 58, "score": 11.8, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 3, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://www.youtube.com/watch?v=w6PtBgm4uaQ", "internal": false, "reflection": false, "title": "YouTube", "clicks": 2}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 14811, "name": "", "username": "rasteron", "avatar_template": "/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png", "created_at": "2016-12-20T08:34:17.000Z", "cooked": "<p>Looking good! <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>", "post_number": 32, "post_type": 1, "updated_at": "2017-01-02T01:15:40.341Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 59, "readers_count": 58, "score": 16.8, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 54, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 14816, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-12-20T16:08:02.000Z", "cooked": "<p>Code to do this is rather simple.</p>\n<p>In Character::HandleNodeCollision() func, in the while() loop, I have</p>\n<pre><code class=\"lang-auto\">        // relative contact height\n        float yOffset = contactPosition.y_ - node_-&gt;GetPosition().y_;\n\n        // not the ground\n        if ( yOffset &gt; M_EPSILON &amp;&amp; yOffset &lt; MAX_STEP_HEIGHT)\n        {\n            // moving into an object in the direction that we're moving (approximately)\n            if (contactImpulse &gt; 1.0f &amp;&amp; curMoveDir_.DotProduct(contactNormal) &lt; -0.8f)\n            {\n                if (yOffset &gt; stepHeightVec_.y_ )\n                {\n                    stepHeightVec_.y_ = yOffset;\n                }\n            }\n        }\n</code></pre>\n<p>MAX_STEP_HEIGHT = 0.4f</p>\n<p>then in Character::FixedUpdate() func., I evaluate if the stepHeightVec_.y_ &gt; 0 and if (stepHeightVec_.y_ &gt; INCREMENTAL_HEIGHT) set stepHeightVec_.y_ = INCREMENTAL_HEIGHT (0.06f)<br>\nand calculate linear velocity based on set stepHeightVec_.y_</p>\n<pre><code class=\"lang-auto\">    // swat move speed:\n    // walk - 1.842 m/s\n    // run - 4.78 m/s\n    // sprint - 7.164 m/s\n    const float velWalk = 1.842f;\n    const float velRun = 4.78f;\n    moveForce_ = !runKey ? velWalk : velRun;\n\n    if (moveDir.LengthSquared() &gt; 0.0f)\n    {\n        moveDir.Normalize();\n        moveDir = rot * moveDir;\n    }\n\n    curMoveDir_ = moveDir;\n\n    // If in air, allow control, but slower than when on ground\n    if (softGrounded)\n    {\n        if (stepHeightVec_.y_ &gt; M_EPSILON)\n        {\n            if (stepHeightVec_.y_ &gt; INCREMENTAL_STEP_HEIGHT)\n            {\n                stepHeightVec_.y_ = INCREMENTAL_STEP_HEIGHT;\n            }\n\n            // convert to vertical step velocity\n            stepHeightVec_ = stepHeightVec_ / timeStep;\n\n            body-&gt;SetLinearVelocity(stepHeightVec_ + moveDir * moveForce_);\n        }\n        else\n        {\n            body-&gt;SetLinearVelocity(moveDir * moveForce_);\n        }\n    }\n    else\n    {\n        body-&gt;ApplyImpulse(moveDir * INAIR_MOVE_FORCE);\n    }\n\n   . . . \n   stepHeightVec_ = Vector3::ZERO;\n</code></pre>\n<p>INCREMENTAL_STEP_HEIGHT = 0.06f</p>\n<p>Edit: added code changes in my Character::FixedUpdate() func.</p>", "post_number": 33, "post_type": 1, "updated_at": "2017-01-02T01:15:40.740Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 3, "reads": 62, "readers_count": 61, "score": 27.4, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 14831, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2016-12-21T17:52:29.000Z", "cooked": "<p>Remainder of changes in the Character::FixedUpdate() func (just changed Swat_JumpUp to Swat_JumpDown animation - not shown in the videos)</p>\n<pre><code class=\"lang-auto\">    if (!onGround_)\n    {\n        float rayDistance = 5.0f;\n        PhysicsRaycastResult result;\n        GetScene()-&gt;GetComponent&lt;PhysicsWorld&gt;()-&gt;RaycastSingle(result, Ray(node_-&gt;GetPosition(), Vector3::DOWN), rayDistance, 2);\n\n        if (result.body_  == NULL || result.distance_ &gt; MAX_STEPDOWN_HEIGHT)\n        {\n            animCtrl-&gt;Play(\"Models/Swat/Swat_JumpDown.ani\", 0, false, 0.2f);\n        }\n    }\n    else\n. . .\n</code></pre>\n<p>MAX_STEPDOWN_HEIGHT = 0.5f</p>\n<p>That\u2019s all the changes that I made for the step height movement.  Other changes were adding an over-the-shoulderCamera and having the main cameraNode_ interpolate the position/rotation with it.</p>", "post_number": 34, "post_type": 1, "updated_at": "2017-01-02T01:15:41.799Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 2, "reads": 61, "readers_count": 60, "score": 22.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 18232, "name": "", "username": "smellymumbler", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png", "created_at": "2017-05-30T21:57:23.031Z", "cooked": "<p>I\u2019m using a mix of Lumak\u2019s changes and the CharacterDemo for my own Character Controller. Unfortunately, i\u2019m having a hard time understanding how i could do something like crouching and proning. Would you guys just dynamically reduce the size of the capsule?</p>\n<p>Also, is there a networked version of that example, Lumak? Would be nice to see which fields need to go over the network to animate properly across clients.</p>", "post_number": 35, "post_type": 1, "updated_at": "2017-05-30T21:57:23.031Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 56, "readers_count": 55, "score": 16.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 674, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 18234, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2017-05-30T22:48:35.970Z", "cooked": "<p>When I was investigating this, I didn\u2019t realize there was <a href=\"https://github.com/hdunderscore/Urho3D-FPS-Controller\">https://github.com/hdunderscore/Urho3D-FPS-Controller</a><br>\nI haven\u2019t tried his fps controller but have seen a youtube vid of someone using it and it looked very functional to me. I\u2019d use that instead of what I\u2019ve posted.</p>", "post_number": 36, "post_type": 1, "updated_at": "2017-05-30T22:48:35.970Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 58, "readers_count": 57, "score": 21.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/hdunderscore/Urho3D-FPS-Controller", "internal": false, "reflection": false, "title": "GitHub - hdunderscore/Urho3D-FPS-Controller", "clicks": 34}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 18236, "name": "", "username": "smellymumbler", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png", "created_at": "2017-05-30T23:21:28.449Z", "cooked": "<p>Yeah, but his controller is not using a rigidbody, apparently. It does not use forces, but changes the position arbitrarily. I prefer the version with ApplyImpulse because it gives me a ground truth to make calculations and changes. Also, it\u2019s much easier to do different states, such as crouched, prone, etc. BTW, that controller does not work with slopes very well.</p>\n<p>In fact, since it\u2019s using the physics engine, i could attach a second model to the character, an invisible one, composed of collision hulls. I can use this simple model of boxes and cylinders to not only dictate where the character has been shot, but where the collision takes place, making it easy to do crouched collision and prone collision.</p>", "post_number": 37, "post_type": 1, "updated_at": "2017-05-30T23:25:14.715Z", "reply_count": 1, "reply_to_post_number": 36, "quote_count": 0, "incoming_link_count": 0, "reads": 58, "readers_count": 57, "score": 16.6, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "Lumak", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 674, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 18237, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2017-05-30T23:26:22.920Z", "cooked": "<p>But it does use rigidbody. Take a closer look:<br>\n<aside class=\"onebox githubblob\">\n  <header class=\"source\">\n      <a href=\"https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp\" target=\"_blank\" rel=\"nofollow noopener\">github.com</a>\n  </header>\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp\" target=\"_blank\" rel=\"nofollow noopener\">hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp</a></h4>\n<pre><code class=\"lang-cpp\">//\n// Copyright (c) 2008-2016 the Urho3D project.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n</code></pre>\n\n  This file has been truncated. <a href=\"https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp\" target=\"_blank\" rel=\"nofollow noopener\">show original</a>\n\n  </article>\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n  <div style=\"clear: both\"></div>\n</aside>\n</p>", "post_number": 38, "post_type": 1, "updated_at": "2017-05-30T23:26:22.920Z", "reply_count": 1, "reply_to_post_number": 37, "quote_count": 0, "incoming_link_count": 12, "reads": 60, "readers_count": 59, "score": 77.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp", "internal": false, "reflection": false, "title": "Urho3D-FPS-Controller/Character.cpp at master \u00b7 hdunderscore/Urho3D-FPS-Controller \u00b7 GitHub", "clicks": 29}], "read": true, "user_title": null, "reply_to_user": {"username": "smellymumbler", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 18238, "name": "", "username": "smellymumbler", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png", "created_at": "2017-05-30T23:29:59.312Z", "cooked": "<p>I\u2019m confused. What\u2019s going on here, then? <a href=\"https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp#L301\" rel=\"nofollow noopener\">https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp#L301</a></p>", "post_number": 39, "post_type": 1, "updated_at": "2017-05-30T23:29:59.312Z", "reply_count": 1, "reply_to_post_number": 38, "quote_count": 0, "incoming_link_count": 6, "reads": 60, "readers_count": 59, "score": 47.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp#L301", "internal": false, "reflection": false, "title": "Urho3D-FPS-Controller/Character.cpp at master \u00b7 hdunderscore/Urho3D-FPS-Controller \u00b7 GitHub", "clicks": 31}], "read": true, "user_title": null, "reply_to_user": {"username": "Lumak", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 674, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 18240, "name": "", "username": "Lumak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "created_at": "2017-05-31T00:19:38.171Z", "cooked": "<p><a class=\"mention\" href=\"/u/hdunderscore\">@hdunderscore</a> is the person to ask.</p>", "post_number": 40, "post_type": 1, "updated_at": "2017-05-31T00:19:38.171Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 61, "readers_count": 60, "score": 12.2, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 256, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 18322, "name": "darkirk", "username": "darkirk", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/90db22/{size}.png", "created_at": "2017-06-02T13:57:08.995Z", "cooked": "<p>I\u2019ve noticed this problem when doing crouch/prone and other capsule changes:</p>\n<p><img src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/1X/0f49bba670ead0b437b062a19b3f8a2cddbb6e2f.png\" width=\"612\" height=\"416\"></p>\n<p>Anyone else?</p>", "post_number": 41, "post_type": 1, "updated_at": "2017-06-02T14:02:42.806Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 10, "reads": 60, "readers_count": 59, "score": 62.0, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "darkirk", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 722, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": "downloaded local copies of images", "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 18545, "name": "hd_", "username": "hdunderscore", "avatar_template": "/user_avatar/discourse.urho3d.io/hdunderscore/{size}/1151_2.png", "created_at": "2017-06-08T05:43:14.073Z", "cooked": "<p>I believe that line is keeping the visual model close to the rigid body. Some fudge is used to reposition some rigid bodies to behave as expected like <a class=\"mention\" href=\"/u/darkirk\">@darkirk</a>\u2019s image indicates.</p>", "post_number": 42, "post_type": 1, "updated_at": "2017-06-08T05:43:14.073Z", "reply_count": 0, "reply_to_post_number": 39, "quote_count": 0, "incoming_link_count": 18, "reads": 59, "readers_count": 58, "score": 101.8, "yours": false, "topic_id": 1468, "topic_slug": "character-controller", "display_username": "hd_", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Contributor", "title_is_group": false, "reply_to_user": {"username": "smellymumbler", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 114, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}], "stream": [8414, 8423, 8429, 8430, 8432, 8435, 8441, 8457, 8458, 8459, 8463, 8464, 8470, 8471, 8474, 9147, 9148, 9151, 9160, 9219, 9227, 9423, 9424, 9433, 12664, 12705, 12709, 12725, 14799, 14800, 14810, 14811, 14816, 14831, 18232, 18234, 18236, 18237, 18238, 18240, 18322, 18545]}, "timeline_lookup": [[1, 2577], [3, 2576], [11, 2575], [16, 2531], [18, 2530], [20, 2528], [22, 2521], [25, 2339], [26, 2333], [28, 2332], [29, 2165], [31, 2164], [34, 2162], [35, 2002], [41, 2000], [42, 1994]], "tags_descriptions": {}, "id": 1468, "title": "Character Controller", "fancy_title": "Character Controller", "posts_count": 42, "created_at": "2015-11-02T23:41:38.000Z", "views": 7319, "reply_count": 4, "like_count": 2, "last_posted_at": "2017-06-08T05:43:14.073Z", "visible": true, "closed": false, "archived": false, "has_summary": false, "archetype": "regular", "slug": "character-controller", "category_id": 9, "word_count": 5349, "deleted_at": null, "user_id": 201, "featured_link": null, "pinned_globally": false, "pinned_at": null, "pinned_until": null, "image_url": null, "slow_mode_seconds": 0, "draft": null, "draft_key": "topic_1468", "draft_sequence": null, "unpinned": null, "pinned": false, "current_post_number": 1, "highest_post_number": 42, "deleted_by": null, "actions_summary": [{"id": 4, "count": 0, "hidden": false, "can_act": false}, {"id": 8, "count": 0, "hidden": false, "can_act": false}, {"id": 7, "count": 0, "hidden": false, "can_act": false}], "chunk_size": 20, "bookmarked": false, "bookmarks": [], "topic_timer": null, "message_bus_last_id": 0, "participant_count": 15, "show_read_indicator": false, "thumbnails": null, "slow_mode_enabled_until": null, "tags_disable_ads": false, "details": {"can_edit": false, "notification_level": 1, "participants": [{"id": 201, "username": "JamesK89", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png", "post_count": 7, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 256, "username": "Lumak", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png", "post_count": 7, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 184, "username": "Enhex", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/enhex/{size}/81_2.png", "post_count": 7, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 143, "username": "Zaroio", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/zaroio/{size}/1839_2.png", "post_count": 4, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 674, "username": "smellymumbler", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png", "post_count": 3, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 247, "username": "Dave82", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png", "post_count": 3, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 294, "username": "bvanevery", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 114, "username": "hdunderscore", "name": "hd_", "avatar_template": "/user_avatar/discourse.urho3d.io/hdunderscore/{size}/1151_2.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 722, "username": "darkirk", "name": "darkirk", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/90db22/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 37, "username": "TheComet", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/thecomet/{size}/1493_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 54, "username": "rasteron", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 80, "username": "thebluefish", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 165, "username": "Bananaft", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 484, "username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 4, "username": "weitjong", "name": "Yao Wei Tjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "admin": true, "trust_level": 4}], "created_by": {"id": 201, "username": "JamesK89", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/jamesk89/{size}/1073_2.png"}, "last_poster": {"id": 114, "username": "hdunderscore", "name": "hd_", "avatar_template": "/user_avatar/discourse.urho3d.io/hdunderscore/{size}/1151_2.png"}, "links": [{"url": "https://github.com/hdunderscore/Urho3D-FPS-Controller", "title": "GitHub - hdunderscore/Urho3D-FPS-Controller", "internal": false, "attachment": false, "reflection": false, "clicks": 81, "user_id": 114, "domain": "github.com", "root_domain": "github.com"}, {"url": "http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=10843", "title": "Real-Time Physics Simulation Forum \u2022 View topic - Manual recovery from penetration problem", "internal": false, "attachment": false, "reflection": false, "clicks": 64, "user_id": 184, "domain": "www.bulletphysics.org", "root_domain": "bulletphysics.org"}, {"url": "http://postimg.org/image/fkysr1dm1/", "title": "Excerpt \u2014 Postimage.org", "internal": false, "attachment": false, "reflection": false, "clicks": 45, "user_id": 201, "domain": "postimg.org", "root_domain": "postimg.org"}, {"url": "https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp#L301", "title": "Urho3D-FPS-Controller/Character.cpp at master \u00b7 hdunderscore/Urho3D-FPS-Controller \u00b7 GitHub", "internal": false, "attachment": false, "reflection": false, "clicks": 31, "user_id": 674, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://github.com/hdunderscore/Urho3D-FPS-Controller/blob/master/Source/Character.cpp", "title": "Urho3D-FPS-Controller/Character.cpp at master \u00b7 hdunderscore/Urho3D-FPS-Controller \u00b7 GitHub", "internal": false, "attachment": false, "reflection": false, "clicks": 29, "user_id": 256, "domain": "github.com", "root_domain": "github.com"}, {"url": "http://codefreax.org/tutorials/view/id/3", "title": "codefreax: \"The important part is below this sentence.\"", "internal": false, "attachment": false, "reflection": false, "clicks": 29, "user_id": 201, "domain": "codefreax.org", "root_domain": "codefreax.org"}, {"url": "http://etodd.io/2015/04/03/poor-mans-character-controller/", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 27, "user_id": 165, "domain": "etodd.io", "root_domain": "etodd.io"}, {"url": "https://github.com/TheComet93/iceweasel/blob/master/software/game/iceweasel/src/CameraController.cpp", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 20, "user_id": 37, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://github.com/TheComet93/iceweasel/blob/master/software/game/iceweasel/include/iceweasel/CameraController.h", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 15, "user_id": 37, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://en.wikipedia.org/wiki/Bacteriophage", "title": "Bacteriophage - Wikipedia", "internal": false, "attachment": false, "reflection": false, "clicks": 13, "user_id": 201, "domain": "en.wikipedia.org", "root_domain": "wikipedia.org"}, {"url": "https://github.com/FrictionalGames", "title": "Frictional Games \u00b7 GitHub", "internal": false, "attachment": false, "reflection": false, "clicks": 6, "user_id": 201, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://www.youtube.com/watch?v=BGAwRKPlpCw", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 3, "user_id": 184, "domain": "www.youtube.com", "root_domain": "youtube.com"}, {"url": "https://www.youtube.com/watch?v=y68cd2Su-M8", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 2, "user_id": 37, "domain": "www.youtube.com", "root_domain": "youtube.com"}, {"url": "https://discourse.urho3d.io/t/beginner-coming-from-unity/2824/4", "title": "Beginner coming from Unity", "internal": true, "attachment": false, "reflection": true, "clicks": 2, "user_id": 21, "domain": "discourse.urho3d.io", "root_domain": "urho3d.io"}, {"url": "https://www.youtube.com/watch?v=OSRAUEXIKBI", "title": "YouTube", "internal": false, "attachment": false, "reflection": false, "clicks": 2, "user_id": 256, "domain": "www.youtube.com", "root_domain": "youtube.com"}, {"url": "https://www.youtube.com/watch?v=w6PtBgm4uaQ", "title": "YouTube", "internal": false, "attachment": false, "reflection": false, "clicks": 2, "user_id": 256, "domain": "www.youtube.com", "root_domain": "youtube.com"}, {"url": "https://discourse.urho3d.io/t/standard-character-controller/3156/6", "title": "Standard Character Controller", "internal": true, "attachment": false, "reflection": true, "clicks": 1, "user_id": 21, "domain": "discourse.urho3d.io", "root_domain": "urho3d.io"}, {"url": "http://issues.It", "title": "speeds.it", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 247, "domain": "issues.It", "root_domain": "issues.It"}]}, "suggested_topics": [{"id": 7304, "title": "Urho3D is crashing on Android 12", "fancy_title": "Urho3D is crashing on Android 12", "slug": "urho3d-is-crashing-on-android-12", "posts_count": 1, "reply_count": 0, "highest_post_number": 1, "image_url": null, "created_at": "2022-07-28T10:03:51.280Z", "last_posted_at": "2022-07-28T10:03:51.349Z", "bumped": true, "bumped_at": "2022-07-28T10:38:06.014Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 1, "views": 126, "category_id": 9, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest single", "description": "Original Poster, Most Recent Poster", "user": {"id": 809, "username": "elix22", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]}, {"id": 7344, "title": "Do we give up supporting dx11\uff1f", "fancy_title": "Do we give up supporting dx11\uff1f", "slug": "do-we-give-up-supporting-dx11", "posts_count": 3, "reply_count": 1, "highest_post_number": 3, "image_url": null, "created_at": "2022-11-03T09:37:37.893Z", "last_posted_at": "2022-11-03T13:09:15.153Z", "bumped": true, "bumped_at": "2022-11-03T15:28:58.128Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 78, "category_id": 9, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1510, "username": "SoNewBee", "name": "So New Bee", "avatar_template": "/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 263, "username": "1vanK", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]}, {"id": 7347, "title": "How does Urho handle script objects each frame?", "fancy_title": "How does Urho handle script objects each frame?", "slug": "how-does-urho-handle-script-objects-each-frame", "posts_count": 3, "reply_count": 1, "highest_post_number": 3, "image_url": null, "created_at": "2022-11-08T02:33:56.461Z", "last_posted_at": "2022-11-08T14:46:09.857Z", "bumped": true, "bumped_at": "2022-11-08T14:46:09.857Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 64, "category_id": 9, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1292, "username": "evolgames", "name": "evol", "avatar_template": "/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}, {"id": 7180, "title": "Adding Text3D to scene [SOLVED]", "fancy_title": "Adding Text3D to scene [SOLVED]", "slug": "adding-text3d-to-scene-solved", "posts_count": 4, "reply_count": 1, "highest_post_number": 4, "image_url": null, "created_at": "2022-02-01T17:48:21.806Z", "last_posted_at": "2022-02-01T19:19:32.934Z", "bumped": true, "bumped_at": "2022-02-01T19:19:32.934Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 141, "category_id": 7, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1499, "username": "csteaderman", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 484, "username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}, {"id": 7075, "title": "How pre-calculate tangents on vertices - model built in code?", "fancy_title": "How pre-calculate tangents on vertices - model built in code?", "slug": "how-pre-calculate-tangents-on-vertices-model-built-in-code", "posts_count": 4, "reply_count": 2, "highest_post_number": 4, "image_url": "https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/0/0e9c502d8d186f6e73e694514a63271e59fe1909.jpeg", "created_at": "2021-12-01T18:50:44.369Z", "last_posted_at": "2021-12-02T04:50:34.440Z", "bumped": true, "bumped_at": "2021-12-02T04:50:34.440Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 3, "views": 130, "category_id": 7, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1488, "username": "ToolmakerSteve", "name": "ToolmakerSteve", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 484, "username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}]}