{"post_stream":{"posts":[{"id":28483,"name":"","username":"I3DB","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png","created_at":"2019-02-22T18:53:28.021Z","cooked":"\u003cp\u003e\u003ca href=\"https://discourse.urho3d.io/t/urhosharp-hlsl-shader-issue-for-water-on-d3d11-paints-water-black/4944/15\"\u003eThis is a follow on to a prior post that was locked\u003c/a\u003e. Just wanted to provide a followup.\u003c/p\u003e\n\u003cp\u003eThe solution from that post had no effect on my situation, where water paints black in the water feature sample.\u003c/p\u003e\n\u003cp\u003eStill don’t know the root cause, but do think it is in the urhosharp implementation, and not related to urho3d engine specifically.\u003c/p\u003e\n\u003cp\u003eHere’s how to get clear water in that feature sample …\u003c/p\u003e\n\u003cp\u003eIn the water feature sample, if the waterMat is changed from TextureUnit.Diffuse to TextureUnit.Environment, and both reflectionplane and clippplane are commented out, then UWP water sample paints water clear, as shown:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/3/3948fd1e6bcb3898cebe8c8d83be56c0ab8d0ba4.jpeg\" alt=\"PNG\" width=\"645\" height=\"500\"\u003e\u003c/p\u003e\n\u003cp\u003eWith those same changes, running on otherwise working platforms (opengl) will cause the water to reflect the environment as if it is a mirror. Very different behavior from the UWP behavior on D3D11 which isn’t showing the environment at all.\u003c/p\u003e\n\u003cp\u003eThe water painting clear for UWP uses the nuget download of urhosharp, which uses a slightly modified urho3d 1.7 release, which doesn’t have the bug fix for \u003cspan class=\"hashtag\"\u003e#2232\u003c/span\u003e in it.\u003c/p\u003e\n\u003cp\u003eI’m not planning to do more with this, I’ve exceeded my experience level on what to do or how to approach this to find the underlying cause.\u003c/p\u003e\n\u003cp\u003eBut if the goal is clear water … this workaround provides it on UWP.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-02-22T18:53:28.021Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":4,"reads":25,"readers_count":24,"score":25.0,"yours":false,"topic_id":4952,"topic_slug":"d3d11-issues-on-uwp-continued-from-closed-post","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/urhosharp-hlsl-shader-issue-for-water-on-d3d11-paints-water-black/4944/15","internal":true,"reflection":false,"title":"UrhoSharp: HLSL Shader issue for water on D3D11 paints water black","clicks":4}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1086,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28485,"name":"","username":"cosar","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/94ad74/{size}.png","created_at":"2019-02-22T21:24:24.206Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/i3db\"\u003e@I3DB\u003c/a\u003e\u003cbr\u003e\nIf your goal is to remove water reflections, modifying the water shader is probably a better approach.\u003cbr\u003e\nThe way the water shader works is combining reflection (obtain by sampling diffuse texture) with the refraction (obtain by sampling environment texture). By not setting the diffuse texture with the generated reflection, the behavior will be undefined.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2019-02-22T21:24:24.206Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":9.2,"yours":false,"topic_id":4952,"topic_slug":"d3d11-issues-on-uwp-continued-from-closed-post","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":97,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28486,"name":"","username":"I3DB","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png","created_at":"2019-02-22T23:51:04.831Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"cosar\" data-post=\"2\" data-topic=\"4952\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/94ad74/40.png\" class=\"avatar\"\u003e cosar:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf your goal is to remove water reflections\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThe goal is for similar or identical behavior to the water feature sample.\u003c/p\u003e\n\u003cp\u003eGetting the water to paint clear instead of black is a positive change. Starting from painting black but with reflection. There’s something wrong in the shader/texture path for UWP and this issue is but one of several. My comment above is only useful for someone who is looking to get the water clear, not as a final solution.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2019-02-22T23:52:50.459Z","reply_count":0,"reply_to_post_number":2,"quote_count":1,"incoming_link_count":0,"reads":19,"readers_count":18,"score":3.8,"yours":false,"topic_id":4952,"topic_slug":"d3d11-issues-on-uwp-continued-from-closed-post","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1086,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[28483,28485,28486]},"timeline_lookup":[[1,1369]],"suggested_topics":[{"id":7185,"title":"Update Ray ray direction","fancy_title":"Update Ray ray direction","slug":"update-ray-ray-direction","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-02-05T00:28:45.414Z","last_posted_at":"2022-02-05T20:19:51.238Z","bumped":true,"bumped_at":"2022-02-05T20:19:51.238Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7074,"title":"First Person and 3rd person camera and water reflections","fancy_title":"First Person and 3rd person camera and water reflections","slug":"first-person-and-3rd-person-camera-and-water-reflections","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-01T18:37:28.669Z","last_posted_at":"2021-12-01T21:19:51.519Z","bumped":true,"bumped_at":"2021-12-01T21:19:51.519Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":158,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7193,"title":"Can Z-Axis Feasibly be \"Up\"?","fancy_title":"Can Z-Axis Feasibly be \u0026ldquo;Up\u0026rdquo;?","slug":"can-z-axis-feasibly-be-up","posts_count":4,"reply_count":2,"highest_post_number":4,"image_url":null,"created_at":"2022-02-14T05:17:28.054Z","last_posted_at":"2022-02-14T07:26:53.817Z","bumped":true,"bumped_at":"2022-02-14T07:26:53.817Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":161,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":4952,"title":"D3D11 issues on UWP continued from closed post","fancy_title":"D3D11 issues on UWP continued from closed post","posts_count":3,"created_at":"2019-02-22T18:53:27.908Z","views":339,"reply_count":1,"like_count":0,"last_posted_at":"2019-02-22T23:51:04.831Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"d3d11-issues-on-uwp-continued-from-closed-post","category_id":10,"word_count":386,"deleted_at":null,"user_id":1086,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/3948fd1e6bcb3898cebe8c8d83be56c0ab8d0ba4_2_1024x793.jpeg","slow_mode_seconds":0,"draft":null,"draft_key":"topic_4952","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":[{"max_width":null,"max_height":null,"width":1197,"height":927,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/3/3948fd1e6bcb3898cebe8c8d83be56c0ab8d0ba4.jpeg"},{"max_width":1024,"max_height":1024,"width":1024,"height":793,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/3948fd1e6bcb3898cebe8c8d83be56c0ab8d0ba4_2_1024x793.jpeg"}],"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1086,"username":"I3DB","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":97,"username":"cosar","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/94ad74/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1086,"username":"I3DB","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png"},"last_poster":{"id":1086,"username":"I3DB","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png"},"links":[{"url":"https://discourse.urho3d.io/t/urhosharp-hlsl-shader-issue-for-water-on-d3d11-paints-water-black/4944/15","title":"UrhoSharp: HLSL Shader issue for water on D3D11 paints water black","internal":true,"attachment":false,"reflection":false,"clicks":4,"user_id":1086,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"}]}}