{"post_stream":{"posts":[{"id":40575,"name":"Kai","username":"WangKai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","created_at":"2020-11-15T14:47:59.977Z","cooked":"\u003cp\u003eI found that the there is serious z-fighting on my Android phone. So I did a little investigation.\u003c/p\u003e\n\u003cp\u003eIt turned out that the format of the depth buffer created on my Android phone for Urho3D programs is \u003cstrong\u003e“D16”\u003c/strong\u003e while for OpenGL desktop / D3D11/D3D9, the default format of depth/stencil buffer is \u003cstrong\u003e“D24S8”\u003c/strong\u003e, which means on a physical mobile device, we are using 16bit depth vs 24bit normally on desktop! This surely causes a lot of issues.\u003c/p\u003e\n\u003cp\u003eI don’t know the design and history of Urho3D’s depth-buffer or detailed spec about EGL2.0, however, as a dirty quick test, by adding \u003ccode\u003eSDL_GL_SetAttribute(SDL_GL_DEPTH_SIZE, 24); \u003c/code\u003e into \u003ccode\u003eGraphics::SetScreenMode\u003c/code\u003e of \u003ccode\u003eOGLGraphics.cpp\u003c/code\u003e makes the demo run normal:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e#ifndef GL_ES_VERSION_2_0\n\n        SDL_GL_SetAttribute(SDL_GL_DEPTH_SIZE, 24);\n\n        SDL_GL_SetAttribute(SDL_GL_RED_SIZE, 8);\n\n        SDL_GL_SetAttribute(SDL_GL_GREEN_SIZE, 8);\n\n        SDL_GL_SetAttribute(SDL_GL_BLUE_SIZE, 8);\n\n        if (externalWindow_)\n\n            SDL_GL_SetAttribute(SDL_GL_ALPHA_SIZE, 8);\n\n        else\n\n            SDL_GL_SetAttribute(SDL_GL_ALPHA_SIZE, 0);\n\n        SDL_GL_SetAttribute(SDL_GL_STENCIL_SIZE, 8);\n\n        if (!forceGL2_)\n\n        {\n\n            SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, 3);\n\n            SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, 2);\n\n            SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK, SDL_GL_CONTEXT_PROFILE_CORE);\n\n        }\n\n        else\n\n        {\n\n            SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, 2);\n\n            SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, 0);\n\n            SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK, 0);\n\n        }\n\n#else\n\n        SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, 2);\n\n        SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, 0);\n\n        SDL_GL_SetAttribute(SDL_GL_DEPTH_SIZE, 24); //\u0026lt;========= !!! Quick Test!!!\n\n#endif\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI think this will ask SDL to use eglChooseConfig to query a 24 bit depth size display for us.\u003c/p\u003e\n\u003cp\u003eAdditionally, on my phone,  the following check passed, which means D24S8 is supported.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eif (CheckExtension(\"GL_OES_packed_depth_stencil\"))\n        glesDepthStencilFormat = GL_DEPTH24_STENCIL8_OES;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eShall we check this failed before we decide not to call \u003ccode\u003eSDL_GL_SetAttribute(SDL_GL_DEPTH_SIZE, 24);\u003c/code\u003e?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2020-11-15T14:51:46.512Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":17,"reads":36,"readers_count":35,"score":92.2,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Kai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/stencil-buffer-on-opengl-es-2-0/2323/11","internal":true,"reflection":true,"title":"Stencil Buffer on OpenGL ES 2.0","clicks":0}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":823,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40576,"name":"Kai","username":"WangKai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","created_at":"2020-11-15T14:56:24.058Z","cooked":"\u003cp\u003eI captuered the graphics trace of the app running my physical phone with RenderDoc.\u003c/p\u003e\n\u003cp\u003eThis is the info I got when watching the original backbuffer:\u003cbr\u003e\n\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/f/f7b83c4a71d2950605a17e54d2366c3769eb988b.png\" alt=\"image\" data-base62-sha1=\"zlqENcVdDQDTPDkWjRDMhIxxeHx\" width=\"302\" height=\"28\"\u003e\u003c/p\u003e\n\u003cp\u003eThis is the info I got after the quick fix:\u003cbr\u003e\n\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/4/49a359e8dedc5b408cee8289eaa0bd3e48dc1d89.png\" alt=\"image\" data-base62-sha1=\"avqPGIUviEVGSMlMWFlDliA1fiV\" width=\"368\" height=\"34\"\u003e\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2020-11-15T14:56:24.058Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":5.8,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Kai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":823,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40577,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2020-11-15T15:02:56.606Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"WangKai\" data-post=\"1\" data-topic=\"6526\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/wangkai/40/821_2.png\" class=\"avatar\"\u003e WangKai:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAdditionally, on my phone, the following check passed, which means D24S8 is supported.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThere is an issue tho. \u003ccode\u003eSDL_GL_DEPTH_SIZE\u003c/code\u003e should be set \u003cstrong\u003ebefore\u003c/strong\u003e context creation, and extension check can be done only \u003cstrong\u003eafter\u003c/strong\u003e context creation. So you cannot reliably check if you can actually set \u003ccode\u003eSDL_GL_DEPTH_SIZE\u003c/code\u003e to 24. I think the workaround was to create temporary context… But it will require certain work.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2020-11-15T15:03:47.886Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":30,"readers_count":29,"score":6.0,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40579,"name":"Kai","username":"WangKai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","created_at":"2020-11-15T15:12:01.855Z","cooked":"\u003cp\u003eThank for pointing out this Eugene,\u003c/p\u003e\n\u003cp\u003eI just checked SDL document \u003ca href=\"https://wiki.libsdl.org/SDL_GL_SetAttribute\" rel=\"noopener nofollow ugc\"\u003ehttps://wiki.libsdl.org/SDL_GL_SetAttribute\u003c/a\u003e\u003cbr\u003e\n\u003cstrong\u003e\"SDL_GL_DEPTH_SIZE - the minimum number of bits in the depth buffer; defaults to 16\"\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThis is truly an issue here. Any close faces look alright on desktop can potentially have z-fighting.\u003cbr\u003e\nI’m still looking for a way to work around this. Edit: this explains why every Urho3D sample I saw on my phone is always flickering.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2020-11-15T15:16:10.880Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":29,"readers_count":28,"score":20.8,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Kai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://wiki.libsdl.org/SDL_GL_SetAttribute","internal":false,"reflection":false,"title":"SDL_GL_SetAttribute - SDL Wiki'","clicks":1}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":823,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40580,"name":"Kai","username":"WangKai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","created_at":"2020-11-15T17:16:00.653Z","cooked":"\u003cp\u003eAnother way is try both 24 bit and 16bit depth , this is great code -\u003c/p\u003e\n\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/gameplay3d/gameplay/blob/4de92c4c6f8047db5dcb7f0dee8541c7e7ea5a80/gameplay/src/PlatformAndroid.cpp#L241\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/gameplay3d/gameplay/blob/4de92c4c6f8047db5dcb7f0dee8541c7e7ea5a80/gameplay/src/PlatformAndroid.cpp#L241\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egameplay3d/gameplay/blob/4de92c4c6f8047db5dcb7f0dee8541c7e7ea5a80/gameplay/src/PlatformAndroid.cpp#L241\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"onebox\"\u003e\u003ccode class=\"lang-cpp\"\u003e\u003col class=\"start lines\" start=\"231\" style=\"counter-reset: li-counter 230 ;\"\u003e\n\u003cli\u003e}\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli\u003eif (eglInitialize(__eglDisplay, NULL, NULL) != EGL_TRUE)\u003c/li\u003e\u003cli\u003e{\u003c/li\u003e\u003cli\u003e    checkErrorEGL(\"eglInitialize\");\u003c/li\u003e\u003cli\u003e    goto error;\u003c/li\u003e\u003cli\u003e}\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli\u003e// Try both 24 and 16-bit depth sizes since some hardware (i.e. Tegra) does not support 24-bit depth\u003c/li\u003e\u003cli\u003ebool validConfig = false;\u003c/li\u003e\u003cli class=\"selected\"\u003eEGLint depthSizes[] = { 24, 16 };\u003c/li\u003e\u003cli\u003efor (unsigned int i = 0; i \u0026lt; 2; ++i)\u003c/li\u003e\u003cli\u003e{\u003c/li\u003e\u003cli\u003e    eglConfigAttrs[1] = samples \u0026gt; 0 ? 1 : 0;\u003c/li\u003e\u003cli\u003e    eglConfigAttrs[3] = samples;\u003c/li\u003e\u003cli\u003e    eglConfigAttrs[5] = depthSizes[i];\u003c/li\u003e\u003cli\u003e\u003c/li\u003e\u003cli\u003e    if (eglChooseConfig(__eglDisplay, eglConfigAttrs, \u0026amp;__eglConfig, 1, \u0026amp;eglConfigCount) == EGL_TRUE \u0026amp;\u0026amp; eglConfigCount \u0026gt; 0)\u003c/li\u003e\u003cli\u003e    {\u003c/li\u003e\u003cli\u003e        validConfig = true;\u003c/li\u003e\u003cli\u003e        break;\u003c/li\u003e\n\u003c/ol\u003e\u003c/code\u003e\u003c/pre\u003e\n\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n","post_number":5,"post_type":1,"updated_at":"2020-11-15T17:16:00.653Z","reply_count":1,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":1,"reads":29,"readers_count":28,"score":15.8,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Kai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/gameplay3d/gameplay/blob/4de92c4c6f8047db5dcb7f0dee8541c7e7ea5a80/gameplay/src/PlatformAndroid.cpp#L241","internal":false,"reflection":false,"title":"gameplay/PlatformAndroid.cpp at 4de92c4c6f8047db5dcb7f0dee8541c7e7ea5a80 · gameplay3d/gameplay · GitHub","clicks":1}],"read":true,"user_title":"","reply_to_user":{"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":823,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40581,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2020-11-15T17:31:42.382Z","cooked":"\u003cp\u003eYep, we already do this stuff in Urho. Some kind of retry loop that tries several different context parameters. It checks multisampling now. I don’t know how to expand this loop for depth buffer as well.\u003c/p\u003e\n\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L426-L456\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L426-L456\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eurho3d/Urho3D/blob/master/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L426-L456\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"onebox\"\u003e\u003ccode class=\"lang-cpp\"\u003e\u003col class=\"start lines\" start=\"426\" style=\"counter-reset: li-counter 425 ;\"\u003e\n\u003cli\u003e        for (;;)\n\u003c/li\u003e\u003cli\u003e        {\n\u003c/li\u003e\u003cli\u003e            if (!externalWindow_)\n\u003c/li\u003e\u003cli\u003e                window_ = SDL_CreateWindow(windowTitle_.CString(), x, y, width, height, flags);\n\u003c/li\u003e\u003cli\u003e            else\n\u003c/li\u003e\u003cli\u003e            {\n\u003c/li\u003e\u003cli\u003e#ifndef __EMSCRIPTEN__\n\u003c/li\u003e\u003cli\u003e                if (!window_)\n\u003c/li\u003e\u003cli\u003e                    window_ = SDL_CreateWindowFrom(externalWindow_, SDL_WINDOW_OPENGL);\n\u003c/li\u003e\u003cli\u003e                newParams.fullscreen_ = false;\n\u003c/li\u003e\u003cli\u003e#endif\n\u003c/li\u003e\u003cli\u003e            }\n\u003c/li\u003e\u003cli\u003e\n\u003c/li\u003e\u003cli\u003e            if (window_)\n\u003c/li\u003e\u003cli\u003e                break;\n\u003c/li\u003e\u003cli\u003e            else\n\u003c/li\u003e\u003cli\u003e            {\n\u003c/li\u003e\u003cli\u003e                if (newParams.multiSample_ \u0026gt; 1)\n\u003c/li\u003e\u003cli\u003e                {\n\u003c/li\u003e\u003cli\u003e                    // If failed with multisampling, retry first without\n\u003c/li\u003e\n\u003c/ol\u003e\u003c/code\u003e\u003c/pre\u003e\n\n  This file has been truncated. \u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L426-L456\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eshow original\u003c/a\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n","post_number":6,"post_type":1,"updated_at":"2020-11-15T17:31:42.382Z","reply_count":1,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":2,"reads":28,"readers_count":27,"score":35.6,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L426-L456","internal":false,"reflection":false,"title":"Urho3D/OGLGraphics.cpp at master · urho3d/Urho3D · GitHub","clicks":2}],"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40586,"name":"Kai","username":"WangKai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","created_at":"2020-11-16T08:48:11.165Z","cooked":"\u003cp\u003eDone.\u003cbr\u003e\n\u003c/p\u003e\u003caside class=\"onebox githubcommit\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/SuperWangKai/Urho3D/commit/99566cf8bd2fbb0fc8df0f4dc60591f361d186f7\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com/SuperWangKai/Urho3D\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003cdiv class=\"github-row\"\u003e\n  \u003cdiv class=\"github-icon-container\" title=\"Commit\"\u003e\n    \u003csvg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"\u003e\u003cpath d=\"M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z\"\u003e\u003c/path\u003e\u003c/svg\u003e\n  \u003c/div\u003e\n\n  \u003cdiv class=\"github-info-container\"\u003e\n    \u003ch4\u003e\n      \u003ca href=\"https://github.com/SuperWangKai/Urho3D/commit/99566cf8bd2fbb0fc8df0f4dc60591f361d186f7\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eTry 24bit depth buffer first for GLES2.0. Improved multisampling selection.\u003c/a\u003e\n    \u003c/h4\u003e\n\n    \u003cdiv class=\"github-info\"\u003e\n      \u003cdiv class=\"date\"\u003e\n        committed \u003cspan class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2020-11-16\" data-time=\"08:42:23\" data-timezone=\"UTC\"\u003e08:42AM - 16 Nov 20 UTC\u003c/span\u003e\n      \u003c/div\u003e\n\n      \u003cdiv class=\"user\"\u003e\n        \u003ca href=\"\" rel=\"noopener\"\u003e\n          \u003cimg alt=\"\" src=\"\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\"\u003e\n          \n        \u003c/a\u003e\n        \n      \u003c/div\u003e\n\n      \u003cdiv class=\"lines\" title=\"changed 1 files with 38 additions and 30 deletions\"\u003e\n        \u003ca href=\"https://github.com/SuperWangKai/Urho3D/commit/99566cf8bd2fbb0fc8df0f4dc60591f361d186f7\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003e\n          \u003cspan class=\"added\"\u003e+38\u003c/span\u003e\n          \u003cspan class=\"removed\"\u003e-30\u003c/span\u003e\n        \u003c/a\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\n  \u003c/div\u003e\n\u003c/div\u003e\n\n\n\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n","post_number":7,"post_type":1,"updated_at":"2020-11-16T09:06:39.233Z","reply_count":1,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":0,"reads":24,"readers_count":23,"score":9.8,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Kai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/SuperWangKai/Urho3D/commit/99566cf8bd2fbb0fc8df0f4dc60591f361d186f7","internal":false,"reflection":false,"title":"Try 24bit depth buffer first for GLES2.0. Improved multisampling sele… · SuperWangKai/Urho3D@99566cf · GitHub","clicks":4}],"read":true,"user_title":"","reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":823,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40587,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2020-11-16T09:33:13.644Z","cooked":"\u003cp\u003eIt’s quite nasty approach tho. Would be even worse if we remember sRGB which should be tested in similar way (I don’t know why it’s not tested now).\u003cbr\u003e\nLemme check, maybe I’ll find better way.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2020-11-16T09:33:13.644Z","reply_count":1,"reply_to_post_number":7,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40588,"name":"Kai","username":"WangKai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","created_at":"2020-11-16T10:20:20.584Z","cooked":"\u003cp\u003ePlease go ahead.\u003c/p\u003e\n\u003cp\u003eFrom the current implementation in Urho OpenGL, it seems sRGB is not related to the code I changed.\u003c/p\u003e\n\u003cp\u003eEdit: sRGB of OGL seems not related to the context creation. If there are no more factors to extend the support, I think the code I’m current use should be OK.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2020-11-16T10:40:03.059Z","reply_count":1,"reply_to_post_number":8,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Kai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":823,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40589,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2020-11-16T13:13:38.950Z","cooked":"\u003cp\u003eI did a bit of googling, and apparently OpenGL doesn’t let user query max allowed values easily.\u003cbr\u003e\nI think your solution is good enough, we can always change it later.\u003c/p\u003e\n\u003cp\u003eI don’t like infinite loops in old code, cleaned it up a bit:\u003cbr\u003e\n\u003c/p\u003e\u003caside class=\"onebox githubpullrequest\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/urho3d/Urho3D/pull/2726\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com/urho3d/Urho3D\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003cdiv class=\"github-row\"\u003e\n  \u003cdiv class=\"github-icon-container\" title=\"Pull Request\"\u003e\n    \u003csvg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 12 16\" aria-hidden=\"true\"\u003e\u003cpath d=\"M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z\"\u003e\u003c/path\u003e\u003c/svg\u003e\n  \u003c/div\u003e\n\n  \u003cdiv class=\"github-info-container\"\u003e\n    \u003ch4\u003e\n      \u003ca href=\"https://github.com/urho3d/Urho3D/pull/2726\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eAdd support of 24-bit depth on mobiles.\u003c/a\u003e\n    \u003c/h4\u003e\n\n    \u003cdiv class=\"branches\"\u003e\n      \u003ccode\u003eurho3d:master\u003c/code\u003e ← \u003ccode\u003eeugeneko:master\u003c/code\u003e\n    \u003c/div\u003e\n\n    \u003cdiv class=\"github-info\"\u003e\n      \u003cdiv class=\"date\"\u003e\n        opened \u003cspan class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2020-11-16\" data-time=\"13:11:07\" data-timezone=\"UTC\"\u003e01:11PM - 16 Nov 20 UTC\u003c/span\u003e\n      \u003c/div\u003e\n\n      \u003cdiv class=\"user\"\u003e\n        \u003ca href=\"https://github.com/eugeneko\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003e\n          \u003cimg alt=\"eugeneko\" src=\"https://avatars0.githubusercontent.com/u/8576192?v=4\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\"\u003e\n          eugeneko\n        \u003c/a\u003e\n      \u003c/div\u003e\n\n      \u003cdiv class=\"lines\" title=\"1 commits changed 1 files with 35 additions and 31 deletions\"\u003e\n        \u003ca href=\"https://github.com/urho3d/Urho3D/pull/2726/files\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003e\n          \u003cspan class=\"added\"\u003e+35\u003c/span\u003e\n          \u003cspan class=\"removed\"\u003e-31\u003c/span\u003e\n        \u003c/a\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\n  \u003c/div\u003e\n\u003c/div\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\u003cbr\u003e\nI hope it’s okay.","post_number":10,"post_type":1,"updated_at":"2020-11-16T13:13:58.108Z","reply_count":1,"reply_to_post_number":9,"quote_count":0,"incoming_link_count":5,"reads":21,"readers_count":20,"score":64.2,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/pull/2726","internal":false,"reflection":false,"title":"Add support of 24-bit depth on mobiles. by eugeneko · Pull Request #2726 · urho3d/Urho3D · GitHub","clicks":10},{"url":"https://github.com/eugeneko","internal":false,"reflection":false,"title":"eugeneko (Eugene Kozlov) · GitHub","clicks":0},{"url":"https://github.com/urho3d/Urho3D/pull/2726/files","internal":false,"reflection":false,"title":"Add support of 24-bit depth on mobiles. by eugeneko · Pull Request #2726 · urho3d/Urho3D · GitHub","clicks":0}],"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":40606,"name":"Kai","username":"WangKai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","created_at":"2020-11-17T09:59:15.668Z","cooked":"\u003cp\u003eI like the change from \u003ccode\u003ewhile\u003c/code\u003e to \u003ccode\u003efor\u003c/code\u003e, makes simpler code  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2020-11-17T09:59:15.668Z","reply_count":0,"reply_to_post_number":10,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":4.4,"yours":false,"topic_id":6526,"topic_slug":"depth-stencil-buffer-issue-on-gles-2-0","display_username":"Kai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":823,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[40575,40576,40577,40579,40580,40581,40586,40587,40588,40589,40606]},"timeline_lookup":[[1,738],[5,737],[11,736]],"suggested_topics":[{"id":7285,"title":"Adding SFINAE for Container Operators","fancy_title":"Adding SFINAE for Container Operators","slug":"adding-sfinae-for-container-operators","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-06-22T02:05:49.368Z","last_posted_at":"2022-06-22T02:05:49.441Z","bumped":true,"bumped_at":"2022-06-22T02:05:49.441Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":98,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7290,"title":"Using HDR skies in scenes?","fancy_title":"Using HDR skies in scenes?","slug":"using-hdr-skies-in-scenes","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-07-01T22:10:02.015Z","last_posted_at":"2022-07-02T02:10:20.785Z","bumped":true,"bumped_at":"2022-07-02T02:10:20.785Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":133,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1529,"username":"hunkalloc","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/hunkalloc/{size}/3817_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7211,"title":"Particle is low","fancy_title":"Particle is low","slug":"particle-is-low","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-03-03T13:52:14.991Z","last_posted_at":"2022-04-20T05:18:36.122Z","bumped":true,"bumped_at":"2022-04-20T05:18:36.122Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":232,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1503,"username":"tianlv777","name":"zerrrrr","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/a4c791/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]},{"id":7262,"title":"iOS build cannot be installed on sim or device","fancy_title":"iOS build cannot be installed on sim or device","slug":"ios-build-cannot-be-installed-on-sim-or-device","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d889ae74b8b75bfe705a15b4cee71e82faea0f4d.png","created_at":"2022-05-12T15:33:33.531Z","last_posted_at":"2022-05-12T16:13:22.078Z","bumped":true,"bumped_at":"2022-05-12T16:13:22.078Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":95,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1340,"username":"KatekovAnton","name":"KatekovAnton","avatar_template":"/user_avatar/discourse.urho3d.io/katekovanton/{size}/2988_2.png"}}]},{"id":7318,"title":"How do I handle with gamma correction to the sky box?","fancy_title":"How do I handle with gamma correction to the sky box?","slug":"how-do-i-handle-with-gamma-correction-to-the-sky-box","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-08-25T07:18:27.593Z","last_posted_at":"2022-08-25T07:18:27.660Z","bumped":true,"bumped_at":"2022-08-25T07:18:27.660Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":79,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1490,"username":"Sunc","name":"DoubleSuper","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/df788c/{size}.png"}}]}],"tags_descriptions":{},"id":6526,"title":"Depth-stencil buffer issue on GLES 2.0","fancy_title":"Depth-stencil buffer issue on GLES 2.0","posts_count":11,"created_at":"2020-11-15T14:47:59.885Z","views":338,"reply_count":7,"like_count":3,"last_posted_at":"2020-11-17T09:59:15.668Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"depth-stencil-buffer-issue-on-gles-2-0","category_id":16,"word_count":666,"deleted_at":null,"user_id":823,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6526","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":11,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":823,"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","post_count":7,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":823,"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png"},"last_poster":{"id":823,"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png"},"links":[{"url":"https://github.com/urho3d/Urho3D/pull/2726","title":"Add support of 24-bit depth on mobiles. by eugeneko · Pull Request #2726 · urho3d/Urho3D · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":10,"user_id":484,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/SuperWangKai/Urho3D/commit/99566cf8bd2fbb0fc8df0f4dc60591f361d186f7","title":"Try 24bit depth buffer first for GLES2.0. Improved multisampling sele… · SuperWangKai/Urho3D@99566cf · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":823,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/OpenGL/OGLGraphics.cpp#L426-L456","title":"Urho3D/OGLGraphics.cpp at master · urho3d/Urho3D · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":484,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/gameplay3d/gameplay/blob/4de92c4c6f8047db5dcb7f0dee8541c7e7ea5a80/gameplay/src/PlatformAndroid.cpp#L241","title":"gameplay/PlatformAndroid.cpp at 4de92c4c6f8047db5dcb7f0dee8541c7e7ea5a80 · gameplay3d/gameplay · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":823,"domain":"github.com","root_domain":"github.com"},{"url":"https://wiki.libsdl.org/SDL_GL_SetAttribute","title":"SDL_GL_SetAttribute - SDL Wiki'","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":823,"domain":"wiki.libsdl.org","root_domain":"libsdl.org"}]}}