{"post_stream": {"posts": [{"id": 8825, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-03T19:45:57.000Z", "cooked": "<p><span class=\"bbcode-b\">EDIT</span>: latest version of SP you may found at this link (currently GL and DX11 only): <a href=\"https://github.com/1vanK/Urho3DSoftParticles\">github.com/1vanK/Urho3DSoftParticles</a></p>\n<p>Hi, today I try to read depth texture.<br>\nIn same time it using as depth buffer for testing and reading Z in alpha pass.</p>\n<p>file: ForwardHWDepth.xml</p>\n\n    \n...\n    \n        \n    \n...\n\n<p>Is it possible use depth in same time for testing samples and reading?</p>\n<p>maybe need use additional depth RT (r16) and populate it in all scene passes? and only then put it to TU for reading?</p>", "post_number": 1, "post_type": 1, "updated_at": "2017-01-02T01:08:24.672Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 107, "reads": 39, "readers_count": 38, "score": 542.8, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/1vanK/Urho3DSoftParticles", "internal": false, "reflection": false, "title": "GitHub - 1vanK/Urho3DSoftParticles: Urho3D Soft Particles", "clicks": 39}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8826, "name": "", "username": "Bananaft", "avatar_template": "/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png", "created_at": "2015-12-03T21:45:35.000Z", "cooked": "<p>So, is it not working?</p>\n<p>Aren\u2019t light volumes pass does it, in DefferedHWDepth and PrepassHWDepth?</p>", "post_number": 2, "post_type": 1, "updated_at": "2017-01-02T01:08:24.733Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 40, "readers_count": 39, "score": 8.0, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 165, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8829, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-04T07:34:51.000Z", "cooked": "<p>Oh, sorry my mistake.<br>\nI just do some test with reading from Z and suppose what I got wrong results in readed from Zbuffer.<br>\nI thought it was a mistake usage of depth buffer in same time for read and testing.</p>\n<p>and other questions:</p>\n<ol>\n<li>did you trying to reproject Z sample from depth buffer from (NDC space) to (ViewProj space before div by w) xyz/w value ?</li>\n</ol>\n<p>float hwDepth = texture2D(sDepthBuffer, vTexCoord).r; // Read Depth value<br>\nfloat rDepth = ReconstructDepth(hwDepth); // Reconstruct 0\u20261<br>\nWhat next step?</p>\n<ol start=\"2\">\n<li>\n<p>The value that will be written to DepthBuffer from VS shader:<br>\ngl_Position = GetClipPos(worldPos);<br>\nIs it this - gl_Position.z / gl_Position.w ?</p>\n</li>\n<li>\n<p>vWorldPos = vec4(worldPos, GetDepth(gl_Position));<br>\nWhat thing stored into last component (w) ?</p>\n</li>\n</ol>", "post_number": 3, "post_type": 1, "updated_at": "2017-01-02T01:08:24.943Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 2, "reads": 45, "readers_count": 44, "score": 19.0, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8840, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-04T23:13:31.000Z", "cooked": "<div class=\"lazyYT\" data-youtube-id=\"CHAKG73Sqcs\" data-youtube-title=\"soft particles bug on rotate around\" data-width=\"480\" data-height=\"270\" data-parameters=\"feature=oembed&amp;wmode=opaque\"></div>\n<p>Hi  again, I have a some process there, but i stuck in place with comparing sceneZ and particleZ.<br>\nAs you see on this vedeo if i change a position of camera (rotate around) there is bug, particles are disappears.<br>\nI guessing this is because I have some problems with math difference between background sceneZ value and particleZ value.<br>\nand I do not actually know what of this reprojecties are wrong in my shader.</p>\n<p>I have a this algorithm:</p>\n<p>RenderPath</p>\n<pre><code class=\"lang-auto\">    &lt;!-- Render SoftParticles --&gt; \n    &lt;command type=\"scenepass\" pass=\"softparticles\" vertexlights=\"true\" sort=\"backtofront\" metadata=\"alpha\" blend=\"replace\" output=\"viewport\"&gt;\n        &lt;texture unit=\"depth\" name=\"depth\" /&gt;\n    &lt;/command&gt;\n</code></pre>\n<p>Technique for particles<br>\nDiffVColUnlitAlphaSP.xml</p>\n<pre><code class=\"lang-auto\">&lt;technique vs=\"UnlitSP\" ps=\"UnlitSP\" vsdefines=\"VERTEXCOLOR SP\" psdefines=\"DIFFMAP VERTEXCOLOR SP\"&gt;\n    &lt;pass name=\"softparticles\" depthtest=\"always\" depthwrite=\"false\" blend=\"alpha\" /&gt;\n&lt;/technique\n</code></pre>\n<p>and shader UnlitSP.glsl</p>\n<div class=\"spoiler\">\n<p><a href=\"http://pastebin.com/2MCWLkKq\">http://pastebin.com/2MCWLkKq</a></p>\n</div>\n<p>I suppose what I do wrong converting sceneZ into ViewProj space or particleZ into ViewProj space. (mb need get ViewProjInvert matrix from camera to project  with sceneZ * ViewProjInvert)<br>\nIs any body have some ideas how to solve rotation bug ?</p>", "post_number": 4, "post_type": 1, "updated_at": "2017-03-28T16:43:16.513Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 5, "reads": 44, "readers_count": 43, "score": 33.8, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://pastebin.com/2MCWLkKq", "internal": false, "reflection": false, "title": "[C++] #include \"Uniforms.glsl\" #include \"Samplers.glsl\" #include \"Transform.glsl\" # - Pastebin.com", "clicks": 5}, {"url": "https://www.youtube.com/watch?v=CHAKG73Sqcs", "internal": false, "reflection": false, "title": "soft particles bug on rotate around", "clicks": 1}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8841, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2015-12-04T23:53:00.000Z", "cooked": "<p>i create material</p>\n<p><code>&lt;material&gt;\n    &lt;technique name=\"Techniques/DiffVColUnlitAlphaSP.xml\" /&gt;\n    &lt;texture unit=\"diffuse\" name=\"Urho2D/Ball.png\" /&gt;\n&lt;/material&gt;\n</code></p>\n<p>and it is fully transparent</p>\n<p>p.s. Where did the variable cProj in shader?</p>", "post_number": 5, "post_type": 1, "updated_at": "2017-01-02T01:08:25.825Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 39, "readers_count": 38, "score": 7.8, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8843, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-05T08:21:47.000Z", "cooked": "<blockquote>\n<p>and it is fully transparent<br>\nI use for testing tweaked smoke.xml</p>\n</blockquote>\n<blockquote>\n<p>p.s. Where did the variable cProj in shader?<br>\nactually I add this matrixes and pass they in:</p>\n</blockquote>\n<p><code>void View::SetCameraShaderParameters(Camera* camera, bool setProjection)\n{\n        graphics_-&gt;SetShaderParameter(VSP_VIEWPROJ, projection * camera-&gt;GetView());\n        graphics_-&gt;SetShaderParameter(VSP_VIEW, Matrix4::IDENTITY * camera-&gt;GetView());\n        graphics_-&gt;SetShaderParameter(VSP_PROJ, projection);\n}</code></p>\n<p>also you need after what fix uniforms.glsl to set visible this uniforms for PS shader</p>\n<pre><code class=\"lang-auto\">// OpenGL 2 uniforms (no constant buffers)\n\nuniform mat4 cViewProj;\nuniform mat4 cProj;\n\n#ifdef COMPILEVS\n...</code></pre>", "post_number": 6, "post_type": 1, "updated_at": "2017-01-02T01:08:25.970Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 52, "readers_count": 51, "score": 10.4, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8857, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2015-12-06T08:05:11.000Z", "cooked": "<p>I found a solution (and modification of the engine is not required)</p>\n<p>CoreData\\RenderPaths\\ForwardHWDepth_SoftParticles.xml (based on ForwardHWDepth)</p>\n<pre><code class=\"lang-auto\">&lt;renderpath&gt;\n    &lt;rendertarget name=\"depth\" sizedivisor=\"1 1\" format=\"readabledepth\" /&gt;\n    &lt;command type=\"clear\" depth=\"1.0\" output=\"depth\" /&gt;\n    &lt;command type=\"scenepass\" pass=\"shadow\" output=\"depth\" /&gt;\n    &lt;command type=\"clear\" color=\"fog\" depthstencil=\"depth\" /&gt;\n    &lt;command type=\"scenepass\" pass=\"base\" vertexlights=\"true\" metadata=\"base\" depthstencil=\"depth\" /&gt;\n    &lt;command type=\"forwardlights\" pass=\"light\" depthstencil=\"depth\" /&gt;\n    &lt;command type=\"scenepass\" pass=\"postopaque\" depthstencil=\"depth\" /&gt;\n    &lt;command type=\"scenepass\" pass=\"refract\" depthstencil=\"depth\"&gt;\n        &lt;texture unit=\"environment\" name=\"viewport\" /&gt;\n    &lt;/command&gt;\n    &lt;command type=\"scenepass\" pass=\"alpha\" vertexlights=\"true\" sort=\"backtofront\" metadata=\"alpha\" depthstencil=\"depth\"  /&gt;\n    &lt;command type=\"scenepass\" pass=\"postalpha\" sort=\"backtofront\" depthstencil=\"depth\" /&gt;\n    &lt;!-- Render SoftParticles --&gt;\n    &lt;command type=\"scenepass\" pass=\"softparticles\" vertexlights=\"true\" sort=\"backtofront\" metadata=\"alpha\" blend=\"replace\" output=\"viewport\"&gt;\n        &lt;texture unit=\"depth\" name=\"depth\" /&gt;\n    &lt;/command&gt;\n&lt;/renderpath&gt;</code></pre>\n<p>CoreData\\Shaders\\GLSL\\UnlitSP.glsl (based on unlit)</p>\n<pre><code class=\"lang-auto\">#include \"Uniforms.glsl\"\n#include \"Samplers.glsl\"\n#include \"Transform.glsl\"\n#include \"ScreenPos.glsl\"\n#include \"Fog.glsl\"\n\nvarying vec2 vTexCoord;\nvarying vec4 vWorldPos;\nvarying vec4 vScreenPos;\n#ifdef VERTEXCOLOR\n    varying vec4 vColor;\n#endif\n\nvoid VS()\n{\n    mat4 modelMatrix = iModelMatrix;\n    vec3 worldPos = GetWorldPos(modelMatrix);\n    gl_Position = GetClipPos(worldPos);\n    vTexCoord = GetTexCoord(iTexCoord);\n    vWorldPos = vec4(worldPos, GetDepth(gl_Position));\n    vScreenPos = GetScreenPos(gl_Position);\n\n    #ifdef VERTEXCOLOR\n        vColor = iColor;\n    #endif\n}\n\nvoid PS()\n{\n    // Get material diffuse albedo\n    #ifdef DIFFMAP\n        vec4 diffColor = cMatDiffColor * texture2D(sDiffMap, vTexCoord);\n        #ifdef ALPHAMASK\n            if (diffColor.a &lt; 0.5)\n                discard;\n        #endif\n    #else\n        vec4 diffColor = cMatDiffColor;\n    #endif\n\n    #ifdef VERTEXCOLOR\n        diffColor *= vColor;\n    #endif\n\n    // Get fog factor\n    #ifdef HEIGHTFOG\n        float fogFactor = GetHeightFogFactor(vWorldPos.w, vWorldPos.y);\n    #else\n        float fogFactor = GetFogFactor(vWorldPos.w);\n    #endif\n\n    #if defined(PREPASS)\n        // Fill light pre-pass G-Buffer\n        gl_FragData[0] = vec4(0.5, 0.5, 0.5, 1.0);\n        gl_FragData[1] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n    #elif defined(DEFERRED)\n        gl_FragData[0] = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n        gl_FragData[1] = vec4(0.0, 0.0, 0.0, 0.0);\n        gl_FragData[2] = vec4(0.5, 0.5, 0.5, 1.0);\n        gl_FragData[3] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n    #else\n\n        float particleDepth = vWorldPos.w;\n        float solidGeometrydepth = ReconstructDepth(texture2DProj(sDepthBuffer, vScreenPos).r); // use ReconstructDepth when HWDEPTH\n    \n        if (solidGeometrydepth &lt;= particleDepth)\n        {\n            float deltaDepth = (particleDepth - solidGeometrydepth) * 1000;\n            diffColor.a -= deltaDepth;\n        }\n    \n        gl_FragColor = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n    \n    #endif\n}</code></pre>\n<p>CoreData\\Techniques\\DiffVColUnlitAlphaSP.xml (based on DiffVColUnlitAlpha)</p>\n<pre><code class=\"lang-auto\">&lt;technique vs=\"UnlitSP\" ps=\"UnlitSP\" vsdefines=\"VERTEXCOLOR SP\" psdefines=\"DIFFMAP VERTEXCOLOR SP\"&gt;\n    &lt;pass name=\"softparticles\" depthtest=\"always\" depthwrite=\"false\" blend=\"alpha\" /&gt;\n&lt;/technique&gt;</code></pre>\n<p>Data\\Materials\\SmokeSoftParticle.xml (based on Smoke)</p>\n<pre><code class=\"lang-auto\">&lt;material&gt;\n    &lt;technique name=\"Techniques/DiffVColUnlitAlphaSP.xml\" /&gt;\n    &lt;texture unit=\"diffuse\" name=\"Textures/Smoke.dds\" /&gt;\n&lt;/material&gt;</code></pre>\n<p>Data\\Particle\\SmokeStackSoftParticle.xml (based on Smoke)</p>\n<pre><code class=\"lang-auto\">&lt;?xml version=\"1.0\"?&gt;\n&lt;particleeffect&gt;\n\t&lt;material name=\"Materials/SmokeSoftParticle.xml\" /&gt;\n\t&lt;numparticles value=\"1000\" /&gt;\n\t&lt;updateinvisible enable=\"true\" /&gt;\n\t&lt;relative enable=\"false\" /&gt;\n\t&lt;scaled enable=\"true\" /&gt;\n\t&lt;sorted enable=\"true\" /&gt;\n\t&lt;animlodbias value=\"0\" /&gt;\n\t&lt;emittertype value=\"Box\" /&gt;\n\t&lt;emittersize value=\"1 1 1\" /&gt;\n\t&lt;direction min=\"-0.15 1 -0.15\" max=\"0.15 1 0.15\" /&gt;\n\t&lt;constantforce value=\"0 2 0\" /&gt;\n\t&lt;dampingforce value=\"2\" /&gt;\n\t&lt;activetime value=\"0\" /&gt;\n\t&lt;inactivetime value=\"0\" /&gt;\n\t&lt;emissionrate min=\"100\" max=\"200\" /&gt;\n\t&lt;particlesize min=\"0.1 0.2\" max=\"0.6 0.7\" /&gt;\n\t&lt;timetolive min=\"4\" max=\"4\" /&gt;\n\t&lt;velocity min=\"0.5\" max=\"3\" /&gt;\n\t&lt;rotation min=\"0\" max=\"0\" /&gt;\n\t&lt;rotationspeed min=\"60\" max=\"60\" /&gt;\n\t&lt;sizedelta add=\"0\" mul=\"1.3\" /&gt;\n\t&lt;colorfade color=\"1 1 1 0\" time=\"0\" /&gt;\n\t&lt;colorfade color=\"0.69 0.33 0.2 0.5\" time=\"0.64\" /&gt;\n\t&lt;colorfade color=\"0 0 0 0\" time=\"1.98\" /&gt;\n\t&lt;colorfade color=\"0 0 0 0\" time=\"4\" /&gt;\n&lt;/particleeffect&gt;</code></pre>\n<p>Old:<br>\n<a href=\"http://savepic.su/6730046.htm\" data-bbcode=\"true\"><img src=\"http://savepic.su/6730046m.png\" alt=\"\" width=\"\" height=\"\"></a></p>\n<p>New:<br>\n<a href=\"http://savepic.su/6718782.htm\" data-bbcode=\"true\"><img src=\"http://savepic.su/6718782m.png\" alt=\"\" width=\"\" height=\"\"></a></p>", "post_number": 7, "post_type": 1, "updated_at": "2017-01-02T01:08:27.028Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 74, "reads": 52, "readers_count": 51, "score": 380.4, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://savepic.su/6730046.htm", "internal": false, "reflection": false, "title": "\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 6730046 | \u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 : \u0445\u043e\u0441\u0442\u0438\u043d\u0433 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a : \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u043a : \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 : \u0444\u043e\u0442\u043e\u0445\u043e\u0441\u0442\u0438\u043d\u0433 : Free Image Hosting", "clicks": 11}, {"url": "http://savepic.su/6718782.htm", "internal": false, "reflection": false, "title": "\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 6718782 | \u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 : \u0445\u043e\u0441\u0442\u0438\u043d\u0433 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a : \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u043a : \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 : \u0444\u043e\u0442\u043e\u0445\u043e\u0441\u0442\u0438\u043d\u0433 : Free Image Hosting", "clicks": 8}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8858, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2015-12-06T08:52:45.000Z", "cooked": "<p>Here is possible make some improvements:<br>\nsend to shader a coefficient (replacing 1000) from material in the case of large sprites (Like explosions)</p>", "post_number": 8, "post_type": 1, "updated_at": "2017-01-02T01:08:27.134Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 33, "readers_count": 32, "score": 6.6, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8859, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-06T09:38:18.000Z", "cooked": "<p>Wow, great job.<br>\nDid you tried to  create some solid blocs around smoke to test overlaying effect?<br>\nI also find this different functions:</p>\n<pre><code class=\"lang-auto\">//vec2 vScreenPos = GetScreenPosPreDiv(gl_Position);\n    vec4 vScreenPos = GetScreenPos(gl_Position);[/code]\n\nin what case we may use each of them ? I do not understand.\n\n&gt;float sceneZ = texture2DProj(sDepthBuffer, vScreenPos).r;   // read depthstencil texture(readabledepth)\nthe using texture2DProj is providing from previous operation step because size of  vScreenPos is vec4 and not vec2, or there is another reason? ( why we use texture projection? and no simple texture2D )\n\nthere is magic number I guess 1000 ? If we change this block of code to NV's code from whitepaper is still will be working properly?\n[code]        if (solidGeometrydepth &lt;= particleDepth)\n        {\n            float deltaDepth = (particleDepth - solidGeometrydepth) * 1000;\n            diffColor.a -= deltaDepth;\n        }</code></pre>\n<p>to</p>\n<p>[code]           float scale = 1.0;<br>\nfloat diffZ = (particleDepth - solidGeometrydepth)</p>\n<pre><code>        float input = clamp(diffZ, 0.0, 1.0);\n        float contrastPower = 1.0;\n        float output = 0.5 * pow(clamp(2*((input &gt; 0.5) ? 1 - input : input), 0.0, 1.0), contrastPower);\n        float weight = (input &gt; 0.5) ? 1 - output : output; \n        \n        diffColor.a *= weight;\n</code></pre>\n<p>[/code]</p>\n<p>I mean in using NV\u2019s tech we got two controls values what very handy: the control of contrast and scale.</p>", "post_number": 9, "post_type": 1, "updated_at": "2017-01-02T01:08:27.201Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 35, "readers_count": 34, "score": 12.0, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8860, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2015-12-06T10:07:51.000Z", "cooked": "<blockquote>\n<p>in what case we may use each of them ? I do not understand.<br>\nthe using texture2DProj is providing from previous operation step because size of vScreenPos is vec4 and not vec2, or there is another reason?</p>\n</blockquote>\n<p>i just copy random code from PrepassLight.glss xD</p>\n<blockquote>\n<p>there is magic number I guess 1000 ? If we change this block of code to NV\u2019s code from whitepaper is still will be working properly?</p>\n</blockquote>\n<p>I did not study the documentation in detail. The higher the number, the greater the depth difference will affect the transparency (most of the hidden part of sprite will be visible).</p>", "post_number": 10, "post_type": 1, "updated_at": "2017-01-02T01:08:27.269Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 33, "readers_count": 32, "score": 6.6, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8861, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-06T10:40:11.000Z", "cooked": "<p>I\u2019m tesing you shader and \u201coverlaying\u201d is not presented I guess it work fine for now.</p>\n<blockquote>\n<p>i just copy random code from PrepassLight.glss xD<br>\ni am always wanted to write shaders in this manner, and in same time i wanted to they should work as I expect xD</p>\n</blockquote>\n<blockquote>\n<p>I did not study the documentation in detail.<br>\nThere is no documentation about shaders using )<br>\nFor example what differences between: this -&gt; GetScreenPosPreDiv() and this -&gt; GetScreenPos() and many other things\u2026</p>\n</blockquote>\n<p>Anyway I think you may try to create pull request with your SoftParticles.<br>\nIn future we can polish they )</p>", "post_number": 11, "post_type": 1, "updated_at": "2017-01-02T01:08:27.328Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 33, "readers_count": 32, "score": 6.6, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8862, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2015-12-06T11:06:39.000Z", "cooked": "<p>[quote=\u201ccodingmonkey\u201d]<br>\nAnyway I think you may try to create pull request with your SoftParticles.<br>\nIn future we can polish they )[/quote]</p>\n<p>It will not work in all RenderPaths. I do not think it will take to master. Just rename this post to \u201cSoft Particles\u201d and and anyone can take shader here.</p>", "post_number": 12, "post_type": 1, "updated_at": "2017-01-02T01:08:27.387Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 32, "readers_count": 31, "score": 6.4, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8863, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-06T11:20:48.000Z", "cooked": "<p>Ok, but may be you create small repo for store all stuff in one place also for fixes and updating ?</p>\n<ul>\n<li>also need add hlsl shader for SoftParticles</li>\n</ul>", "post_number": 13, "post_type": 1, "updated_at": "2017-01-02T01:08:27.454Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 30, "readers_count": 29, "score": 6.0, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8864, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2015-12-06T11:22:14.000Z", "cooked": "<p>[quote=\u201ccodingmonkey\u201d]Ok, but may be you create small repo for store all stuff in one place also for fixes and updating ?</p>\n<ul>\n<li>also need add hlsl shader for SoftParticles[/quote]</li>\n</ul>\n<p>no problems <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>\n<p>EDIT: <a href=\"https://github.com/1vanK/Urho3DSoftParticles\">github.com/1vanK/Urho3DSoftParticles</a></p>", "post_number": 14, "post_type": 1, "updated_at": "2017-01-02T01:08:27.510Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 2, "reads": 31, "readers_count": 30, "score": 16.2, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/1vanK/Urho3DSoftParticles", "internal": false, "reflection": false, "title": "GitHub - 1vanK/Urho3DSoftParticles: Urho3D Soft Particles", "clicks": 14}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8866, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-06T13:01:41.000Z", "cooked": "<blockquote>\n<p><a href=\"https://github.com/1vanK/Urho3DSoftParticles\">https://github.com/1vanK/Urho3DSoftParticles</a></p>\n</blockquote>\n<p>cool, but I found what it no working in ortho projection (when you press key 5 on numpad)</p>", "post_number": 15, "post_type": 1, "updated_at": "2017-01-02T01:08:27.633Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 32, "readers_count": 31, "score": 11.4, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/1vanK/Urho3DSoftParticles", "internal": false, "reflection": false, "title": "GitHub - 1vanK/Urho3DSoftParticles: Urho3D Soft Particles", "clicks": 6}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8867, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2015-12-06T13:09:17.000Z", "cooked": "<p>[quote=\u201ccodingmonkey\u201d]<br>\ncool, but I found what it no working in ortho projection (when you press key 5 on numpad)[/quote]</p>\n<p><a href=\"http://savepic.su/6700395.htm\" data-bbcode=\"true\"><img src=\"http://savepic.su/6700395m.png\" alt=\"\" width=\"\" height=\"\"></a></p>", "post_number": 16, "post_type": 1, "updated_at": "2017-01-02T01:08:27.696Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 34, "readers_count": 33, "score": 6.8, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://savepic.su/6700395.htm", "internal": false, "reflection": false, "title": "\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 6700395 | \u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 : \u0445\u043e\u0441\u0442\u0438\u043d\u0433 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a : \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u043a : \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 : \u0444\u043e\u0442\u043e\u0445\u043e\u0441\u0442\u0438\u043d\u0433 : Free Image Hosting", "clicks": 3}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8868, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-06T13:59:38.000Z", "cooked": "<p>Oh, sorry I understood, I\u2019m use not your original shader )<br>\nanyway I found there this 1000 value are lay (Editor settings camera far clip) - this is camera far value.<br>\nIn PS shader this is cFarClipPS uniform<br>\nI guessing the scale may be calc with this way:<br>\nfloat scale = cFarClipPS - cNearClipPS;</p>", "post_number": 17, "post_type": 1, "updated_at": "2017-01-02T01:08:27.762Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 34, "readers_count": 33, "score": 6.8, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8869, "name": "", "username": "szamq", "avatar_template": "/user_avatar/discourse.urho3d.io/szamq/{size}/66_2.png", "created_at": "2015-12-06T14:46:06.000Z", "cooked": "<p>Nice, would be that also possible on the deffered render path?</p>", "post_number": 18, "post_type": 1, "updated_at": "2017-01-02T01:08:27.832Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 33, "readers_count": 32, "score": 6.6, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 13, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 8870, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-06T15:23:20.000Z", "cooked": "<blockquote>\n<p>would be that also possible on the deffered render path?<br>\nYes it possible, few lines to add in deffered</p>\n</blockquote>\n<p>DeferredHWDepthSP.xml (in simple Deferred.xml we do not have possibility to read depth. That\u2019s why this working only with %name%HWDepth )</p>\n<pre><code class=\"lang-auto\">&lt;renderpath&gt;\n    &lt;rendertarget name=\"albedo\" sizedivisor=\"1 1\" format=\"rgba\" /&gt;\n    &lt;rendertarget name=\"normal\" sizedivisor=\"1 1\" format=\"rgba\" /&gt;\n    &lt;rendertarget name=\"depth\" sizedivisor=\"1 1\" format=\"readabledepth\" /&gt;\n    &lt;command type=\"clear\" color=\"fog\" depth=\"1.0\" stencil=\"0\" depthstencil=\"depth\" /&gt;\n    &lt;command type=\"clear\" color=\"0 0 0 0\" output=\"albedo\" depthstencil=\"depth\" /&gt;\n    &lt;command type=\"scenepass\" pass=\"deferred\" marktostencil=\"true\" vertexlights=\"true\" metadata=\"gbuffer\" depthstencil=\"depth\"&gt;\n        &lt;output index=\"0\" name=\"viewport\" /&gt;\n        &lt;output index=\"1\" name=\"albedo\" /&gt;\n        &lt;output index=\"2\" name=\"normal\" /&gt;\n    &lt;/command&gt;\n    &lt;command type=\"lightvolumes\" vs=\"DeferredLight\" ps=\"DeferredLight\" psdefines=\"HWDEPTH\" depthstencil=\"depth\"&gt;\n        &lt;texture unit=\"albedo\" name=\"albedo\" /&gt;\n        &lt;texture unit=\"normal\" name=\"normal\" /&gt;\n        &lt;texture unit=\"depth\" name=\"depth\" /&gt;\n    &lt;/command&gt;\n    &lt;command type=\"scenepass\" pass=\"postopaque\" depthstencil=\"depth\" /&gt;\n    &lt;command type=\"scenepass\" pass=\"refract\" depthstencil=\"depth\"&gt;\n        &lt;texture unit=\"environment\" name=\"viewport\" /&gt;\n    &lt;/command&gt;\n    &lt;command type=\"scenepass\" pass=\"alpha\" vertexlights=\"true\" sort=\"backtofront\" metadata=\"alpha\" depthstencil=\"depth\" /&gt;\n    \n    &lt;command type=\"scenepass\" pass=\"softparticles\" vertexlights=\"true\" sort=\"backtofront\" metadata=\"alpha\" blend=\"replace\" output=\"viewport\"&gt;\n        &lt;texture unit=\"depth\" name=\"depth\" /&gt;\n    &lt;/command&gt;\n    \n    &lt;command type=\"scenepass\" pass=\"postalpha\" sort=\"backtofront\" depthstencil=\"depth\" /&gt;\n&lt;/renderpath&gt;</code></pre>\n<p>and move soft particle calculations in shader little upper</p>\n<p>UnlitSP.glsl</p>\n<pre><code class=\"lang-auto\">#include \"Uniforms.glsl\"\n#include \"Samplers.glsl\"\n#include \"Transform.glsl\"\n#include \"ScreenPos.glsl\"\n#include \"Fog.glsl\"\n\nvarying vec2 vTexCoord;\nvarying vec4 vWorldPos;\nvarying vec4 vScreenPos;\n#ifdef VERTEXCOLOR\n    varying vec4 vColor;\n#endif\n\nvoid VS()\n{\n    mat4 modelMatrix = iModelMatrix;\n    vec3 worldPos = GetWorldPos(modelMatrix);\n    gl_Position = GetClipPos(worldPos);\n    vTexCoord = GetTexCoord(iTexCoord);\n    vWorldPos = vec4(worldPos, GetDepth(gl_Position));\n    vScreenPos = GetScreenPos(gl_Position);\n    //vScreenPos = GetScreenPosPreDiv(gl_Position);\n\n    #ifdef VERTEXCOLOR\n        vColor = iColor;\n    #endif\n}\n\nvoid PS()\n{\n    // Get material diffuse albedo\n    #ifdef DIFFMAP\n        vec4 diffColor = cMatDiffColor * texture2D(sDiffMap, vTexCoord);\n        #ifdef ALPHAMASK\n            if (diffColor.a &lt; 0.5)\n                discard;\n        #endif\n    #else\n        vec4 diffColor = cMatDiffColor;\n    #endif\n\n    #ifdef VERTEXCOLOR\n        diffColor *= vColor;\n    #endif\n\n    // Get fog factor\n    #ifdef HEIGHTFOG\n        float fogFactor = GetHeightFogFactor(vWorldPos.w, vWorldPos.y);\n    #else\n        float fogFactor = GetFogFactor(vWorldPos.w);\n    #endif\n    \n    float particleDepth = vWorldPos.w;\n    float solidGeometrydepth = ReconstructDepth(texture2DProj(sDepthBuffer, vScreenPos).r); // use ReconstructDepth when HWDEPTH\n        \n    if (solidGeometrydepth &lt; particleDepth)\n    {\n        float scale = cFarClipPS - cNearClipPS;\n        float deltaDepth = (particleDepth - solidGeometrydepth) * scale;    \n         \n        diffColor.a -= deltaDepth;\n    }\n    \n    #if defined(PREPASS)\n        // Fill light pre-pass G-Buffer\n        gl_FragData[0] = vec4(0.5, 0.5, 0.5, 1.0);\n        gl_FragData[1] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n    #elif defined(DEFERRED)\n        gl_FragData[0] = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n        gl_FragData[1] = vec4(0.0, 0.0, 0.0, 0.0);\n        gl_FragData[2] = vec4(0.5, 0.5, 0.5, 1.0);\n        gl_FragData[3] = vec4(EncodeDepth(vWorldPos.w), 0.0);\n    #else    \n        gl_FragColor = vec4(GetFog(diffColor.rgb, fogFactor), diffColor.a);\n    #endif\n}</code></pre>", "post_number": 19, "post_type": 1, "updated_at": "2017-01-02T01:08:27.905Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 35, "readers_count": 34, "score": 7.0, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9122, "name": "", "username": "franck22000", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png", "created_at": "2015-12-18T10:50:02.000Z", "cooked": "<p>Anyone is planning to make a pull request in master branch to add this ? I think it\u2019s a must have feature for a modern engine <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>", "post_number": 20, "post_type": 1, "updated_at": "2017-01-02T01:08:46.410Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 32, "readers_count": 31, "score": 6.4, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 174, "hidden": false, "trust_level": 1, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9124, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2015-12-18T12:32:51.000Z", "cooked": "<aside class=\"quote no-group\" data-username=\"franck22000\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/40.png\" class=\"avatar\"> franck22000:</div>\n<blockquote>\n<p>Anyone is planning to make a pull request in master branch to add this ? I think it\u2019s a must have feature for a modern engine <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=10\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>\n</blockquote>\n</aside>\n<p>We had a big discussion with CodingMonkey and came to the conclusion that still need to do much</p>\n<p><a href=\"https://github.com/1vanK/Urho3DSoftParticles/pull/3\">github.com/1vanK/Urho3DSoftParticles/pull/3</a> (sorry, the Russian language)</p>", "post_number": 21, "post_type": 1, "updated_at": "2017-01-02T01:08:46.571Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 1, "incoming_link_count": 0, "reads": 34, "readers_count": 33, "score": 6.8, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/1vanK/Urho3DSoftParticles/pull/3", "internal": false, "reflection": false, "title": "Soft particles fix3 by MonkeyFirst \u00b7 Pull Request #3 \u00b7 1vanK/Urho3DSoftParticles \u00b7 GitHub", "clicks": 13}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 9127, "name": "", "username": "codingmonkey", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "created_at": "2015-12-18T14:22:58.000Z", "cooked": "<p>Yes,  <span class=\"bbcode-b\">1vanK</span> is right, there is still needed to do some polishing.<br>\nBut you also can use it now, just copy shaders and technics.</p>", "post_number": 22, "post_type": 1, "updated_at": "2017-01-02T01:08:46.781Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 32, "readers_count": 31, "score": 6.4, "yours": false, "topic_id": 1548, "topic_slug": "soft-particles", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 148, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}], "stream": [8825, 8826, 8829, 8840, 8841, 8843, 8857, 8858, 8859, 8860, 8861, 8862, 8863, 8864, 8866, 8867, 8868, 8869, 8870, 9122, 9124, 9127]}, "timeline_lookup": [[1, 2546], [4, 2545], [7, 2544], [20, 2532]], "tags_descriptions": {}, "id": 1548, "title": "Soft Particles", "fancy_title": "Soft Particles", "posts_count": 22, "created_at": "2015-12-03T19:45:57.000Z", "views": 1996, "reply_count": 0, "like_count": 0, "last_posted_at": "2015-12-18T14:22:58.000Z", "visible": true, "closed": false, "archived": false, "has_summary": false, "archetype": "regular", "slug": "soft-particles", "category_id": 10, "word_count": 2390, "deleted_at": null, "user_id": 148, "featured_link": null, "pinned_globally": false, "pinned_at": null, "pinned_until": null, "image_url": null, "slow_mode_seconds": 0, "draft": null, "draft_key": "topic_1548", "draft_sequence": null, "unpinned": null, "pinned": false, "current_post_number": 1, "highest_post_number": 22, "deleted_by": null, "actions_summary": [{"id": 4, "count": 0, "hidden": false, "can_act": false}, {"id": 8, "count": 0, "hidden": false, "can_act": false}, {"id": 7, "count": 0, "hidden": false, "can_act": false}], "chunk_size": 20, "bookmarked": false, "bookmarks": [], "topic_timer": null, "message_bus_last_id": 0, "participant_count": 5, "show_read_indicator": false, "thumbnails": null, "slow_mode_enabled_until": null, "tags_disable_ads": false, "details": {"can_edit": false, "notification_level": 1, "participants": [{"id": 148, "username": "codingmonkey", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png", "post_count": 11, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 263, "username": "1vanK", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "post_count": 8, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "moderator": true, "trust_level": 4}, {"id": 13, "username": "szamq", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/szamq/{size}/66_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}, {"id": 165, "username": "Bananaft", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 174, "username": "franck22000", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 1}], "created_by": {"id": 148, "username": "codingmonkey", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"}, "last_poster": {"id": 148, "username": "codingmonkey", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"}, "links": [{"url": "https://github.com/1vanK/Urho3DSoftParticles", "title": "GitHub - 1vanK/Urho3DSoftParticles: Urho3D Soft Particles", "internal": false, "attachment": false, "reflection": false, "clicks": 59, "user_id": 148, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://github.com/1vanK/Urho3DSoftParticles/pull/3", "title": "Soft particles fix3 by MonkeyFirst \u00b7 Pull Request #3 \u00b7 1vanK/Urho3DSoftParticles \u00b7 GitHub", "internal": false, "attachment": false, "reflection": false, "clicks": 13, "user_id": 263, "domain": "github.com", "root_domain": "github.com"}, {"url": "http://savepic.su/6730046.htm", "title": "\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 6730046 | \u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 : \u0445\u043e\u0441\u0442\u0438\u043d\u0433 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a : \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u043a : \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 : \u0444\u043e\u0442\u043e\u0445\u043e\u0441\u0442\u0438\u043d\u0433 : Free Image Hosting", "internal": false, "attachment": false, "reflection": false, "clicks": 11, "user_id": 263, "domain": "savepic.su", "root_domain": "savepic.su"}, {"url": "http://savepic.su/6718782.htm", "title": "\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 6718782 | \u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 : \u0445\u043e\u0441\u0442\u0438\u043d\u0433 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a : \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u043a : \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 : \u0444\u043e\u0442\u043e\u0445\u043e\u0441\u0442\u0438\u043d\u0433 : Free Image Hosting", "internal": false, "attachment": false, "reflection": false, "clicks": 8, "user_id": 263, "domain": "savepic.su", "root_domain": "savepic.su"}, {"url": "http://pastebin.com/2MCWLkKq", "title": "[C++] #include \"Uniforms.glsl\" #include \"Samplers.glsl\" #include \"Transform.glsl\" # - Pastebin.com", "internal": false, "attachment": false, "reflection": false, "clicks": 5, "user_id": 148, "domain": "pastebin.com", "root_domain": "pastebin.com"}, {"url": "http://savepic.su/6700395.htm", "title": "\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f 6700395 | \u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 : \u0445\u043e\u0441\u0442\u0438\u043d\u0433 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a : \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u043a : \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 : \u0444\u043e\u0442\u043e\u0445\u043e\u0441\u0442\u0438\u043d\u0433 : Free Image Hosting", "internal": false, "attachment": false, "reflection": false, "clicks": 3, "user_id": 263, "domain": "savepic.su", "root_domain": "savepic.su"}, {"url": "https://www.youtube.com/watch?v=CHAKG73Sqcs", "title": "soft particles bug on rotate around", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 148, "domain": "www.youtube.com", "root_domain": "youtube.com"}]}, "suggested_topics": [{"id": 7080, "title": "Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"", "fancy_title": "Build urho3d source on windows 10 - cmake - &ldquo;Error in configuration process, project files may be invalid&rdquo;", "slug": "build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid", "posts_count": 8, "reply_count": 4, "highest_post_number": 8, "image_url": null, "created_at": "2021-12-03T01:55:53.267Z", "last_posted_at": "2021-12-06T22:46:59.584Z", "bumped": true, "bumped_at": "2021-12-06T22:46:59.584Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 1, "views": 324, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 1488, "username": "ToolmakerSteve", "name": "ToolmakerSteve", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 631, "username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}, {"id": 7081, "title": "Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"", "fancy_title": "Install Urho3D Library - Windows 10 - rake build - &ldquo;project does not exist&rdquo;", "slug": "install-urho3d-library-windows-10-rake-build-project-does-not-exist", "posts_count": 4, "reply_count": 1, "highest_post_number": 4, "image_url": null, "created_at": "2021-12-03T03:06:40.974Z", "last_posted_at": "2021-12-03T17:53:10.844Z", "bumped": true, "bumped_at": "2021-12-03T17:53:10.844Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 190, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1488, "username": "ToolmakerSteve", "name": "ToolmakerSteve", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 1491, "username": "xlat", "name": "Alex Kuch", "avatar_template": "/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]}, {"id": 7132, "title": "How to Draw Anti-Aliased Outlined Line on the UI layer?", "fancy_title": "How to Draw Anti-Aliased Outlined Line on the UI layer?", "slug": "how-to-draw-anti-aliased-outlined-line-on-the-ui-layer", "posts_count": 8, "reply_count": 5, "highest_post_number": 8, "image_url": "https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg", "created_at": "2022-01-17T22:08:06.874Z", "last_posted_at": "2022-01-20T20:13:30.614Z", "bumped": true, "bumped_at": "2022-01-20T20:13:30.614Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 3, "views": 173, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1334, "username": "najak3d", "name": "Brian Knox", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}, {"extras": null, "description": "Frequent Poster, Accepted Answer", "user": {"id": 631, "username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}, {"id": 7160, "title": "RayCast trouble", "fancy_title": "RayCast trouble", "slug": "raycast-trouble", "posts_count": 17, "reply_count": 9, "highest_post_number": 19, "image_url": null, "created_at": "2022-01-29T00:06:00.367Z", "last_posted_at": "2022-01-30T00:29:39.356Z", "bumped": true, "bumped_at": "2022-01-30T00:29:39.356Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 3, "views": 260, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster, Accepted Answer", "user": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 627, "username": "George1", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 1038, "username": "dertom", "name": "Thomas Trocha", "avatar_template": "/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]}, {"id": 7074, "title": "First Person and 3rd person camera and water reflections", "fancy_title": "First Person and 3rd person camera and water reflections", "slug": "first-person-and-3rd-person-camera-and-water-reflections", "posts_count": 4, "reply_count": 1, "highest_post_number": 4, "image_url": null, "created_at": "2021-12-01T18:37:28.669Z", "last_posted_at": "2021-12-01T21:19:51.519Z", "bumped": true, "bumped_at": "2021-12-01T21:19:51.519Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 1, "views": 158, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster, Accepted Answer", "user": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 484, "username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}]}