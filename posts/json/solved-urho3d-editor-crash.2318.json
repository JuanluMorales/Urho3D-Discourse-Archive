{"post_stream":{"posts":[{"id":14017,"name":"","username":"itisscan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/f14d63/{size}.png","created_at":"2016-10-10T17:43:58.000Z","cooked":"\u003cp\u003eI often receive annoying crash after that i have added some codes in AS script. So it looks the following - i write code in AS through CodeBlock IDE, save the script file, open the editor and get the unexpected error. (\u003ca href=\"http://imgur.com/a/tqsam\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003ehttp://imgur.com/a/tqsam\u003c/a\u003e)\u003c/p\u003e\n\u003cp\u003eAlso i have noticed that if i delete these code (basically 2. PART), then all works fine.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eclass ArrowUI : ScriptObject\n{\t\n\nvoid Start()\n{\n\t// HERE START 1. PART\n\t// Clear previous values\n\tdirsResult.Clear();\n\tdirsLong.Clear();\n\n\t// Push initial values\n\tdirsLong.Push(balloonNode.position);\n\tdirsResult.Push(balloonNode.position);\n\n\t// Set initial value\n\tGoalPosition = balloonNode.position;\n        \n\t// Create 5 random points for the distance\n\tfor(int i = 0; i \u0026lt; 5; i++)\n\t{\n\t\t// Generate random rotation around Y axis\n\t\twindDirs[i] = Vector3(0.0f, Random(0, 30), 0.0f);\n\t\t// Generate random length along Z axis\n\t\tdirsLong.Push(Vector3(dirsLong[i].x, 0.0f, dirsLong[i].z + Random(50, 500)));\n\t\t\n\t\t// Rotate length according to generated random rotation around Y axis\n\t\tQuaternion dirRot;\n\t\tdirRot.FromEulerAngles(windDirs[i].x, windDirs[i].y, windDirs[i].z);\n\t\tVector3 goalPartDistance = dirRot * dirsLong[i + 1];\n\t\t\n\t\t// Get the terrain \t\t\t\n\t\tNode@ terrain = scene.GetChild(\"Terrain\", true);\n\t\tTerrain@ terrainComponent = terrain.GetComponent(\"Terrain\", true);\t\n\t\t// Get the height value\n\t\tfloat height = terrainComponent.GetHeight(goalPartDistance);\n\t\t// Set the returned height value to the new point of distance\n\t\tgoalPartDistance.y = height;\n\t\t// Save the distance's point\n\t\tdirsResult.Push(goalPartDistance);\n\t}\n\t\n\t// Save the goal position\n\tgoalPosition = dirsResult[5];\n        \n\t// Get the root check node\n\tNode@ checkNode = scene.GetChild(\"CheckNode\", true);\t\n\t// Remove all childrens\n\tcheckNode.RemoveAllChildren();\n        \n\t// HERE START 2. PART\n\t// Create 5 nodes for  distance's generated points\n\tfor(int i = 0; i \u0026lt; 5; i++) \n\t{\n\t\tNode@ checkZone = checkNode.CreateChild(\"CheckZone_\" + i);\n\t\tcheckZone.AddTag(\"CheckZone\");\n\t\tcheckZone.position = dirsResult[i + 1];\n\n\t\tRigidBody@ body = checkZone.CreateComponent(\"RigidBody\");\n\t\tbody.trigger = true;\n\n\t\tCollisionShape@ shape = checkZone.CreateComponent(\"CollisionShape\");\n\t\tshape.SetBox(Vector3(200.0f, 150.0f, 1.0f));\n\n\t\t// Create the check zone logic object\n\t\tcheckZone.CreateScriptObject(scriptFile, \"CheckZone\");\n\t\t\t\n\t\tCheckZone@ checkZoneComponent = cast\u0026lt;CheckZone\u0026gt;(checkZone.scriptObject);\n\t\tcheckZoneComponent.checkZoneId = i + 1;\n\t}\n}\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eclass CheckZone : ScriptObject\n{\t\n\tint checkZoneId = 1;\n\tbool isChecked = false;\n}\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eSo basically it removes old nodes, and create new nodes with new position in Start() method.\u003c/p\u003e\n\u003cp\u003eI suppose it may happens due to old nodes are removed from the scene. (checkNode.RemoveAllChildren()). But old nodes removing happens only in Start() method and in principle the error should not be though I can miss something.\u003c/p\u003e\n\u003cp\u003eThere how looks crashdamp opened in VS2013.\u003cbr\u003e\n\u003ca href=\"http://imgur.com/a/jcx2D\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003ehttp://imgur.com/a/jcx2D\u003c/a\u003e\u003cbr\u003e\nIn editor’s logs i do not get any errors.\u003c/p\u003e\n\u003cp\u003eAny ideas why i get crash and how can fix it ?\u003c/p\u003e\n\u003cp\u003eThanks.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:14:42.554Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":79,"reads":18,"readers_count":17,"score":398.6,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://imgur.com/a/tqsam","internal":false,"reflection":false,"title":"Imgur: The most awesome images on the Internet","clicks":4},{"url":"http://imgur.com/a/jcx2D","internal":false,"reflection":false,"title":"Imgur: The most awesome images on the Internet","clicks":2}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":324,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14019,"name":"","username":"Lumak","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","created_at":"2016-10-10T20:54:22.000Z","cooked":"\u003cp\u003eThis looks suspicious:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ebecause i ={0:4}, but the dirResult[5], hence you go out of bounds.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:14:42.772Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":18,"readers_count":17,"score":3.6,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":256,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14028,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-10-11T07:57:37.000Z","cooked":"\u003cp\u003eYou should get an AngelScript exception from that and not a crash. I recommend running editor in debug to see where in the engine it’s crashing.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:14:43.471Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":3.4,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14039,"name":"","username":"itisscan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/f14d63/{size}.png","created_at":"2016-10-11T16:34:24.000Z","cooked":"\u003cp\u003e[quote=“Lumak”]This looks suspicious:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ebecause i ={0:4}, but the dirResult[5], hence you go out of bounds.[/quote]\u003c/p\u003e\n\u003cp\u003eI declare the 6-element array like this\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ehence i should not  go out of bounds.\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eYou should get an AngelScript exception from that and not a crash. I recommend running editor in debug to see where in the engine it’s crashing.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eOkey, i will try to run editor in debug.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:14:44.302Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":16,"readers_count":15,"score":3.2,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":324,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14043,"name":"","username":"itisscan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/f14d63/{size}.png","created_at":"2016-10-11T18:44:01.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eYou should get an AngelScript exception from that and not a crash. I recommend running editor in debug to see where in the engine it’s crashing.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eSo what i have noticed is following -\u003c/p\u003e\n\u003cp\u003eIf i run editor with above posted code in debug, then i can’t reproduce crash. I tried to do same steps as with release, but nothing. It simply runs fine.\u003c/p\u003e\n\u003cp\u003eAlso I have noticed that editor randomly crashes in release build. I mean that sometimes editor works fine, but sometimes i get crash, if\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cblockquote\u003e\n\u003cp\u003ei write code in AS through CodeBlock IDE, save the script file, open the editor and get the unexpected error. \u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eBut if I replace this line\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewith these lines, which should provide the same logic. (Just delete old nodes).\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eArray\u0026lt;Node@\u0026gt; checkNodes = scene.GetNodesWithTag(\"CheckZone\");   \nfor( int n = 0; n \u0026lt; checkNodes.length; n++ ) \n{\n    // (Note. checkNode does not have tag - \"CheckZone\")\n    checkNode.RemoveChild(checkNodes[n]);\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen i always get crash in release/debug build. I tried to debug in VS2013 and i got the following situation - \u003ca href=\"https://snag.gy/KO6ER4.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003ehttps://snag.gy/KO6ER4.jpg\u003c/a\u003e.\u003cbr\u003e\nIt seems that old nodes were deleted, but engine still sends event to them.\u003c/p\u003e\n\u003cp\u003eif i comment this line \u003ccode\u003echeckNode.RemoveChild(checkNodes[n]);\u003c/code\u003e , then also all works fine.\u003c/p\u003e\n\u003cp\u003eAny ideas how can fix that ?\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:14:44.564Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":15,"readers_count":14,"score":3.0,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://snag.gy/KO6ER4.jpg","internal":false,"reflection":false,"title":"KO6ER4.jpg","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":324,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14044,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-10-11T18:51:54.000Z","cooked":"\u003cp\u003eI tried to adapt and run your code, including script live reloading, in release mode but didn’t get a crash.\u003c/p\u003e\n\u003cp\u003eCan you post the complete working script file? The snippet in the beginning of the thread had missing variables and other errors, so I had to adapt it and was no longer running the original code.\u003c/p\u003e\n\u003cp\u003eNormally an object should remove itself globally as an event receiver upon destruction.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:14:44.644Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14045,"name":"","username":"itisscan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/f14d63/{size}.png","created_at":"2016-10-11T19:13:01.000Z","cooked":"\u003cp\u003e[quote=“cadaver”]I tried to adapt and run your code, including script live reloading, in release mode but didn’t get a crash.\u003c/p\u003e\n\u003cp\u003eCan you post the complete working script file? The snippet in the beginning of the thread had missing variables and other errors, so I had to adapt it and was no longer running the original code.\u003c/p\u003e\n\u003cp\u003eNormally an object should remove itself globally as an event receiver upon destruction.[/quote]\u003c/p\u003e\n\u003cp\u003eThere is full script file \u003ca href=\"http://pastebin.com/rmPE2y0s\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003ehttp://pastebin.com/rmPE2y0s\u003c/a\u003e. There are 6 classes. (Character, Balloon, CameraScript, HotAirBalloonUI, ArrowUI, CheckZone).\u003cbr\u003e\nThe snippet in the beginning of the thread is located in ArrowUI class.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:14:44.704Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://pastebin.com/rmPE2y0s","internal":false,"reflection":false,"title":"#include \"Scripts/Utilities/Touch.as\" const float TOUCH_SENSITIVITY = 2; con - Pastebin.com","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":324,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14046,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-10-11T19:30:40.000Z","cooked":"\u003cp\u003eThanks. Now I of course notice it also needs some specific scene content, will probably not go into too much detail testing this.\u003c/p\u003e\n\u003cp\u003eEDIT: Managed to repro a crash using a crude approximation of your scene derived from VehicleDemo, and having some of the named nodes your scripts are expecting.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:14:44.769Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":12,"readers_count":11,"score":2.4,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14047,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-10-11T20:20:16.000Z","cooked":"\u003cp\u003eFurther detail: this can be reproduced with a minimal script. I believe the trigger is that you hold an array of nodes which have script instances, then you remove those nodes from the scene. Because they’re still in the array, they haven’t been deleted yet, but exist as detached from the scene. When the script reload event comes, these script instances still try to receive the script reload event, though they should be destroyed by now (as the array fell out of scope at the end of the Start() function)\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:14:44.833Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":12,"readers_count":11,"score":2.4,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14051,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-10-11T22:08:32.000Z","cooked":"\u003cp\u003eFixed in master branch. This was a legitimate vulnerable piece of code related to event receivers being added and removed during event sending, in this case the resource reload event.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2017-01-02T01:14:45.100Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":14053,"name":"","username":"itisscan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/f14d63/{size}.png","created_at":"2016-10-12T14:45:48.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eFixed in master branch. This was a legitimate vulnerable piece of code related to event receivers being added and removed during event sending, in this case the resource reload event.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI have built the master branch. Now it works fine. I mean that it does not crash at once after AS editing and saving. However, very rarely in debug/release i have crash and i can’t understand what can cause it. (may be the same code, that remove old nodes)\u003cbr\u003e\nLook, \u003ca href=\"http://imgur.com/a/u2A2b\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003ehttp://imgur.com/a/u2A2b\u003c/a\u003e i made screenshots half of call stack.\u003c/p\u003e\n\u003cp\u003eUPDATED.\u003cbr\u003e\nI took 4 files from the master branch (Source/Urho3D/Core/Context.cpp, Source/Urho3D/Core/Context.h, Source/Urho3D/Core/Object.cpp, Source/Urho3D/Engine/Console.cpp, basically which you updated)\u003cbr\u003e\nand replaced in 1.6 release code and built it. Then I have not got any crashes yet.\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2017-01-02T01:14:45.243Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":2318,"topic_slug":"solved-urho3d-editor-crash","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://imgur.com/a/u2A2b","internal":false,"reflection":false,"title":"Imgur: The most awesome images on the Internet","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":324,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[14017,14019,14028,14039,14043,14044,14045,14046,14047,14051,14053]},"timeline_lookup":[[1,2234],[5,2233]],"suggested_topics":[{"id":7193,"title":"Can Z-Axis Feasibly be \"Up\"?","fancy_title":"Can Z-Axis Feasibly be \u0026ldquo;Up\u0026rdquo;?","slug":"can-z-axis-feasibly-be-up","posts_count":4,"reply_count":2,"highest_post_number":4,"image_url":null,"created_at":"2022-02-14T05:17:28.054Z","last_posted_at":"2022-02-14T07:26:53.817Z","bumped":true,"bumped_at":"2022-02-14T07:26:53.817Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":161,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7104,"title":"Bug in my partial-model copying code","fancy_title":"Bug in my partial-model copying code","slug":"bug-in-my-partial-model-copying-code","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5367e370779d64989e5c3ff2c1ebfb0689908c87.png","created_at":"2021-12-17T03:50:19.405Z","last_posted_at":"2021-12-17T13:50:49.662Z","bumped":true,"bumped_at":"2021-12-17T13:50:49.662Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7081,"title":"Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"","fancy_title":"Install Urho3D Library - Windows 10 - rake build - \u0026ldquo;project does not exist\u0026rdquo;","slug":"install-urho3d-library-windows-10-rake-build-project-does-not-exist","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-03T03:06:40.974Z","last_posted_at":"2021-12-03T17:53:10.844Z","bumped":true,"bumped_at":"2021-12-03T17:53:10.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":190,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]},{"id":7204,"title":"How handle with multiple scenes?","fancy_title":"How handle with multiple scenes?","slug":"how-handle-with-multiple-scenes","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-02-23T16:15:02.697Z","last_posted_at":"2022-02-23T16:15:02.762Z","bumped":true,"bumped_at":"2022-02-23T16:15:02.762Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":131,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}}]}],"tags_descriptions":{},"id":2318,"title":"[SOLVED] Urho3D editor crash","fancy_title":"[SOLVED] Urho3D editor crash","posts_count":11,"created_at":"2016-10-10T17:43:58.000Z","views":417,"reply_count":0,"like_count":0,"last_posted_at":"2016-10-12T14:45:48.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"solved-urho3d-editor-crash","category_id":10,"word_count":1289,"deleted_at":null,"user_id":324,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2318","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":11,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":5,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":324,"username":"itisscan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/f14d63/{size}.png","post_count":5,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":256,"username":"Lumak","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":324,"username":"itisscan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/f14d63/{size}.png"},"last_poster":{"id":324,"username":"itisscan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/f14d63/{size}.png"},"links":[{"url":"http://imgur.com/a/tqsam","title":"Imgur: The most awesome images on the Internet","internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":324,"domain":"imgur.com","root_domain":"imgur.com"},{"url":"http://imgur.com/a/jcx2D","title":"Imgur: The most awesome images on the Internet","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":324,"domain":"imgur.com","root_domain":"imgur.com"}]}}