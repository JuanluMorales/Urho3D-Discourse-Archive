{"post_stream":{"posts":[{"id":13346,"name":"Ray Koopa","username":"Ray_Koopa","avatar_template":"/user_avatar/discourse.urho3d.io/ray_koopa/{size}/789_2.png","created_at":"2016-08-23T19:42:34.000Z","cooked":"\u003cp\u003eI‚Äôm still trying to make an optimal hierarchy for my scene, but can‚Äôt fully solve one issue.\u003cbr\u003e\nI want to create content via code and do not want to use the XML editor for this yet, as 90% of my game objects are dynamically generated walls and floors.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs say I have a node which \u003cspan class=\"bbcode-b\"\u003erequires\u003c/span\u003e two child models:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ea grid which can be moved up and down (e.g. a static model)\u003c/li\u003e\n\u003cli\u003eAnother pointer model placed on that grid (with a Raytrace).\u003cbr\u003e\nThus the node is basically the cursor in 3D space for an in-game editor.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWithout those models, the whole node doesn‚Äôt make any sense. It must have those child models and nodes hosting them. Those models also don‚Äôt make sense anywhere else.\u003c/p\u003e\n\u003cp\u003eSo I thought of a script component on the cursor node to just create the children:\u003cbr\u003e\n[ul][li]CursorNode\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCursorComponent (Component)\u003cbr\u003e\n[list][\u003cem\u003e]GridNode (created by CursorComponent)\u003cbr\u003e\nGridModel (StaticModel, created by CursorComponent) [/li]\u003cbr\u003e\n[li]PointerNode (created by CursorComponent)\u003cbr\u003e\nPointerModel (StaticModel, created by CursorComponent)[/li][/ul][/\u003c/em\u003e:m][/list:u]\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIs that good code design? Or are there better design choices I should take here?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:13:53.122Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":8,"reads":7,"readers_count":6,"score":41.4,"yours":false,"topic_id":2200,"topic_slug":"is-it-okay-for-components-to-add-child-nodes-to-their-node","display_username":"Ray Koopa","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":526,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":13347,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2016-08-23T20:44:42.000Z","cooked":"\u003cp\u003eI often have components add child nodes and other components, and find OnNodeSet() convenient for initializing (for deserializing however, see how VehicleDemo does that):\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003evoid Cursor3D::OnNodeSet(Node* node) {\n  if (!node) { // removed from node\n    return; }\n  SubscribeToEvent(E_UPDATE, URHO3D_HANDLER(Cursor3D, HandleUpdate));\n  // e.g.  node_-\u0026gt;CreateComponent ...\n}\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eCurrently, I create a ‚ÄúCursorBase‚Äù node with the Cursor3D component. It can be attached to the camera node, it has a Plane for raycasts, and a WeakPtr to a completely independent node with the actual visual cursor it positions. But you can make the hierarchy whatever seems most convenient for you, e.g. if you find the inherited transforms useful.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:13:53.187Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":2200,"topic_slug":"is-it-okay-for-components-to-add-child-nodes-to-their-node","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[13346,13347]},"timeline_lookup":[[1,2282]],"suggested_topics":[{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11Ôºü","fancy_title":"Do we give up supporting dx11Ôºü","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7138,"title":"Build fails (linking phase) on Linux","fancy_title":"Build fails (linking phase) on Linux","slug":"build-fails-linking-phase-on-linux","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-01-20T03:08:29.663Z","last_posted_at":"2022-01-21T15:27:41.192Z","bumped":true,"bumped_at":"2022-01-21T15:27:41.192Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":178,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1502,"username":"jasperry","name":"Jason Perry","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/5fc32e/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7108,"title":":soccer: Open Saucer","fancy_title":":soccer: Open Saucer","slug":"open-saucer","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2021-12-22T04:04:27.024Z","last_posted_at":"2021-12-22T04:04:27.091Z","bumped":true,"bumped_at":"2021-12-22T04:04:27.091Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"‚öΩ Open Saucer","tags_descriptions":{},"like_count":1,"views":284,"category_id":12,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}],"tags_descriptions":{},"id":2200,"title":"Is it okay for components to add child nodes to their node?","fancy_title":"Is it okay for components to add child nodes to their node?","posts_count":2,"created_at":"2016-08-23T19:42:34.000Z","views":322,"reply_count":0,"like_count":0,"last_posted_at":"2016-08-23T20:44:42.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"is-it-okay-for-components-to-add-child-nodes-to-their-node","category_id":9,"word_count":301,"deleted_at":null,"user_id":526,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2200","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":2,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":21,"username":"jmiller","name":"Justin Miller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":3},{"id":526,"username":"Ray_Koopa","name":"Ray Koopa","avatar_template":"/user_avatar/discourse.urho3d.io/ray_koopa/{size}/789_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":526,"username":"Ray_Koopa","name":"Ray Koopa","avatar_template":"/user_avatar/discourse.urho3d.io/ray_koopa/{size}/789_2.png"},"last_poster":{"id":21,"username":"jmiller","name":"Justin Miller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png"}}}