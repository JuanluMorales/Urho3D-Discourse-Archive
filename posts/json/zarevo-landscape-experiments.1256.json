{"post_stream":{"posts":[{"id":7170,"name":"","username":"Bananaft","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png","created_at":"2015-08-12T23:39:40.000Z","cooked":"\u003cp\u003eHere is the list of things I did there:\u003c/p\u003e\n\u003cp\u003e-Real world terrain, using SRTM elevation data and Landsat 8 satellite imagery. Great thanks to Sinoid for awesome \u003ca href=\"http://discourse.urho3d.io/t/urho3-geomapping/994/12\" data-bbcode=\"true\"\u003e16bit heightmap packer.\u003c/a\u003e\u003cbr\u003e\n-Custom terrain shader. For now it uses one diffuse texture(40mb DXT5 5632x5632) and two normal maps packed into one RGBA texture.\u003cbr\u003e\n-Hemisphere skylight instead of plain ambient color.\u003cbr\u003e\n-Day-Night cycle.\u003cbr\u003e\n-Screen-space exponential fog. I decided to use deferred shading, so I can render sky and fog in post-process. I was wondering if I can make a decent(not super realistic) atmospheric scattering with simple math, instead of logarithms. Not completly pleased with result, yet.\u003cbr\u003e\n-Linear space lighting and gamma-correction.\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"bbcode-b\"\u003eDownload link\u003c/span\u003e:  \u003ca href=\"https://www.dropbox.com/s/6ufgsnrthkzb6c0/zrv_13082015.zip\" rel=\"nofollow noopener\"\u003edropbox.com/s/6ufgsnrthkzb6 … 082015.zip\u003c/a\u003e\u003cbr\u003e\nWindows exe provided, but it’s script(and shaders) only, so you can replace binary and run on any platform.\u003cbr\u003e\nOpenGL only.\u003c/p\u003e\n\u003cp\u003eControls:\u003cbr\u003e\nWASD and mouse - fly aroud\u003cbr\u003e\nShift - fly faster\u003cbr\u003e\nMouse Wheel - change time of day\u003cbr\u003e\nF - toggle fog\u003cbr\u003e\nE - toggle auto-exposure\u003cbr\u003e\nB - toggle bloom and gamma-correction\u003c/p\u003e\n\u003cp\u003eWork in progress. C\u0026amp;C are welcome.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://i.imgur.com/Qm9LaBX.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/Qm9LaBXm.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003ca href=\"http://i.imgur.com/mFRu2Il.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/mFRu2Ilm.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003ca href=\"http://i.imgur.com/4Ao0g5j.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/4Ao0g5jm.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003ca href=\"http://i.imgur.com/FebLDt2.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/FebLDt2m.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003ca href=\"http://i.imgur.com/6nhi3I5.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/6nhi3I5m.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003ca href=\"http://i.imgur.com/iDsRXS0.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/iDsRXS0m.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003ca href=\"http://i.imgur.com/NW80s4q.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/NW80s4qm.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003ca href=\"http://i.imgur.com/6eY7foR.jpg\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/6eY7foRm.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003ca href=\"http://i.imgur.com/ZNzVkGJ.png\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"http://i.imgur.com/ZNzVkGJm.jpg\" alt=\"\" width=\"320\" height=\"170\"\u003e\u003c/a\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:06:26.201Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":126,"reads":37,"readers_count":36,"score":716.4,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.dropbox.com/s/6ufgsnrthkzb6c0/zrv_13082015.zip","internal":false,"reflection":false,"clicks":36},{"url":"http://i.imgur.com/ZNzVkGJ.png","internal":false,"reflection":false,"title":"ZNzVkGJ.png","clicks":12},{"url":"http://i.imgur.com/mFRu2Il.jpg","internal":false,"reflection":false,"title":"mFRu2Il.jpg","clicks":10},{"url":"http://i.imgur.com/6eY7foR.jpg","internal":false,"reflection":false,"title":"6eY7foR.jpg","clicks":9},{"url":"http://i.imgur.com/Qm9LaBX.jpg","internal":false,"reflection":false,"title":"Qm9LaBX.jpg","clicks":9},{"url":"http://i.imgur.com/6nhi3I5.jpg","internal":false,"reflection":false,"title":"6nhi3I5.jpg","clicks":8},{"url":"http://i.imgur.com/4Ao0g5j.jpg","internal":false,"reflection":false,"title":"4Ao0g5j.jpg","clicks":6},{"url":"http://i.imgur.com/iDsRXS0.jpg","internal":false,"reflection":false,"title":"iDsRXS0.jpg","clicks":5},{"url":"http://i.imgur.com/NW80s4q.jpg","internal":false,"reflection":false,"title":"NW80s4q.jpg","clicks":5},{"url":"http://i.imgur.com/FebLDt2.jpg","internal":false,"reflection":false,"title":"FebLDt2.jpg","clicks":4},{"url":"https://discourse.urho3d.io/t/urho3-geomapping/994/12","internal":true,"reflection":false,"title":"Urho3 Geomapping","clicks":3},{"url":"http://discourse.urho3d.io/t/solved-how-to-create-int-rt-with-twice-smaller/1366/7","internal":true,"reflection":true,"title":"[SOLVED] How to create int. RT with twice smaller","clicks":2},{"url":"https://discourse.urho3d.io/t/precomputed-atmospheric-scattering/2897/3","internal":true,"reflection":true,"title":"Precomputed Atmospheric Scattering","clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":165,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7172,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2015-08-13T01:04:08.000Z","cooked":"\u003cp\u003eAmazing!\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:06:26.367Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":36,"readers_count":35,"score":7.2,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7173,"name":"","username":"friesencr","avatar_template":"/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png","created_at":"2015-08-13T01:36:35.000Z","cooked":"\u003cp\u003eIt has been nice seeing the play by play on twitter.  Very beautiful!  Did you have to do any terrain paging?\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:06:26.432Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":35,"readers_count":34,"score":7.0,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":15,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7175,"name":"","username":"rasteron","avatar_template":"/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png","created_at":"2015-08-13T03:56:46.000Z","cooked":"\u003cp\u003eLooks great! will definitely try this out.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:06:26.584Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":32,"readers_count":31,"score":6.4,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":54,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7181,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2015-08-13T18:41:50.000Z","cooked":"\u003cp\u003eNice Zarevo ! \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:06:27.024Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":32,"readers_count":31,"score":6.4,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7182,"name":"","username":"Bananaft","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png","created_at":"2015-08-13T20:58:36.000Z","cooked":"\u003cp\u003eThank you all for feedback.\u003c/p\u003e\n\u003cp\u003e[quote=“Sinoid”]Very cool.\u003c/p\u003e\n\u003cp\u003eOn an Intel HD4000 there’s something up with your light volumes (turned off bloom and gamma so it’s more visually apparent):\u003cbr\u003e\n[/quote]\u003cbr\u003e\nOh, it actually runs on integrated video card, nice. How is FPS?\u003cbr\u003e\nLooks like some GPUs have different solution to \" pow(1-lightDist,2.6) \" in Lighting.glsl. I should clamp this thing.\u003c/p\u003e\n\u003cp\u003eEdit: this should do it:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/friesencr/40/827_1.png\" class=\"avatar\"\u003e friesencr:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIt has been nice seeing the play by play on twitter.  Very beautiful!  Did you have to do any terrain paging?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eLet’s we all use \u003ca href=\"https://twitter.com/search?q=Urho3d\u0026amp;src=typd\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003e#Urho3d\u003c/a\u003e more often. No paging. Just one standard urho-terrain 3072x3072 with 128 patch size. Not going to do paging before I run out of memory \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:06:27.092Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":29,"readers_count":28,"score":5.8,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://twitter.com/search?q=Urho3d\u0026src=typd","internal":false,"reflection":false,"title":"Urho3d - Twitter Search","clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":165,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7186,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-08-14T10:45:42.000Z","cooked":"\u003cp\u003eWhen Present takes long, it’s nothing unusual, it’s just the gfx driver doing the actual rendering work there. Sometimes the driver buffer may also fill up earlier, during submitting draw calls, and in that case you could see the majority of time spent inside the frame rendering (actually inside the draw call which causes the buffer to fill and the work be actually performed)\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:06:27.392Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":5.8,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7187,"name":"","username":"theak472009","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/45deac/{size}.png","created_at":"2015-08-14T12:22:19.000Z","cooked":"\u003cp\u003eI am trying to port the Sky shader code to hlsl.\u003cbr\u003e\nIt works for the models but the sky does not show up (Black background even in day)\u003cbr\u003e\nAlso no lights show up.\u003c/p\u003e\n\u003cp\u003eHere is the hlsl shader code\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e#include \"Uniforms.hlsl\"\n#include \"Samplers.hlsl\"\n#include \"Transform.hlsl\"\n#include \"ScreenPos.hlsl\"\n#include \"Lighting.hlsl\"\n\n#ifdef COMPILEPS\ncbuffer CustomPS : register (b6)\n{\n  float3 cSkyColor;\n  float3 cSunColor;\n  float3 cSunDir;\n  float cFogDist;\n  float cCamHeight;\n}\n#endif\n\nvoid VS(\n        float4 iPos : POSITION,\n        out float2 oScreenPos : TEXCOORD0,\n        out float3 oFarRay : TEXCOORD1,\n        out float4 oPos : OUTPOSITION)\n{\n    float4x3 modelMatrix = iModelMatrix;\n    float3 worldPos = GetWorldPos(modelMatrix);\n    oPos = GetClipPos(worldPos);\n\n    oScreenPos = GetScreenPosPreDiv(oPos);\n    oFarRay = GetFarRay(oPos);\n}\n\n\nvoid PS(\n        float2 iScreenPos : TEXCOORD0,\n        float3 iFarRay : TeXCOORD1,\n        out float4 oColor : OUTCOLOR0)\n{\n// oColor = float4 (1.0, 1.0, 1.0, 1.0);\n    // If rendering a directional light quad, optimize out the w divide\n\n    #ifdef HWDEPTH\n        float depth = ReconstructDepth(Sample2D (DepthBuffer, iScreenPos).r);\n    #else\n        float depth = DecodeDepth(Sample2D (DepthBuffer, iScreenPos).rgb);\n    #endif\n\n    float3 worldPos = iFarRay * depth;\n\n    float4 diffuseInput = Sample2D (DiffMap, iScreenPos);\n\n\n    float4 projWorldPos = float4 (worldPos, 1.0);\n\n    float depth2 = 1 - clamp (length(worldPos) / cFogDist, 0.0, 1.0);\n    float height = (worldPos.y + cCamHeight) * 0.01;\n\n    float fogFactor =  clamp (exp (-height * depth2 + 0.7) * (1 - exp (depth2 * 2 - 2)), 0, 1);\n    float diffFactor = 1 - fogFactor;//(1-exp(-height*depth2)) * (exp(depth2*3-3));\n    //float skyfactor = (exp((1-depth2)*10-10));\n\n    //float skydiff = 0.5 * (normal.y + 1.0);\n    float3 DirRay = normalize (iFarRay);\n  //  float layer = min(pow((1-abs(DirRay.y)),3.5),1);//*2*(1-diffFactor)-2*(1-diffFactor)\n    //float layer = pow(1-DirRay.y, 1-cCamHeight);\n    float layer = clamp (exp (((1 - DirRay.y) - 1) * (0.5 + cCamHeight * 0.001)), 0, 1);\n    float sunDot = max (dot (DirRay, -1 * cSunDir), 0);\n    float sunAmount = pow (exp ((sunDot - 1) * 5), 1 + (1 - layer) * 60); //exp(sunDot*20*(1-layer)-20*(1-layer)); //pow (sunDot, 1 + (1-layer) * 6);// * (1-diffFactor);//max (dot(DirRay ,-1 * cSunDir ),0);\n\n    //sunAmount *= 1+layer*2;\n    //\n\n    float3 fogColor = 1.0 * cSkyColor * layer + cSunColor * sunAmount; //mix( cSkyColor,cSunColor, sunAmount );// pow(sunAmount,8.0)\n\n    float3 result = diffuseInput.rgb * diffFactor + fogColor * fogFactor; //diffuseInput.rgb * (1-0.95*diffFactor) + fogcolor * fogFactor;\n\n    //result = pow( result ,float3( 1/2.2 ) );\n\n    oColor = float4 (result, 0.0);\n    // float camHeight = (500.0 - cCamHeight) / 500.0; // For testing if the cbuffer input is working\n    // oColor = float4 (camHeight, camHeight, camHeight, 1.0);\n    // oColor = float4 (fogcolor, 0.0); // FogColor is computed correctly\n    // oColor = float4 (depth2, depth2, depth2, 1.0);\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHere is a screenshot for reference:\u003cbr\u003e\n\u003ca href=\"https://drive.google.com/file/d/0Bxa7g0oZu4tEaGRKempONTJfX3c/view?usp=sharing\" rel=\"nofollow noopener\"\u003edrive.google.com/file/d/0Bxa7g0 … sp=sharing\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eNote: The terrain in the image is using default terrain shader provided by Urho3D.\u003cbr\u003e\nIt might be a silly mistake somewhere due to my limited knowledge in hlsl (maybe depth in range [0,1] instead of [-1,1]?). Please help.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:06:27.483Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":28,"readers_count":27,"score":10.6,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://drive.google.com/file/d/0Bxa7g0oZu4tEaGRKempONTJfX3c/view?usp=sharing","internal":false,"reflection":false,"title":"Screenshot.png - Google Drive","clicks":7}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":291,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7191,"name":"","username":"Bananaft","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png","created_at":"2015-08-14T20:41:29.000Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"cadaver\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_2.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWhen Present takes long, it’s nothing unusual, it’s just the gfx driver doing the actual rendering work there. \u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003e\u003cimg src=\"http://i.imgur.com/626KZAe.gif\" alt=\"\" width=\"33\" height=\"35\"\u003e\u003cimg src=\"http://i.imgur.com/RNiaSX3.gif\" alt=\"\" width=\"48\" height=\"49\"\u003e \u003cspan class=\"bbcode-b\"\u003eCONGRATULATIONS!! THIS IS YOUR 1000th POST!!!\u003c/span\u003e \u003cimg src=\"http://i.imgur.com/RNiaSX3.gif\" alt=\"\" width=\"48\" height=\"49\"\u003e\u003cimg src=\"http://i.imgur.com/626KZAe.gif\" alt=\"\" width=\"33\" height=\"35\"\u003e\u003c/p\u003e\n\u003cp\u003e[quote=“theak472009”]I am trying to port the Sky shader code to hlsl.\u003cbr\u003e\nIt works for the models but the sky does not show up (Black background even in day)\u003cbr\u003e\nAlso no lights show up.\u003cbr\u003e\n[/quote]\u003c/p\u003e\n\u003cp\u003eHello and welcome to the forum!\u003c/p\u003e\n\u003cp\u003eI’m really glad you got interested in my shaders, but taking them into your project probably not the best idea because:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eMy code is ugly hacky uncommented mess.\u003c/li\u003e\n\u003cli\u003eI work only in DeferredHWDepth mode and never tested it in any other.\u003c/li\u003e\n\u003cli\u003eSky-pass requires several parameters to be set by script or code in each frame: sky and sun colors and camera height(because I don’t know a better way to get pixel’s global world height).\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eAnyway, here is a couple links, that could help you:\u003cbr\u003e\nDifferences between Direct3D and OpenGL in Urho documentation:\u003cbr\u003e\n\u003ca href=\"http://urho3d.github.io/documentation/1.4/_a_p_i_differences.html\" rel=\"noopener nofollow ugc\"\u003eurho3d.github.io/documentation/1 … ences.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eTutorial, I’ve started with:\u003cbr\u003e\n\u003ca href=\"http://www.iquilezles.org/www/articles/fog/fog.htm\" rel=\"noopener nofollow ugc\"\u003eiquilezles.org/www/articles/fog/fog.htm\u003c/a\u003e\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"Sinoid\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/40.png\" class=\"avatar\"\u003e Sinoid:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eNone of the post processing has any meaningful impact on that.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eWhoa, really? I would expect at least Bloom to affect fps, on my machine it eats more than rest of the render.\u003c/p\u003e\n\u003cp\u003eDoes looking upwards, affects fps?\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:06:27.831Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":1256,"topic_slug":"zarevo-landscape-experiments","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://urho3d.github.io/documentation/1.4/_a_p_i_differences.html","internal":false,"reflection":false,"title":"Urho3D - Documentation","clicks":7},{"url":"http://www.iquilezles.org/www/articles/fog/fog.htm","internal":false,"reflection":false,"title":"Inigo Quilez :: fractals, computer graphics, mathematics, demoscene and more","clicks":6}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":165,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[7170,7172,7173,7175,7181,7182,7186,7187,7191]},"timeline_lookup":[[1,2659],[5,2658],[9,2657]],"suggested_topics":[{"id":7317,"title":"New little puzzle game","fancy_title":"New little puzzle game","slug":"new-little-puzzle-game","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2022-08-23T06:38:39.245Z","last_posted_at":"2022-09-05T19:26:29.102Z","bumped":true,"bumped_at":"2022-09-05T19:26:29.102Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":5,"views":232,"category_id":12,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7332,"title":"Action RPG Game with Urho3D and Entt","fancy_title":"Action RPG Game with Urho3D and Entt","slug":"action-rpg-game-with-urho3d-and-entt","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-09-25T04:07:40.447Z","last_posted_at":"2022-09-25T04:07:40.526Z","bumped":true,"bumped_at":"2022-09-25T04:07:40.526Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":220,"category_id":12,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":789,"username":"codewalkerdan","name":"Codewalkerdan","avatar_template":"/user_avatar/discourse.urho3d.io/codewalkerdan/{size}/675_2.png"}}]},{"id":7108,"title":":soccer: Open Saucer","fancy_title":":soccer: Open Saucer","slug":"open-saucer","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2021-12-22T04:04:27.024Z","last_posted_at":"2021-12-22T04:04:27.091Z","bumped":true,"bumped_at":"2021-12-22T04:04:27.091Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"⚽ Open Saucer","tags_descriptions":{},"like_count":1,"views":284,"category_id":12,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7114,"title":":fireworks: Multi-Mower","fancy_title":":fireworks: Multi-Mower","slug":"multi-mower","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/2/21e99fb677795abba6665611690df6db44a4f724_2_1024x336.png","created_at":"2022-01-01T00:59:53.176Z","last_posted_at":"2022-01-01T10:18:14.930Z","bumped":true,"bumped_at":"2022-01-01T22:11:41.028Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🎆 Multi-Mower","tags_descriptions":{},"like_count":1,"views":258,"category_id":12,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7357,"title":"My multi-platform game development editor","fancy_title":"My multi-platform game development editor","slug":"my-multi-platform-game-development-editor","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-11-17T11:59:16.052Z","last_posted_at":"2022-11-18T02:03:35.533Z","bumped":true,"bumped_at":"2022-11-18T02:03:35.533Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":7,"views":140,"category_id":12,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]}],"tags_descriptions":{},"id":1256,"title":"Zarevo: landscape experiments","fancy_title":"Zarevo: landscape experiments","posts_count":9,"created_at":"2015-08-12T23:39:40.000Z","views":1634,"reply_count":0,"like_count":2,"last_posted_at":"2015-08-14T20:41:29.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"zarevo-landscape-experiments","category_id":12,"word_count":1344,"deleted_at":null,"user_id":165,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1256","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":9,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":7,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":165,"username":"Bananaft","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":15,"username":"friesencr","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":54,"username":"rasteron","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/rasteron/{size}/55_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":4},{"id":291,"username":"theak472009","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/45deac/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":165,"username":"Bananaft","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png"},"last_poster":{"id":165,"username":"Bananaft","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/bananaft/{size}/222_2.png"},"links":[{"url":"https://www.dropbox.com/s/6ufgsnrthkzb6c0/zrv_13082015.zip","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":36,"user_id":165,"domain":"www.dropbox.com","root_domain":"dropbox.com"},{"url":"https://drive.google.com/file/d/0Bxa7g0oZu4tEaGRKempONTJfX3c/view?usp=sharing","title":"Screenshot.png - Google Drive","internal":false,"attachment":false,"reflection":false,"clicks":7,"user_id":291,"domain":"drive.google.com","root_domain":"google.com"},{"url":"http://urho3d.github.io/documentation/1.4/_a_p_i_differences.html","title":"Urho3D - Documentation","internal":false,"attachment":false,"reflection":false,"clicks":7,"user_id":165,"domain":"urho3d.github.io","root_domain":"urho3d.github.io"},{"url":"http://www.iquilezles.org/www/articles/fog/fog.htm","title":"Inigo Quilez :: fractals, computer graphics, mathematics, demoscene and more","internal":false,"attachment":false,"reflection":false,"clicks":6,"user_id":165,"domain":"www.iquilezles.org","root_domain":"iquilezles.org"},{"url":"https://discourse.urho3d.io/t/urho3-geomapping/994/12","title":"Urho3 Geomapping","internal":true,"attachment":false,"reflection":false,"clicks":3,"user_id":165,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"},{"url":"http://discourse.urho3d.io/t/solved-how-to-create-int-rt-with-twice-smaller/1366/7","title":"[SOLVED] How to create int. RT with twice smaller","internal":true,"attachment":false,"reflection":true,"clicks":2,"user_id":281,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"},{"url":"https://twitter.com/search?q=Urho3d\u0026src=typd","title":"Urho3d - Twitter Search","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":165,"domain":"twitter.com","root_domain":"twitter.com"},{"url":"https://discourse.urho3d.io/t/precomputed-atmospheric-scattering/2897/3","title":"Precomputed Atmospheric Scattering","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":54,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"}]}}