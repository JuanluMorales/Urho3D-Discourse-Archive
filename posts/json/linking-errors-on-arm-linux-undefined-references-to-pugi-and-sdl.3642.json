{"post_stream":{"posts":[{"id":21151,"name":"Jonathan Ross","username":"jonathan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/aeb1de/{size}.png","created_at":"2017-10-08T23:38:14.541Z","cooked":"\u003cp\u003eHey,\u003c/p\u003e\n\u003cp\u003eTrying to build Urho3d 1.7 as a buildroot package. My target is an ARM Tegra K1 processor. Here is the \u003ccode\u003eurho.mk\u003c/code\u003e file which defines a cmake package in buildroot.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eURHO_VERSION = 1.7\nURHO_SOURCE = $(URHO_VERSION).tar.gz\nURHO_SITE = https://github.com/urho3d/Urho3D/archive\nURHO_INSTALL_STAGING = YES\nURHO_INSTALL_TARGET = YES\nURHO_CONF_OPTS = \\\n\t-DURHO3D_ANGELSCRIPT=0 \\\n\t-DURHO3D_LUA=0 \\\n\t-DARM_PREFIX=$(HOST_DIR)/usr/bin/arm-buildroot-linux-gnueabihf- \\\n\t-DARM_SYSROOT=$(TARGET_DIR) \\\n\t-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON \\\n\t-DURHO3D_IK=0 \\\n\t-DURHO3D_NETWORK=0 \\\n\t-DURHO3D_PHYSICS=0 \\\n\t-DURHO3D_NAVIGATION=0 \\\n\t-DURHO3D_URHO2D=0 \\\n\t-DURHO3D_WEBP=0 \\\n\t-DURHO3D_WEBP=SHARED\n\n$(eval $(cmake-package))\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe build gets to 93% and errors. Looking back through the output there are two main problems with linking. The first is with pugi.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-bash\"\u003eXMLElement.cpp:(.text+0x20): undefined reference to 'pugi::xpath_node::attribute() const'\nXMLElement.cpp:(.text+0x2c): undefined reference to 'pugi::xml_attribute::operator void (*)(pugi::xml_attribute***)() const'\nXMLElement.cpp:(.text+0x36): undefined reference to 'pugi::xpath_node::attribute() const'\nXMLElement.cpp:(.text+0x44): undefined reference to 'pugi::xml_attribute::set_value(char const*)'\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn fact, every call to pugi is an undefined reference. The second is with SDL, same deal.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eOGLGraphics.cpp:(.text+0x274c): undefined reference to `SDL_GetNumVideoDisplays'\nOGLGraphics.cpp:(.text+0x2806): undefined reference to `SDL_GetDesktopDisplayMode'\nOGLGraphics.cpp:(.text+0x2858): undefined reference to `SDL_GL_SetAttribute'\nOGLGraphics.cpp:(.text+0x2860): undefined reference to `SDL_GL_SetAttribute'\nOGLGraphics.cpp:(.text+0x2868): undefined reference to `SDL_GL_SetAttribute'\nOGLGraphics.cpp:(.text+0x2874): undefined reference to `SDL_GL_SetAttribute'\nOGLGraphics.cpp:(.text+0x287c): undefined reference to `SDL_GL_SetAttribute'\nOGLGraphics.cpp:(.text+0x2884): undefined reference to `SDL_GetDisplayBounds'\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSearching through the built files I found these libraries already build as shared libraries\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e~/v/buildroot (master|…) $ find output/build/urho-1.7/ -name '*.so'\noutput/build/urho-1.7/Source/ThirdParty/FreeType/libFreeType.so\noutput/build/urho-1.7/Source/ThirdParty/StanHull/libStanHull.so\noutput/build/urho-1.7/Source/ThirdParty/SDL/libSDL.so\noutput/build/urho-1.7/Source/ThirdParty/PugiXml/libPugiXml.so\noutput/build/urho-1.7/Source/ThirdParty/JO/libJO.so\noutput/build/urho-1.7/Source/ThirdParty/Assimp/libAssimp.so\noutput/build/urho-1.7/Source/ThirdParty/LZ4/libLZ4.so\noutput/build/urho-1.7/Source/ThirdParty/WebP/libWebP.so\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSo my question is why aren’t the paths to these third party libraries part of the library search path when I build and configure.\u003c/p\u003e\n\u003cp\u003eThanks!\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-10-08T23:38:14.541Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":75,"reads":29,"readers_count":28,"score":380.8,"yours":false,"topic_id":3642,"topic_slug":"linking-errors-on-arm-linux-undefined-references-to-pugi-and-sdl","display_username":"Jonathan Ross","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":844,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":21154,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2017-10-09T02:00:33.472Z","cooked":"\u003cp\u003eYour setup does not seem right to me. If you use our provided build system then you should find that we configure all our third-parties to be built as STATIC library.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-10-09T02:00:33.472Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":27,"readers_count":26,"score":10.4,"yours":false,"topic_id":3642,"topic_slug":"linking-errors-on-arm-linux-undefined-references-to-pugi-and-sdl","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Admin","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":21156,"name":"Jonathan Ross","username":"jonathan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/aeb1de/{size}.png","created_at":"2017-10-09T12:24:09.423Z","cooked":"\u003cp\u003eOk I’ll try that. Though, I thought the .sh files were just thin wrappers around a single cmake command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003ecmake -E make_directory \"$BUILD\" \u0026amp;\u0026amp; cmake -E chdir \"$BUILD\" cmake $OPTS $@ \"$SOURCE\" \u0026amp;\u0026amp; post_cmake\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis is essentially what buildroot is doing. Anyway, I’ll update when I have those results.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-10-09T12:24:09.423Z","reply_count":1,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":2,"reads":24,"readers_count":23,"score":19.8,"yours":false,"topic_id":3642,"topic_slug":"linking-errors-on-arm-linux-undefined-references-to-pugi-and-sdl","display_username":"Jonathan Ross","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":844,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":21158,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2017-10-09T13:24:34.432Z","cooked":"\u003cp\u003eIt appears as though somewhere you might have accidentally reset the CMake to its default where it prefers SHARED to STATIC library. In our build script we have intentionally switch this so that STATIC is used by default unless explicitly stated otherwise. I cannot say how/where did that happen in your setup. If you have setup everything correctly then the Urho3D library (regardless of whether it is a STATIC or SHARED) should contain all the symbols from the 3rd-party libraries. That answers your question of why we don’t need to include library search path for the 3rd-party libraries. All the symbols are already statically linked (SHARED \u003ccode\u003elibUrho3D.so\u003c/code\u003e) or archived into (STATIC \u003ccode\u003elibUrho3D.a\u003c/code\u003e), respectively.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-10-09T13:27:44.611Z","reply_count":0,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":4,"reads":22,"readers_count":21,"score":24.4,"yours":false,"topic_id":3642,"topic_slug":"linking-errors-on-arm-linux-undefined-references-to-pugi-and-sdl","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Admin","title_is_group":false,"reply_to_user":{"username":"jonathan","name":"Jonathan Ross","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/aeb1de/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[21151,21154,21156,21158]},"timeline_lookup":[[1,1871]],"suggested_topics":[{"id":7105,"title":"Multiple Application.UI Roots?","fancy_title":"Multiple Application.UI Roots?","slug":"multiple-application-ui-roots","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/74b10ce575f1b69fe43be4abcb07605d74a1d27c_2_1024x544.jpeg","created_at":"2021-12-20T08:55:14.707Z","last_posted_at":"2021-12-22T02:33:05.795Z","bumped":true,"bumped_at":"2021-12-22T02:33:05.795Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":243,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","slug":"view-physics-event-for-convexcast","posts_count":11,"reply_count":5,"highest_post_number":11,"image_url":null,"created_at":"2021-12-09T23:56:27.507Z","last_posted_at":"2021-12-12T20:20:02.788Z","bumped":true,"bumped_at":"2021-12-12T20:20:02.788Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":206,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7156,"title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","fancy_title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","slug":"manual-mesh-part-animation-e-g-rotate-a-propeller","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-26T23:50:29.343Z","last_posted_at":"2022-01-27T05:31:02.766Z","bumped":true,"bumped_at":"2022-01-27T05:31:02.766Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":155,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7200,"title":"Urho3D just building if I check \"use SHARED libraries\"","fancy_title":"Urho3D just building if I check \u0026ldquo;use SHARED libraries\u0026rdquo;","slug":"urho3d-just-building-if-i-check-use-shared-libraries","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-02-22T20:02:48.835Z","last_posted_at":"2022-02-23T15:38:33.698Z","bumped":true,"bumped_at":"2022-02-23T15:54:07.879Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":165,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]}],"tags_descriptions":{},"id":3642,"title":"Linking Errors on ARM Linux: undefined references to pugi and SDL","fancy_title":"Linking Errors on ARM Linux: undefined references to pugi and SDL","posts_count":4,"created_at":"2017-10-08T23:38:14.477Z","views":586,"reply_count":2,"like_count":0,"last_posted_at":"2017-10-09T13:24:34.432Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"linking-errors-on-arm-linux-undefined-references-to-pugi-and-sdl","category_id":10,"word_count":569,"deleted_at":null,"user_id":844,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3642","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":4},{"id":844,"username":"jonathan","name":"Jonathan Ross","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/aeb1de/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0}],"created_by":{"id":844,"username":"jonathan","name":"Jonathan Ross","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/aeb1de/{size}.png"},"last_poster":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}}