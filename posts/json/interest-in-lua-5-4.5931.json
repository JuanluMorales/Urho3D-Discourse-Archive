{"post_stream": {"posts": [{"id": 36162, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-17T04:18:06.824Z", "cooked": "<p>Lua 5.4 is <a href=\"https://www.lua.org/\" rel=\"nofollow noopener\">\u201calmost ready\u201d</a>.  Does anyone desire this?</p>\n<p>Urho3D\u2019s Lua is 5.1 and it has LuaJIT available.</p>\n<p>I\u2019m actually a Lua noob, and have been learning about the Lua world\u2019s <em>fragmentation</em>.  This guy Mike Pall made this amazing LuaJIT which greatly increased Lua 5.1\u2019s performance.  Then Lua 5.2 came out, and he refused to go forwards with it.  Minor version numbers in Lua are released many years apart, do make some substantial changes, and they can break stuff.  That\u2019s their numbering culture.  So he probably had his reasons.  Then <a href=\"https://www.freelists.org/post/luajit/Looking-for-new-LuaJIT-maintainers\" rel=\"nofollow noopener\">in mid-2015 he stepped down</a> from running his LuaJIT project anymore.  He does contribute maintenance and bugfixes, and so do various other people, but nobody with his level of design talent stepped up to take his place.  LuaJIT is stagnant somewhere between 5.1 and 5.2 and will never go to 5.3.  Let alone 5.4.</p>\n<p>Lots of people value the performance of LuaJIT so it has caused a significant fracturing of the Lua community.  For all intents and purposes, the language got forked, and the name of that fork is LuaJIT.  The consequences \u201cas years go by\u201d are problematic.  Lua library authors have 5.1/LuaJIT, 5.2, and 5.3 targets to consider, and now soon 5.4.  A lot of authors don\u2019t do the work of keeping up with this.  Things just rot and die.</p>\n<p>This is considered somewhat ok in Lua culture, as the language was designed to be embedded in apps, not to be some big developer ecology like Python has turned into.  An app living by a specific version of Lua, and never \u201cupgrading\u201d it, is considered ok.</p>\n<p>The problem I see is, <em>Urho3D</em> needs a stable and growable ecology, something that users can build on.  If Lua is to be a strategy for such an ecology, well fragmentation and ongoing loss of support, is <em>problematic</em>.  Even if you don\u2019t care about Lua libraries in general, you have to care about Lua stuff written for Urho3D, or there simply isn\u2019t an ecology to speak of.</p>\n<p>The problem isn\u2019t unique to Lua.  Python is in a 2.x vs. 3.x schism.</p>", "post_number": 1, "post_type": 1, "updated_at": "2020-02-17T04:18:06.824Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 610, "reads": 52, "readers_count": 51, "score": 3120.4, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://www.lua.org/", "internal": false, "reflection": false, "title": "The Programming Language Lua", "clicks": 8}, {"url": "https://www.freelists.org/post/luajit/Looking-for-new-LuaJIT-maintainers", "internal": false, "reflection": false, "clicks": 5}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "count": 2}], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36164, "name": "", "username": "rku", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png", "created_at": "2020-02-17T13:16:22.722Z", "cooked": "<p>What does new Lua bring to the table? Do new features offset loss of JIT capability?</p>\n<p>P.S. it is \u201cecosystem\u201d.</p>", "post_number": 2, "post_type": 1, "updated_at": "2020-02-17T13:16:22.722Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 45, "readers_count": 44, "score": 19.0, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 246, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36165, "name": "", "username": "S.L.C", "avatar_template": "/user_avatar/discourse.urho3d.io/s.l.c/{size}/1016_2.png", "created_at": "2020-02-17T16:31:08.519Z", "cooked": "<p>JIT shines when used in conjunction with FFI. When you use it on native registered vm closures, their benefit stop looking so promising.</p>\n<p>And considering all of urho API is registered that way, and that the purpose of a script is to invoke that API for the majority of time. You\u2019ll see that the JIT stops being helpful.</p>\n<p>You don\u2019t and shouldn\u2019t do heavy processing on the scripting side of the engine. The whole purpose of a scripting language is to improve fast prototyping. Anything beyond that is a step backwards.</p>\n<p>I\u2019ve said this and I\u2019ll keep saying it. You should keep heavy computational code away from a scripting language. That isn\u2019t it\u2019s purpose.</p>\n<p>If Lua 5.4 makes programming easier, then you should take that instead. If it reduces boilerplate, then you should take it.</p>", "post_number": 3, "post_type": 1, "updated_at": "2020-02-17T16:31:32.598Z", "reply_count": 1, "reply_to_post_number": 2, "quote_count": 0, "incoming_link_count": 2, "reads": 43, "readers_count": 42, "score": 38.6, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "rku", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 180, "hidden": false, "trust_level": 0, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "user_suspended": true, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36169, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-17T17:38:43.685Z", "cooked": "<p>This is long but I will get to your question, in a \u201clet\u2019s start from the very beginning\u201d kind of way.</p>\n<p>I am still learning about various pros and cons of the different Lua versions.  As I said before, a big problem is library support.  5.1 might have the best supported libraries for all I know, in the sense that code still basically works.  But I\u2019m doubting that stuff back on that version, is getting \u201cfresh ongoing effort\u201d.  Might all just be in maintenance mode with no major improvements to anything.</p>\n<p>LuaJIT is reputed to be difficult to debug.  Seems to be a combo of the \u201ctracing compiler\u201d not being easy to walk through, and the codebase not being all that straightforward.  People argue about whether LuaJIT internals are easy or difficult to fathom, but it doesn\u2019t sound like a job for amateurs.  LuaJIT has a rather different design center from Lua, as the developers of the latter are determined to have it be straightforward C code that will run on everything.  LuaJIT in contrast, is willing to add complication for the sake of performance, and will only run on platforms where the native assembly code work has been done for them.</p>\n<p>LuaJIT\u2019s FFI is reputed to be better than what Lua offers, and is a feature that will drag developers into LuaJIT specific code, not just stuff that works for Lua 5.1.  It really is a language fork in that way.  There are also forks of the fork, such as LuaVela (Unix only) and moonjit (multi platform).</p>\n<p>Now finally I get to what you asked.  <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\">  Summaries from <a href=\"https://www.lua.org/versions.html\" rel=\"nofollow noopener\">Lua.org</a>:</p>\n<blockquote>\n<p>Lua 5.2 was released on 16 Dec 2011. Its <a href=\"https://www.lua.org/manual/5.2/readme.html#changes\" rel=\"nofollow noopener\">main new features</a> are yieldable pcall and metamethods, new lexical scheme for globals, ephemeron tables, new library for bitwise operations, light C functions, emergency garbage collector, goto statement, and finalizers for tables.</p>\n</blockquote>\n<p>LuaJIT may have also provided a number of those features, but I\u2019m not sure which.  LuaJIT did not go completely forwards to 5.2 compliance, because of changes in how <a href=\"https://www.lua.org/manual/5.2/manual.html#8\" rel=\"nofollow noopener\">\u201cenvironments\u201d</a> worked.</p>\n<blockquote>\n<p>Lua 5.3 was released on 12 Jan 2015. Its <a href=\"https://www.lua.org/manual/5.3/readme.html#changes\" rel=\"nofollow noopener\">main new features</a> are integers, bitwise operators, a basic utf-8 library, and support for both 64-bit and 32-bit platforms.</p>\n</blockquote>\n<p>64-bit platform support is what got my attention.  LuaJIT had a 2 GB memory limit for awhile, although someone claimed they overcame that.  That said, there\u2019s the official LuaJIT 2.0.5 release, and the 2.1.0-beta3 release, both from 2017.  2.1 seems to be in permanent beta and it wouldn\u2019t surprise me if that\u2019s what gives you higher than 2 GB.</p>\n<p>Library authors who are working on 5.3 stuff now, are \u201ccurrent\u201d.  One might hope that would give their work more shelf life for the future.  I haven\u2019t gauged their opinion of <a href=\"https://www.lua.org/work/doc/\" rel=\"nofollow noopener\">upcoming changes for 5.4</a>:</p>\n<ul>\n<li>\n<pre><code>new generational mode for garbage collection\n</code></pre>\n</li>\n<li>\n<pre><code>to-be-closed variables\n</code></pre>\n</li>\n<li>\n<pre><code>const variables\n</code></pre>\n</li>\n<li>\n<pre><code>userdata can have multiple user values\n</code></pre>\n</li>\n<li>\n<pre><code>new implementation for math.random\n</code></pre>\n</li>\n<li>\n<pre><code>warning system\n</code></pre>\n</li>\n<li>\n<pre><code>debug information about function arguments and returns\n</code></pre>\n</li>\n<li>\n<pre><code>new semantics for the integer 'for' loop\n</code></pre>\n</li>\n<li>\n<pre><code>optional 'init' argument to 'string.gmatch'\n</code></pre>\n</li>\n<li>\n<pre><code>new functions 'lua_resetthread' and 'coroutine.close'\n</code></pre>\n</li>\n<li>\n<pre><code>string-to-number coercions moved to the string library\n</code></pre>\n</li>\n<li>\n<pre><code>allocation function allowed to fail when shrinking a memory block\n</code></pre>\n</li>\n<li>\n<pre><code>new format '%p' in 'string.format'\n</code></pre>\n</li>\n<li>\n<pre><code>utf8 library accepts codepoints up to 2^31 \n</code></pre>\n</li>\n</ul>\n<p>5.4 offers various <a href=\"https://www.lua.org/work/doc/manual.html#8\" rel=\"nofollow noopener\">incompatibilities</a>, as minor numbers in Lua releases are allowed to break stuff.  One that strikes me as offering a lot of debugging to authors of previous code bases:</p>\n<ul>\n<li>The coercion of strings to numbers in arithmetic and bitwise operations has been removed from the core language. The string library does a similar job for arithmetic (but not for bitwise) operations using the string metamethods. However, unlike in previous versions, the new implementation preserves the implicit type of the numeral in the string. For instance, the result of <code>\"1\" + \"2\"</code> now is an integer, not a float.</li>\n</ul>\n<p>The Incompatibilities section also talks about <em>binary</em> incompatibility between different versions of Lua.  Supporting multiple versions of Lua in Urho3D, would add implementation burdens.  I can\u2019t tell how much at this point.</p>", "post_number": 4, "post_type": 1, "updated_at": "2020-02-17T18:23:02.420Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 14, "reads": 44, "readers_count": 43, "score": 93.8, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://www.lua.org/work/doc/manual.html#8", "internal": false, "reflection": false, "title": "Lua 5.4 Reference Manual", "clicks": 5}, {"url": "https://www.lua.org/manual/5.2/manual.html#8", "internal": false, "reflection": false, "title": "Lua 5.2 Reference Manual", "clicks": 2}, {"url": "https://www.lua.org/work/doc/", "internal": false, "reflection": false, "title": "Lua 5.4 readme", "clicks": 1}, {"url": "https://www.lua.org/manual/5.2/readme.html#changes", "internal": false, "reflection": false, "title": "Lua 5.2 readme", "clicks": 1}, {"url": "https://www.lua.org/manual/5.3/readme.html#changes", "internal": false, "reflection": false, "title": "Lua 5.3 readme", "clicks": 0}, {"url": "https://www.lua.org/versions.html", "internal": false, "reflection": false, "title": "Lua: version history", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36171, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-17T17:56:12.306Z", "cooked": "<aside class=\"quote no-group\" data-username=\"S.L.C\" data-post=\"3\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/s.l.c/40/1016_2.png\" class=\"avatar\"> S.L.C:</div>\n<blockquote>\n<p>If Lua 5.4 makes programming easier, then you should take that instead. If it reduces boilerplate, then you should take it.</p>\n</blockquote>\n</aside>\n<p>Binding to C++, does not appear to be a \u201cwhich version of Lua?\u201d problem.  Rather, it\u2019s a \u201cwhich binding project has the most active development and is doing the best job?\u201d problem.  A notable candidate is <a href=\"https://github.com/ThePhD/sol2\" rel=\"nofollow noopener\">Sol2 3.0</a>.  The dev is active on the Lua mailing list, has strong performance claims for his call overhead, and he supports all the various Luas and LuaJITs.  Not quite sure about 5.4, but he seems like the kind of guy who\u2019s probably already on it.</p>\n<p>I have not determined whether Sol2 3.0 produces its bindings automatically.  That\u2019s important to Urho3D, because the manual labor requirements of Lua and AngelScript bindings are blocking pull requests from being accepted.  There\u2019s really no reason a C++ contributor should have to worry about that sort of thing.  I get the distinct impression, that Urho3D is hemorrhaging contributors in a completely unsustainable way, and that this problem <em>must</em> be solved.</p>\n<p>I also suspect that every C++ Lua binding regime, does their thing a little differently, so won\u2019t be pin-for-pin compatible one for the other.  One will have to make a choice about which horse to run the race with.</p>\n<p>The tolua++ that Urho3D currently uses, is ancient and not under any kind of development.  Looking into that, is actually what got me started on this whole Lua ecosystem evaluation.  It\u2019s all a lot hairier than I expected.</p>", "post_number": 5, "post_type": 1, "updated_at": "2020-02-17T17:56:12.306Z", "reply_count": 1, "reply_to_post_number": 3, "quote_count": 1, "incoming_link_count": 3, "reads": 37, "readers_count": 36, "score": 42.4, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/ThePhD/sol2", "internal": false, "reflection": false, "title": "GitHub - ThePhD/sol2: Sol3 (sol2 v3.0) - a C++ <-> Lua API wrapper with advanced features and top notch performance - is here, and it's great! Documentation:", "clicks": 10}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36173, "name": "Eugene Kozlov", "username": "Eugene", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png", "created_at": "2020-02-17T18:53:57.010Z", "cooked": "<aside class=\"quote no-group\" data-username=\"bvanevery\" data-post=\"5\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/b/c77e96/40.png\" class=\"avatar\"> bvanevery:</div>\n<blockquote>\n<p>I have not determined whether Sol2 3.0 produces its bindings automatically. That\u2019s important to Urho3D, because the manual labor requirements of Lua and AngelScript bindings are blocking pull requests from being accepted</p>\n</blockquote>\n</aside>\n<p>I had an impression that only SWIG has truly automatic bindings with C++ header scan.<br>\nOr are you talking about semi-automatic bindings where you have to manually list functions without signatures?</p>", "post_number": 6, "post_type": 1, "updated_at": "2020-02-17T18:53:57.010Z", "reply_count": 1, "reply_to_post_number": 5, "quote_count": 1, "incoming_link_count": 5, "reads": 36, "readers_count": 35, "score": 37.2, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "Eugene Kozlov", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Core developer", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 484, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36174, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-17T19:14:02.501Z", "cooked": "<p>Lua has <em>many</em> extant C++ binding projects and at this time, I can\u2019t tell what their various capabilities are.  Lots more \u201cweeds\u201d to figure out.  What each project can do, is not the only dimension.  Which projects are getting \u201cthe love\u201d ?  Who\u2019s gonna get hit by a bus?  LuaJIT got hit by a bus, Urho3D got hit by a bus, it\u2019s a real problem when the 1 core developer moves on.</p>\n<p>In this basic reality, I figured out pretty quickly, that there\u2019s no point worrying about Lua 5.3 at all.  Either find out if Urho3D users are deeply vested in LuaJIT, or they are interested in \u201cmodernization\u201d ala 5.4.</p>\n<p>Lua-centric approaches to the C++ binding problem, have the unusual possibility of using Parsing Expression Grammar (PEG) to do the job.  One of the main authors of Lua, is noted for popularizing the use of PEG, via his <a href=\"http://www.inf.puc-rio.br/~roberto/lpeg/\" rel=\"nofollow noopener\">LPeg</a> library.  It is reasonable to expect some expertise in the use of PEG among hardcore Lua developers.  Relying on this aspect of the Lua ecosystem to tackle Urho3D\u2019s binding problems, is not unreasonable.</p>\n<p>I\u2019m insufficiently familiar with Urho3D\u2019s APIs to know how regular they are, but it wouldn\u2019t be a rocket science wild assed guess, to imagine writing up some PEG to handle various corner cases, and call it a day.  This would require people capable of understanding PEG to participate in Urho3D\u2019s ongoing maintenance, as occasionally something would come up that wasn\u2019t automatically handled.  But such a PEG person could then put the problem to bed, and everyone would get on with Life.  I expect the level of difficulty would be something like, people who understand CMake build systems, vs. those that don\u2019t.  CMake is <em>not</em> inherently hard to understand, it\u2019s just a lot of grunge.  Similarly a PEG pattern matching regime.</p>\n<p>When I did that failed Mozilla Autoconf --&gt; CMake conversion project in 2007, I did it with piles of Regular Expressions.  Super hairy!  It was working though.  I could have used some PEG.  I didn\u2019t know about it at the time, and didn\u2019t have time to learn it, in order to make money.  CMake had regexes in it already, so I abused the <em>hell</em> out of that, pushing their implementation in ways that were surely never intended for production use.</p>\n<p>PEG is also worth considering for AngelScript binding problems.  I haven\u2019t looked into AS binding issues yet.</p>\n<p>I\u2019m thinking a corollary of attracting and retaining Lua developers who know a smattering of PEG, is that one must offer <em>the best</em> Lua (probably 5.4) and not simply <em>the fastest</em> Lua (LuaJIT).  Especially, the kinds of people who hang out on the Lua development mailing list.  Apparently game developers do <em>not</em> hang out on that list for the most part.  They got stuck back in LuaJIT land, the thinking goes.</p>", "post_number": 7, "post_type": 1, "updated_at": "2020-02-17T19:37:58.731Z", "reply_count": 0, "reply_to_post_number": 6, "quote_count": 0, "incoming_link_count": 3, "reads": 39, "readers_count": 38, "score": 37.8, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 3, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "http://www.inf.puc-rio.br/~roberto/lpeg/", "internal": false, "reflection": false, "title": "LPeg - Parsing Expression Grammars For Lua", "clicks": 1}], "read": true, "user_title": null, "reply_to_user": {"username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36194, "name": "", "username": "rku", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png", "created_at": "2020-02-18T07:58:53.013Z", "cooked": "<p>Word of advice: do not write bindings generator unless such thing does not exist. Use existing software. Bindings are not trivial even if it may seem so. You will eventually start reimplementing something like SWIG. World would appreciate a better-written SWIG alternative, but we want results now instead of in 5 years.</p>\n<p>Check this out <a href=\"https://github.com/SteveKChiu/lua-intf\" rel=\"nofollow noopener\">https://github.com/SteveKChiu/lua-intf</a></p>", "post_number": 8, "post_type": 1, "updated_at": "2020-02-18T07:58:53.013Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 2, "reads": 34, "readers_count": 33, "score": 21.8, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/SteveKChiu/lua-intf", "internal": false, "reflection": false, "title": "GitHub - SteveKChiu/lua-intf: A binding between C++11 and Lua language", "clicks": 11}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 246, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36211, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-18T16:39:50.807Z", "cooked": "<p>Thanks for what I assume is an endorsement.  <a href=\"http://lua-users.org/wiki/BindingCodeToLua\" rel=\"nofollow noopener\">http://lua-users.org/wiki/BindingCodeToLua</a> lists <em>numerous</em> C++ binders.  The problem is not whether such a thing exists.  The problem is which one is actually good, gets current development love, would be ready for Lua 5.4, and solves problems that have been noted in the Urho3D archives.  <a href=\"https://sol2.readthedocs.io/en/latest/features.html#the-feature-matrix\" rel=\"nofollow noopener\">Sol3 has a feature matrix</a> comparing the options available.  Whatever the author\u2019s bias, to even bother to do a big comparison like that, is a pretty strong endorsement for the seriousness of Sol3.  And you\u2019re right, there\u2019s definitely more to this binding problem than the \u201ccall it a day\u201d off-the-shelf stuff I was hoping for.</p>\n<p>My thought as of this morning, is that Urho3D <em>must have</em> an ecosystem of stuff written on top of a stable scripting language with a future.  An example of the kind of ecosystem feature I need, is an in-game UI that actually works and is production quality in aesthetic possibility.  i.e. that absorbs art assets or otherwise can yield game specific pleasing results.</p>\n<p>It could be an AngelScript ecosystem <em>if</em> I had confidence that the AS community was capable of recruiting enough people and building such things.  But I don\u2019t have confidence that AS has the critical mass needed to sustain such efforts.  It doesn\u2019t even have a Reddit sub.  It has <a href=\"https://www.gamedev.net/forums/forum/34-angelcode/\" rel=\"nofollow noopener\">its official forum on Gamedev.net</a>, that\u2019s it.  I even find that 1 forum hard to read and search through.  AS has made its mark <em>in a number of games</em>, but as far as building an ecosystem around it, I don\u2019t see <em>any</em> evidence of success.  The number of AS projects on GitHub are trivial to count up.  Checked SourceForge too.  Looks like sustaining an ecosystem hasn\u2019t even been basically a goal or on the radar of the AS community.  AS may have accomplished a great purpose once upon a time, \u201cmake it easier to talk to C++\u201d, but it\u2019s not the only scripting language out there with that claim to fame.</p>\n<p>Lua, despite being fractured and having serious ecosystem problems, <em>dwarfs</em> AS.  A reasonable number of game developers know what it is, and that it\u2019s gotten used successfully in the game industry by some big AAA players.  The people who hang out on <a href=\"https://www.lua.org/lua-l.html\" rel=\"nofollow noopener\">Lua-l</a> know that ecosystem is a concern, and that luarocks <em>kinda sucks</em> as a package repository.  People wring hands, remains to be seen what anyone does about its future, but at least a critical mass of people know that <em>it needs to have</em> a future.</p>\n<p>Python dwarfs Lua.  <em>Lots</em> of people know it exists as a language, something that Lua can\u2019t really say.  Nobody\u2019s giving Python the time of day for game engines, due to it being slow and the serious structural limitation of the <a href=\"https://realpython.com/python-gil/\" rel=\"nofollow noopener\">Global Interpreter Lock</a>.  But it absolutely dominates the Visual Effects industry.  Blender and Autodesk both do it, and Python 3.7 is going to be the <a href=\"https://vfxplatform.com/#footnote-python3\" rel=\"nofollow noopener\">VFX Reference Platform</a> this year.  Python 2.7 was end-of-lifed at the beginning of this year.  The 12 year battle is all but over: Python will go kicking and screaming into a unified 3.x era now.</p>\n<p>Here\u2019s a Reddit sampling of what it means for one community to <em>dwarf</em> another.  Number of Members in subs:</p>\n<ul>\n<li>r/programming - 2.5m</li>\n<li>r/Python - 504k</li>\n<li>r/gamedev - 403k</li>\n<li>r/learnpython - 305k</li>\n<li>r/blender - 196k</li>\n<li>r/Unity3D - 169k</li>\n<li>r/csharp - 133k</li>\n<li>r/cpp - 121k</li>\n<li>r/3Dmodeling - 53.3k</li>\n<li>r/vfx - 39.8k</li>\n<li>r/godot - 33.6k</li>\n<li>r/Maya - 26.1k</li>\n<li>r/3dsmax - 16.2k</li>\n<li>r/lua - 8.9k</li>\n<li>an AngelScript sub does not exist</li>\n</ul>\n<p>I will never work on a C# ecology.  Unity owns that space.  Competing against them in open source is <em>insane</em>.  For those that actually are insane, there are a number of C# based engines already, such as <a href=\"https://www.neoaxis.com/\" rel=\"nofollow noopener\">NeoAxis</a> from the Ogre3D pedigree.  Whereas, Python 3.x is a legit basis for competition against Unity, because <em>nobody</em> is doing it successfully (Panda3D is the only one trying and their rendering technology still sucks), and Python in game <em>production</em> does matter.</p>\n<p>If you <em>wanted new blood</em> in Urho3D, you\u2019d build stuff in Python and make it work.</p>\n<p>If for some reason you were tepid and unwilling to do that, you\u2019d have to tackle the ecosystem problem in Lua.  And the only way that could possibly go into the future with a real ecosystem, is with the backing of the core Lua developers and Lua 5.4.  LuaJIT can\u2019t handle this problem.  Performance is great but it\u2019s a development dead end.</p>\n<p>It\u2019s perfectly reasonable to ask if Lua is a good horse to bet on.  If not Lua, AngelScript, Python, or C#, then it would have to be some language not previously discussed.</p>\n<p>Today I learned that someone is working on <a href=\"https://github.com/perbone/luascript\" rel=\"nofollow noopener\">Lua 5.4 support for Godot</a>.  Also claims LuaJIT support, which baffles me.  Maybe it\u2019s all just WIP.  \u201cCurrently I\u2019m experimenting with ways to generate the Lua bindings for the Godot API.\u201d  They are using something called <a href=\"https://github.com/taocpp/PEGTL\" rel=\"nofollow noopener\">Parsing Expression Grammar Template Library</a> (PEGTL).  No mention of this in the Sol3 feature matrix or the list of various known C++ binding tools.  Looks like the work of a \u201cLua jock\u201d just rolling their own and NIH.</p>", "post_number": 9, "post_type": 1, "updated_at": "2020-02-20T19:40:11.173Z", "reply_count": 1, "reply_to_post_number": 8, "quote_count": 0, "incoming_link_count": 1, "reads": 34, "readers_count": 33, "score": 16.8, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 7, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://github.com/perbone/luascript", "internal": false, "reflection": false, "title": "GitHub - perbone/luascript: Lua language support for Godot Engine", "clicks": 4}, {"url": "http://lua-users.org/wiki/BindingCodeToLua", "internal": false, "reflection": false, "title": "lua-users wiki: Binding Code To Lua", "clicks": 1}, {"url": "https://sol2.readthedocs.io/en/latest/features.html#the-feature-matrix", "internal": false, "reflection": false, "title": "features \u2014 sol 3.0.3 documentation", "clicks": 1}, {"url": "https://www.neoaxis.com/", "internal": false, "reflection": false, "title": "NeoAxis Engine", "clicks": 1}, {"url": "https://vfxplatform.com/#footnote-python3", "internal": false, "reflection": false, "title": "VFX Reference Platform", "clicks": 0}, {"url": "https://www.gamedev.net/forums/forum/34-angelcode/", "internal": false, "reflection": false, "clicks": 0}, {"url": "https://www.lua.org/lua-l.html", "internal": false, "reflection": false, "title": "Lua: mailing list", "clicks": 0}, {"url": "https://github.com/taocpp/PEGTL", "internal": false, "reflection": false, "title": "GitHub - taocpp/PEGTL: Parsing Expression Grammar Template Library", "clicks": 0}, {"url": "https://realpython.com/python-gil/", "internal": false, "reflection": false, "title": "What is the Python Global Interpreter Lock (GIL)? \u2013 Real Python", "clicks": 0}], "read": true, "user_title": null, "reply_to_user": {"username": "rku", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36229, "name": "", "username": "rku", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png", "created_at": "2020-02-19T07:26:51.901Z", "cooked": "<aside class=\"quote no-group\" data-username=\"bvanevery\" data-post=\"9\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/b/c77e96/40.png\" class=\"avatar\"> bvanevery:</div>\n<blockquote>\n<p>Unity owns that space. Competing against them in open source is <em>insane</em> .</p>\n</blockquote>\n</aside>\n<p>They do not own shit. It is like saying unreal owns C++\u2026 And there is an unique spot where people want unity, but opensource. And with developer being in control. And with easy mixing of C++/C# code. So that effort is not futile at least. Not trying to downtalk python idea though, i am a huge python fan. If Urho3D had python instead of lua/AS then there would be no rbfx and no C#, that is for sure. I hope someone eventually makes automatic python bindings happen.</p>", "post_number": 10, "post_type": 1, "updated_at": "2020-02-19T07:26:51.901Z", "reply_count": 2, "reply_to_post_number": 9, "quote_count": 1, "incoming_link_count": 0, "reads": 29, "readers_count": 28, "score": 45.8, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "count": 2}], "moderator": false, "admin": false, "staff": false, "user_id": 246, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36231, "name": "Eugene Kozlov", "username": "Eugene", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png", "created_at": "2020-02-19T08:03:28.668Z", "cooked": "<p>I don\u2019t believe python can really be \u201cinstead\u201d of core scripting like Lua/AS.<br>\nPython is more like C# in this sense.<br>\nYou don\u2019t embed Python/C# scripts into C++ engine (Python is really not embedding-friendly).<br>\nYou embed C++ into Python/C# project.<br>\nThat\u2019s different use case for me.</p>", "post_number": 11, "post_type": 1, "updated_at": "2020-02-19T08:03:52.603Z", "reply_count": 3, "reply_to_post_number": 10, "quote_count": 0, "incoming_link_count": 0, "reads": 30, "readers_count": 29, "score": 21.0, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "Eugene Kozlov", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Core developer", "title_is_group": false, "reply_to_user": {"username": "rku", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 484, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36232, "name": "", "username": "rku", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png", "created_at": "2020-02-19T08:51:35.234Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Eugene\" data-post=\"11\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/eugene/40/902_2.png\" class=\"avatar\"> Eugene:</div>\n<blockquote>\n<p>Python is really not embedding-friendly</p>\n</blockquote>\n</aside>\n<p>I would say that is not true. All you need is python3.x.dll + zip with stdlib in order to embed it. Python is easier to embed than C# in a sense that we can make bindings using pybind11, without having extra step of .py glue code generation.</p>", "post_number": 12, "post_type": 1, "updated_at": "2020-02-19T08:51:35.234Z", "reply_count": 0, "reply_to_post_number": 11, "quote_count": 1, "incoming_link_count": 0, "reads": 31, "readers_count": 30, "score": 6.2, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 246, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36233, "name": "", "username": "1vanK", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "created_at": "2020-02-19T09:45:01.446Z", "cooked": "<aside class=\"quote no-group\" data-username=\"Eugene\" data-post=\"11\" data-topic=\"5931\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/eugene/40/902_2.png\" class=\"avatar\"> Eugene:</div>\n<blockquote>\n<p>I don\u2019t believe python can really be \u201cinstead\u201d of core scripting like Lua/AS.<br>\nPython is more like C# in this sense.<br>\nYou don\u2019t embed Python/C# scripts into C++ engine (Python is really not embedding-friendly).<br>\nYou embed C++ into Python/C# project.<br>\nThat\u2019s different use case for me.</p>\n</blockquote>\n</aside>\n<p>Blender - example of embedding Python</p>", "post_number": 13, "post_type": 1, "updated_at": "2020-02-19T09:45:01.446Z", "reply_count": 2, "reply_to_post_number": 11, "quote_count": 1, "incoming_link_count": 0, "reads": 28, "readers_count": 27, "score": 15.6, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": true, "admin": false, "staff": true, "user_id": 263, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36236, "name": "Eugene Kozlov", "username": "Eugene", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png", "created_at": "2020-02-19T10:08:55.716Z", "cooked": "<aside class=\"quote no-group\" data-username=\"1vanK\" data-post=\"13\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/1vank/40/768_2.png\" class=\"avatar\"> 1vanK:</div>\n<blockquote>\n<p>Blender - example of embedding Python</p>\n</blockquote>\n</aside>\n<p>Well, I never said it\u2019s impossible\u2026 The effort and complexity is huge, especially if we want to maintain \u201call from source\u201d Urho paradigm.<br>\nIt would be overkill to pay such price just for scriptable console</p>", "post_number": 14, "post_type": 1, "updated_at": "2020-02-19T10:37:10.110Z", "reply_count": 1, "reply_to_post_number": 13, "quote_count": 1, "incoming_link_count": 2, "reads": 27, "readers_count": 26, "score": 65.4, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "Eugene Kozlov", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Core developer", "title_is_group": false, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 484, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36238, "name": "", "username": "rku", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png", "created_at": "2020-02-19T13:07:34.435Z", "cooked": "<p>When it comes to python common practice is to treat runtime as an external dependency. In case of games it gets more complicated because game should ship everything needed. Engine should use system python installation during development and bundle it with final product. So yeah, it stops being everything-in-tree.</p>", "post_number": 15, "post_type": 1, "updated_at": "2020-02-19T13:07:34.435Z", "reply_count": 1, "reply_to_post_number": 14, "quote_count": 0, "incoming_link_count": 1, "reads": 25, "readers_count": 24, "score": 15.0, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 246, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36246, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-19T16:00:14.458Z", "cooked": "<p>I just don\u2019t see any reasonable reality, where Unity and Unreal aren\u2019t acknowledged as the 900 lb. gorillas of the game industry.  There\u2019s been an almost shocking amount of consolidation and standardization on these platforms.  Most game devs <em>really aren\u2019t</em> into open source, they want to get on with making games and making money.  The business propositions are pretty simple for them.  They <em>don\u2019t want</em> to be the under-the-hood expert, it\u2019s not profitable for them.</p>\n<aside class=\"quote no-group\" data-username=\"rku\" data-post=\"10\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/rku/40/2823_2.png\" class=\"avatar\"> rku:</div>\n<blockquote>\n<p>And there is an unique spot where people want unity, but opensource. And with developer being in control. And with easy mixing of C++/C# code.</p>\n</blockquote>\n</aside>\n<p>And there are projects a lot farther down that road, much more mature, than Urho3D is.  I actually have no idea what your rbfx work is like by comparison.  I saw what happened in the Ogre3D ecosystem with NeoAxis splitting off.  The latter is clearly the one that exhibited long term project professionalism, that had a core developer behind it, who wanted to make sure his effort was sustainable and could make him some money.  When I came to Ogre3D maybe 4 or 5 years ago, it had become the amateur hour.  BTW their dev lead, \u201cSinbad\u201d, had stepped down.  It\u2019s a pattern.</p>\n<p>I <em>do not</em> think there is room in the marketplace, for a large number of open source C# 3D engines.  Unreal is sucking all the air out of the room, and there are only so many volunteers to go around.  What happens when some \u201cyoung buck\u201d starts seriously worrying about paying their own bills, keeping a roof over their head, advancing a demanding career, getting married, and starting a family?  All their time as a single person starts to disappear.  They realize their C# 3D skill is valuable to the Unity ecosystem and <em>zip</em>, gone.  Another one bites the dust.</p>\n<p>Why am <em>I</em> still at this?  Because I\u2019m <em>old</em>, and <em>single</em>.  I come from an era when people rolled their own 3d engines and thought assembly code was a good idea.  I\u2019ve acquired so much knowledge about stuff, that I just can\u2019t stand the idea of using Unity.</p>\n<aside class=\"quote no-group\" data-username=\"rku\" data-post=\"10\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/rku/40/2823_2.png\" class=\"avatar\"> rku:</div>\n<blockquote>\n<p>If Urho3D had python instead of lua/AS then there would be no rbfx and no C#, that is for sure. I hope someone eventually makes automatic python bindings happen.</p>\n</blockquote>\n</aside>\n<p>I\u2019m surprised to hear you\u2019re that positive about it.  The GIL is a serious risk.  It will impose all kinds of application structural burdens on an Urho3D game.  If you want to think hard about what can be done to get around that, I\u2019ll listen.  The preponderance of the evidence is, the \u201cperformance\u201d areas of the Python ecosystem haven\u2019t been dealing with real time user interaction.  Something like NumPy is <em>not</em> relevant to the concerns of a game developer.  They\u2019re doing batch processing.  Ditto the VFX rendering farms.</p>\n<p>Python could certainly work for <em>non-performant</em> games, like for instance a modern adventure game, but I wouldn\u2019t want that to be the advertizing campaign for Urho3D.  I\u2019d want to solve the performance problem somehow.  \u201cYou\u2019d have to have part of your game off in a separate Python process\u201d seems to be the textbook answer.  That kind of boundary, does sound like it would carry significant burdens for the application model.</p>\n<aside class=\"quote no-group\" data-username=\"Eugene\" data-post=\"11\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/eugene/40/902_2.png\" class=\"avatar\"> Eugene:</div>\n<blockquote>\n<p>I don\u2019t believe python can really be \u201cinstead\u201d of core scripting like Lua/AS.</p>\n</blockquote>\n</aside>\n<p>I agree.  A 3d engine needs at least the <em>perception</em> of scripting performance, for marketing purposes.  I don\u2019t believe you can really win an ease-of-use argument if you don\u2019t also have something that\u2019s \u201cfast\u201d.  Doesn\u2019t have to be LuaJIT fast, but it does have to be faster than CPython.  And you\u2019re probably going to have to prove it, not just claim it.  Like have samples that have benchmarks and show how Python, Lua 5.1, LuaJIT, and Lua 5.4 are doing on them.</p>\n<p>Also, Lua has no GIL issue.  That\u2019s structurally significant.</p>\n<aside class=\"quote no-group\" data-username=\"1vanK\" data-post=\"13\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/1vank/40/768_2.png\" class=\"avatar\"> 1vanK:</div>\n<blockquote>\n<p>Blender - example of embedding Python</p>\n</blockquote>\n</aside>\n<p>Blender probably doesn\u2019t have performance characteristics appropriate for a real time 3d game.  The GIL, and the \u201cembed Python\u201d or \u201cembed Urho3D\u201d issue, is highly relevant here.  Remember that historically, Python came to be important in the VFX industry because of <em>running rendering farms</em>.  Not applications development.</p>\n<aside class=\"quote no-group\" data-username=\"rku\" data-post=\"15\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/rku/40/2823_2.png\" class=\"avatar\"> rku:</div>\n<blockquote>\n<p>Engine should use system python installation during development</p>\n</blockquote>\n</aside>\n<p>No, as that puts the burden on Urho3D to support <em>all</em> Pythons 3.x, in <em>all</em> hairy system configurations.  It\u2019s not how I\u2019ve seen any application do their Python support.  They pick the Python they\u2019re using, and they stick with it.  Maya, 3DSMAX, Blender, Panda3D, this is the drill.  At some point they may bump their Python to something higher, but they control the configuration, not you the user.</p>\n<p>Ok technically I have not drilled down to the installation procedures for all of these packages, on say Linux, to know what they do for sure.  I <em>suspect</em> this.  On Windows, most certainly they control the full installation and version of Python.  Linux has the <a href=\"https://vfxplatform.com/\" rel=\"nofollow noopener\">VFX Reference Platform</a>, which matters to the VFX industry.  Note that is <em>not</em> consumer software, you can\u2019t presume any equivalent \u201cregime of sanity\u201d.  If Autodesk gets customer support call, and customer doesn\u2019t have VFX Reference, Autodesk says !#$! you.  If game consumer whines and complains that something doesn\u2019t work, game developer <em>looks bad</em>.</p>", "post_number": 16, "post_type": 1, "updated_at": "2020-02-19T16:29:47.122Z", "reply_count": 1, "reply_to_post_number": 10, "quote_count": 4, "incoming_link_count": 1, "reads": 28, "readers_count": 27, "score": 15.6, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 6, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://vfxplatform.com/", "internal": false, "reflection": false, "title": "VFX Reference Platform", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36248, "name": "SirNate0", "username": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png", "created_at": "2020-02-19T16:20:57.183Z", "cooked": "<p>I don\u2019t really see why the GIL is much of a concern in comparing to Lua/AngelScript - to the best of my knowledge (<a href=\"https://urho3d.github.io/documentation/HEAD/_multithreading.html\">https://urho3d.github.io/documentation/HEAD/_multithreading.html</a>) Urho does not currently support multithreaded scripts, which I understand to be the main (only?) issue caused by the GIL.</p>", "post_number": 17, "post_type": 1, "updated_at": "2020-02-19T16:20:57.183Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 25.2, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "SirNate0", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://urho3d.github.io/documentation/HEAD/_multithreading.html", "internal": false, "reflection": false, "title": "Urho3D - Documentation - Multithreading", "clicks": 1}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 628, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36249, "name": "", "username": "rku", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png", "created_at": "2020-02-19T16:32:58.679Z", "cooked": "<aside class=\"quote no-group\" data-username=\"bvanevery\" data-post=\"16\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/b/c77e96/40.png\" class=\"avatar\"> bvanevery:</div>\n<blockquote>\n<p>I\u2019m surprised to hear you\u2019re that positive about it. The GIL is a serious risk. It will impose all kinds of application structural burdens on an Urho3D game.</p>\n</blockquote>\n</aside>\n<p>Not really. GIL is only a problem in multithreaded code. It is irrelevant in case of scripting game logic in Urho3D because scene updates must always be done on the main thread.</p>\n<aside class=\"quote no-group\" data-username=\"bvanevery\" data-post=\"16\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/b/c77e96/40.png\" class=\"avatar\"> bvanevery:</div>\n<blockquote>\n<p>No, as that puts the burden on Urho3D to support <em>all</em> Pythons 3.x, in <em>all</em> hairy system configurations.</p>\n</blockquote>\n</aside>\n<p>Python has a stable ABI so in case of bindings you can even build a binary that will be compatible with multiple versions. And you as a developer pick one version and stick to it, sure, but it would still be a system installation. I said that runtime has to be shipped with game as opposed to using system installation on user\u2019s machine (that would be crazeeee)</p>", "post_number": 18, "post_type": 1, "updated_at": "2020-02-19T16:32:58.679Z", "reply_count": 1, "reply_to_post_number": 16, "quote_count": 1, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 10.2, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 246, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36250, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-19T16:34:12.077Z", "cooked": "<aside class=\"quote no-group\" data-username=\"SirNate0\" data-post=\"17\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/40.png\" class=\"avatar\"> SirNate0:</div>\n<blockquote>\n<p>Urho does not currently support multithreaded scripts, which I understand to be the main (only?) issue caused by the GIL.</p>\n</blockquote>\n</aside>\n<p>Painting oneself into a corner with Pythonisms, however, is not a good idea.  What if at some point, someone figures out that multithreading a Lua script yields a measurable performance gain for something?  Like when the Lua ecosystem gets bigger and is put under more CPU pressure.  I certainly would keep trying to throw more and more things into Lua, that\u2019s pretty much the point of having a game scripting capability.  At some point it\u2019s going to teeter and totter over somehow.</p>\n<aside class=\"quote no-group\" data-username=\"rku\" data-post=\"18\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/rku/40/3200_2.png\" class=\"avatar\"> rku:</div>\n<blockquote>\n<p>It is irrelevant in case of scripting game logic in Urho3D because scene updates must always be done on the main thread.</p>\n</blockquote>\n</aside>\n<p>Who says that will be true forever?  Open source engines have to seek demonstrable bases of competition.</p>\n<p>Especially, how do you finally put LuaJIT to bed, once and for all?  By <em>optimizing</em> how Lua 5.4 is used.  Gotta optimize something somewhere sometime, in a real application.  Any opportunity is needed.  Whether someone will finally do the work someday or not.</p>", "post_number": 19, "post_type": 1, "updated_at": "2020-02-19T16:51:53.778Z", "reply_count": 1, "reply_to_post_number": 17, "quote_count": 2, "incoming_link_count": 0, "reads": 28, "readers_count": 27, "score": 25.6, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 4, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36272, "name": "SirNate0", "username": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png", "created_at": "2020-02-19T23:25:08.386Z", "cooked": "<aside class=\"quote no-group\" data-username=\"bvanevery\" data-post=\"19\" data-topic=\"5931\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/b/c77e96/40.png\" class=\"avatar\"> bvanevery:</div>\n<blockquote>\n<p>Painting oneself into a corner with Pythonisms, however, is not a good idea. What if at some point, someone figures out that multithreading a Lua script yields a measurable performance gain for something?</p>\n</blockquote>\n</aside>\n<p>What about it? Then Lua will be the better choice over Python, in this hypothetical scenario. Python will still be easier/more enjoyable to write code in (which is subjective, of course). But to even get there, someone will have to enable multithreading support for Lua (and probably add much better threading support to Urho). If you want to do this work, by all means proceed, I\u2019m certain it would greatly benefit Urho.</p>", "post_number": 20, "post_type": 1, "updated_at": "2020-02-19T23:25:08.386Z", "reply_count": 1, "reply_to_post_number": 19, "quote_count": 1, "incoming_link_count": 0, "reads": 27, "readers_count": 26, "score": 10.4, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "SirNate0", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 628, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36274, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-19T23:56:57.259Z", "cooked": "<p>I have to decide to ride either the Lua horse or the Python horse.  Even if I wanted both, it is only sane to implement one before the other.  I don\u2019t start things unless I can finish them.  Finishing one, the question is, what\u2019s the payoff?  If that starts yielding dividends, what is the need and impact upon the other?  They\u2019re not orthogonal.  Do I try to infect Urho3D with Lua 5.4 culture, or with Python 3.x culture?  Leading with one, affects the level of effort that will be put towards the other.</p>\n<p>What I <em>wanted</em>, was to do <a href=\"https://en.wikipedia.org/wiki/Jonathan_Blow#JAI_language\" rel=\"nofollow noopener\">Jai</a> culture, or my own language culture.  But neither are shipped, and I must get on with real work now.</p>\n<p>I do not currently understand all the implications of the GIL.  I do know that there\u2019s a serious issue to overcome, that the entire game industry has spoken about this.  I think I will look at some 2D Python 3.x stuff, and see if I can figure out where it \u201cfalls over\u201d.  See if Blender has benchmarks and profiling too.</p>", "post_number": 21, "post_type": 1, "updated_at": "2020-02-20T00:03:20.880Z", "reply_count": 1, "reply_to_post_number": 20, "quote_count": 0, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 25.2, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://en.wikipedia.org/wiki/Jonathan_Blow#JAI_language", "internal": false, "reflection": false, "title": "Jonathan Blow - Wikipedia", "clicks": 1}], "read": true, "user_title": null, "reply_to_user": {"username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36286, "name": "", "username": "rku", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png", "created_at": "2020-02-20T05:47:58.819Z", "cooked": "<p>Implications of GIL: only one thread can execute <em>python bytecode</em> at one time. This means that calls to a long-running native function can release GIL enabling other python code on another thread to run. I still do not see how we could do multithreaded scene updates from scripts.</p>", "post_number": 22, "post_type": 1, "updated_at": "2020-02-20T05:47:58.819Z", "reply_count": 1, "reply_to_post_number": 21, "quote_count": 0, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 10.2, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "bvanevery", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 246, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36287, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-20T05:55:23.643Z", "cooked": "<p>I was thinking more like 20 complex bots entirely scripted, in either Python or Lua.  Or user written AI analysis of a Civ-style map, entirely in Python or Lua.  Might be piggish, but easy for someone to write up, especially modders.  If you had the cores, why not do it?  \u201cInteresting\u201d if one language allows this and the other doesn\u2019t.</p>", "post_number": 23, "post_type": 1, "updated_at": "2020-02-20T05:55:23.643Z", "reply_count": 0, "reply_to_post_number": 22, "quote_count": 0, "incoming_link_count": 0, "reads": 27, "readers_count": 26, "score": 5.4, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "rku", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 36294, "name": "", "username": "bvanevery", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "created_at": "2020-02-20T18:21:50.953Z", "cooked": "<p>There is something important in the VFX industry, called Katana, that is used for production pipelines somehow.  It does Python <em>and</em> Lua.  A user comments on <a href=\"http://stefanmuller.com/my-katana-opscript-and-lua-journey/\" rel=\"nofollow noopener\">what he ends up doing</a>:</p>\n<blockquote>\n<p>After 3 years of Python scripting, I finally reached that point where I can confidently say that I roughly know, what I am doing. Then I fall in love with Katana and while interface and node graph stuff can be accessed/modified via Python, OpScripts are \u2013 for performance reasons \u2013 Lua based.</p>\n<p>Well, off to something new then. <img src=\"https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=9\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\"></p>\n</blockquote>\n<p>Someone wrote a tech piece on why you choose Python, Lua, or C++ when working with Katana.  <a href=\"https://support.foundry.com/hc/en-us/articles/360001288699-Q100443-Scripting-and-Programming-in-Katana\" rel=\"nofollow noopener\">Her findings</a>:</p>\n<blockquote>\n<p><strong>PYTHON - PERFORMANCE CONSIDERATIONS</strong></p>\n<p>Where faster performance is required, Python isn\u2019t always an ideal choice (partly due to the dreaded <a href=\"https://wiki.python.org/moin/GlobalInterpreterLock\" rel=\"nofollow noopener\">GIL</a>).</p>\n<p>In the context of parameter expressions, a faster alternative to Python expressions is available for simple expressions that reference nodes or parameters. This is called <a href=\"https://learn.foundry.com/katana/dev-guide/ParameterExpressions/ReferenceExpressions.html\" rel=\"nofollow noopener\">Reference Expressions</a>, please follow the link to the Katana Developer Guide for further information.</p>\n<p>Previous releases of Katana have suffered from stability issues when running Python-based AttributeScripts and asset plug-ins out-of-process through the so-called Katana ProcessManager.</p>\n<p>While the stability of ProcessManager was improved in the Katana 2.5 release (see TP 128448 in the <a href=\"https://thefoundry.s3.amazonaws.com/products/katana/releases/2.5v1/Katana_2.5v1_ReleaseNotes/index.html\" rel=\"nofollow noopener\">Katana 2.5v1 Release Notes</a>), the performance of Python especially in the context of scene evaluation is problematic.</p>\n<p>Lua offers better performance, making it a preferred scripting language for scene graph processing operations using <a href=\"https://learn.foundry.com/katana/Default.html#ug/working_with_attributes/opscript_nodes.html\" rel=\"nofollow noopener\">OpScript</a> nodes.</p>\n<p><strong>LUA</strong></p>\n<p>Lua is used within the OpScript node in Katana. Using OpScript/Lua it\u2019s possible to access the Op API, which is both faster and more powerful than Python. In particular, the OpScript node allows you to modify the structure of the scene graph hierarchy, such as deleting locations, creating new child locations as well as setting and editing attributes.</p>\n</blockquote>\n<p>Katana is <a href=\"https://learn.foundry.com/katana/dev-guide/EnvironmentVariables.html#debugging\" rel=\"nofollow noopener\">Lua 5.1 or LuaJIT 2.1</a> (presumed beta3).  LuaJIT is default:</p>\n<blockquote>\n<p>KATANA_OPSCRIPT_INTERPRETER<br>\nSwitches the Lua interpreter used by the OpScript node to either Lua 5.1 (if set to \u2018Lua_5_1\u2019) or LuaJIT 2.1 (if unset, or set to \u2018LuaJIT_2_1\u2019). LuaJIT provides better performance.</p>\n</blockquote>\n<p>My takeaway from all of this, is you can do scene graph level magic with LuaJIT that you simply can\u2019t do with Python.  But whether you can pull it off in Lua 5.4, is unknown.  Lua is a simpler programming model than Python.  You don\u2019t worry about the GIL, you don\u2019t have to do any elaborate dance to structure your game around it.  You can make a highly threaded scripted game if you want to.  Katana would seem to be proof of concept of this, their sales literature is all about performance stuff.  But in choosing Lua, you <em>do</em> have to deal with Lua, which is \u201cweird\u201d.  Not <em>bad</em>, but different.</p>\n<p>Blender devs believe that \u201cPython Modifiers / Compositing / Sequence Effects\u201d are <a href=\"https://wiki.blender.org/wiki/Reference/AntiFeatures\" rel=\"nofollow noopener\">AntiFeatures</a> that should never be included in Blender:</p>\n<blockquote>\n<p>Python is not well suited for fast interactive operations on large data sets such as pixels or vertices.</p>\n<p>Even in cases where computation can be optimized, Python has a global interpreter lock (GIL), making any operations which use it single threaded.</p>\n<p>Using LLVM may be an option (as we already have for OSL), this would be long term project which needs to be carefully integrated into Blender\u2019s architecture.</p>\n</blockquote>\n<p>So again, this is something that Lua can do, that Python cannot.</p>", "post_number": 24, "post_type": 1, "updated_at": "2020-02-20T19:56:12.329Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 1, "reads": 29, "readers_count": 28, "score": 10.8, "yours": false, "topic_id": 5931, "topic_slug": "interest-in-lua-5-4", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 6, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://support.foundry.com/hc/en-us/articles/360001288699-Q100443-Scripting-and-Programming-in-Katana", "internal": false, "reflection": false, "title": "Q100443: Scripting and Programming in Katana \u2013 Foundry", "clicks": 2}, {"url": "https://learn.foundry.com/katana/dev-guide/EnvironmentVariables.html#debugging", "internal": false, "reflection": false, "title": "Environment Variables \u2014 Katana Developer Guide", "clicks": 1}, {"url": "https://wiki.blender.org/wiki/Reference/AntiFeatures", "internal": false, "reflection": false, "title": "Reference/AntiFeatures - Blender Developer Wiki", "clicks": 1}, {"url": "http://stefanmuller.com/my-katana-opscript-and-lua-journey/", "internal": false, "reflection": false, "clicks": 1}, {"url": "https://wiki.python.org/moin/GlobalInterpreterLock", "internal": false, "reflection": false, "title": "GlobalInterpreterLock - Python Wiki", "clicks": 0}, {"url": "https://thefoundry.s3.amazonaws.com/products/katana/releases/2.5v1/Katana_2.5v1_ReleaseNotes/index.html", "internal": false, "reflection": false, "title": "Katana 2.5v1 Release Notes", "clicks": 0}, {"url": "https://learn.foundry.com/katana/Default.html#ug/working_with_attributes/opscript_nodes.html", "internal": false, "reflection": false, "clicks": 0}, {"url": "https://learn.foundry.com/katana/dev-guide/ParameterExpressions/ReferenceExpressions.html", "internal": false, "reflection": false, "title": "Reference Expressions \u2014 Katana Developer Guide", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 294, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}], "stream": [36162, 36164, 36165, 36169, 36171, 36173, 36174, 36194, 36211, 36229, 36231, 36232, 36233, 36236, 36238, 36246, 36248, 36249, 36250, 36272, 36274, 36286, 36287, 36294]}, "timeline_lookup": [[1, 1010], [4, 1009], [10, 1008], [20, 1007], [24, 1006]], "tags_descriptions": {}, "id": 5931, "title": "Interest in Lua 5.4?", "fancy_title": "Interest in Lua 5.4?", "posts_count": 24, "created_at": "2020-02-17T04:18:06.746Z", "views": 1991, "reply_count": 18, "like_count": 12, "last_posted_at": "2020-02-20T18:21:50.953Z", "visible": true, "closed": false, "archived": false, "has_summary": false, "archetype": "regular", "slug": "interest-in-lua-5-4", "category_id": 16, "word_count": 5998, "deleted_at": null, "user_id": 294, "featured_link": null, "pinned_globally": false, "pinned_at": null, "pinned_until": null, "image_url": null, "slow_mode_seconds": 0, "draft": null, "draft_key": "topic_5931", "draft_sequence": null, "unpinned": null, "pinned": false, "current_post_number": 1, "highest_post_number": 24, "deleted_by": null, "actions_summary": [{"id": 4, "count": 0, "hidden": false, "can_act": false}, {"id": 8, "count": 0, "hidden": false, "can_act": false}, {"id": 7, "count": 0, "hidden": false, "can_act": false}], "chunk_size": 20, "bookmarked": false, "bookmarks": [], "topic_timer": null, "message_bus_last_id": 0, "participant_count": 6, "show_read_indicator": false, "thumbnails": null, "slow_mode_enabled_until": null, "tags_disable_ads": false, "details": {"can_edit": false, "notification_level": 1, "participants": [{"id": 294, "username": "bvanevery", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png", "post_count": 10, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 246, "username": "rku", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png", "post_count": 7, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 484, "username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png", "post_count": 3, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 180, "username": "S.L.C", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/s.l.c/{size}/1016_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 0}, {"id": 263, "username": "1vanK", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "moderator": true, "trust_level": 4}], "created_by": {"id": 294, "username": "bvanevery", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png"}, "last_poster": {"id": 294, "username": "bvanevery", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png"}, "links": [{"url": "https://github.com/SteveKChiu/lua-intf", "title": "GitHub - SteveKChiu/lua-intf: A binding between C++11 and Lua language", "internal": false, "attachment": false, "reflection": false, "clicks": 11, "user_id": 246, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://github.com/ThePhD/sol2", "title": "GitHub - ThePhD/sol2: Sol3 (sol2 v3.0) - a C++ <-> Lua API wrapper with advanced features and top notch performance - is here, and it's great! Documentation:", "internal": false, "attachment": false, "reflection": false, "clicks": 10, "user_id": 294, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://www.lua.org/", "title": "The Programming Language Lua", "internal": false, "attachment": false, "reflection": false, "clicks": 8, "user_id": 294, "domain": "www.lua.org", "root_domain": "lua.org"}, {"url": "https://www.freelists.org/post/luajit/Looking-for-new-LuaJIT-maintainers", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 5, "user_id": 294, "domain": "www.freelists.org", "root_domain": "freelists.org"}, {"url": "https://www.lua.org/work/doc/manual.html#8", "title": "Lua 5.4 Reference Manual", "internal": false, "attachment": false, "reflection": false, "clicks": 5, "user_id": 294, "domain": "www.lua.org", "root_domain": "lua.org"}, {"url": "https://github.com/perbone/luascript", "title": "GitHub - perbone/luascript: Lua language support for Godot Engine", "internal": false, "attachment": false, "reflection": false, "clicks": 4, "user_id": 294, "domain": "github.com", "root_domain": "github.com"}, {"url": "https://www.lua.org/manual/5.2/manual.html#8", "title": "Lua 5.2 Reference Manual", "internal": false, "attachment": false, "reflection": false, "clicks": 2, "user_id": 294, "domain": "www.lua.org", "root_domain": "lua.org"}, {"url": "https://support.foundry.com/hc/en-us/articles/360001288699-Q100443-Scripting-and-Programming-in-Katana", "title": "Q100443: Scripting and Programming in Katana \u2013 Foundry", "internal": false, "attachment": false, "reflection": false, "clicks": 2, "user_id": 294, "domain": "support.foundry.com", "root_domain": "foundry.com"}, {"url": "https://www.lua.org/work/doc/", "title": "Lua 5.4 readme", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "www.lua.org", "root_domain": "lua.org"}, {"url": "https://www.neoaxis.com/", "title": "NeoAxis Engine", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "www.neoaxis.com", "root_domain": "neoaxis.com"}, {"url": "http://lua-users.org/wiki/BindingCodeToLua", "title": "lua-users wiki: Binding Code To Lua", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "lua-users.org", "root_domain": "lua-users.org"}, {"url": "http://www.inf.puc-rio.br/~roberto/lpeg/", "title": "LPeg - Parsing Expression Grammars For Lua", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "www.inf.puc-rio.br", "root_domain": "puc-rio.br"}, {"url": "https://en.wikipedia.org/wiki/Jonathan_Blow#JAI_language", "title": "Jonathan Blow - Wikipedia", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "en.wikipedia.org", "root_domain": "wikipedia.org"}, {"url": "https://learn.foundry.com/katana/dev-guide/EnvironmentVariables.html#debugging", "title": "Environment Variables \u2014 Katana Developer Guide", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "learn.foundry.com", "root_domain": "foundry.com"}, {"url": "https://sol2.readthedocs.io/en/latest/features.html#the-feature-matrix", "title": "features \u2014 sol 3.0.3 documentation", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "sol2.readthedocs.io", "root_domain": "sol2.readthedocs.io"}, {"url": "http://stefanmuller.com/my-katana-opscript-and-lua-journey/", "title": null, "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "stefanmuller.com", "root_domain": "stefanmuller.com"}, {"url": "https://urho3d.github.io/documentation/HEAD/_multithreading.html", "title": "Urho3D - Documentation - Multithreading", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 628, "domain": "urho3d.github.io", "root_domain": "urho3d.github.io"}, {"url": "https://wiki.blender.org/wiki/Reference/AntiFeatures", "title": "Reference/AntiFeatures - Blender Developer Wiki", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "wiki.blender.org", "root_domain": "blender.org"}, {"url": "https://www.lua.org/manual/5.2/readme.html#changes", "title": "Lua 5.2 readme", "internal": false, "attachment": false, "reflection": false, "clicks": 1, "user_id": 294, "domain": "www.lua.org", "root_domain": "lua.org"}]}, "suggested_topics": [{"id": 7196, "title": "Windows Urho3D build with -DURHO3D_OPENGL=1 using rake", "fancy_title": "Windows Urho3D build with -DURHO3D_OPENGL=1 using rake", "slug": "windows-urho3d-build-with-durho3d-opengl-1-using-rake", "posts_count": 18, "reply_count": 9, "highest_post_number": 19, "image_url": null, "created_at": "2022-02-20T12:49:25.777Z", "last_posted_at": "2022-02-24T18:24:11.679Z", "bumped": true, "bumped_at": "2022-02-24T18:24:11.679Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 3, "views": 254, "category_id": 16, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 421, "username": "Lunarovich", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/lunarovich/{size}/2097_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 263, "username": "1vanK", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 631, "username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 4, "username": "weitjong", "name": "Yao Wei Tjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]}, {"id": 7101, "title": "Unique Per-Node Shader Uniform for Model-Particles", "fancy_title": "Unique Per-Node Shader Uniform for Model-Particles", "slug": "unique-per-node-shader-uniform-for-model-particles", "posts_count": 2, "reply_count": 0, "highest_post_number": 2, "image_url": null, "created_at": "2021-12-16T03:16:09.579Z", "last_posted_at": "2021-12-16T09:40:41.978Z", "bumped": true, "bumped_at": "2021-12-16T09:40:41.978Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 139, "category_id": 16, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}, {"id": 7073, "title": "A plan to support static batching", "fancy_title": "A plan to support static batching", "slug": "a-plan-to-support-static-batching", "posts_count": 5, "reply_count": 2, "highest_post_number": 5, "image_url": null, "created_at": "2021-12-01T03:43:48.579Z", "last_posted_at": "2021-12-02T23:30:07.199Z", "bumped": true, "bumped_at": "2021-12-02T23:30:07.199Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 1, "views": 180, "category_id": 16, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1490, "username": "Sunc", "name": "DoubleSuper", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/df788c/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 484, "username": "Eugene", "name": "Eugene Kozlov", "avatar_template": "/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}, {"id": 7062, "title": "Is WebGL2.0 & GLES3.0 being supported in the near future?", "fancy_title": "Is WebGL2.0 &amp; GLES3.0 being supported in the near future?", "slug": "is-webgl2-0-gles3-0-being-supported-in-the-near-future", "posts_count": 2, "reply_count": 0, "highest_post_number": 2, "image_url": null, "created_at": "2021-11-23T09:04:28.802Z", "last_posted_at": "2021-11-23T21:44:08.088Z", "bumped": true, "bumped_at": "2021-11-23T21:44:08.088Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 1, "views": 199, "category_id": 16, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 1490, "username": "Sunc", "name": "DoubleSuper", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/df788c/{size}.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 631, "username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}, {"id": 7223, "title": "navMesh.FindPath(jack1.Position, pathPos); crash in android", "fancy_title": "navMesh.FindPath(jack1.Position, pathPos); crash in android", "slug": "navmesh-findpath-jack1-position-pathpos-crash-in-android", "posts_count": 15, "reply_count": 13, "highest_post_number": 17, "image_url": null, "created_at": "2022-03-22T06:21:34.927Z", "last_posted_at": "2022-03-30T17:48:22.028Z", "bumped": true, "bumped_at": "2022-03-30T17:48:22.028Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 0, "views": 242, "category_id": 16, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 1503, "username": "tianlv777", "name": "zerrrrr", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/a4c791/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 230, "username": "Nerrik", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 809, "username": "elix22", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]}]}