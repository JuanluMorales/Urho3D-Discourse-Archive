{"post_stream":{"posts":[{"id":9960,"name":"","username":"atai","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/45deac/{size}.png","created_at":"2016-02-02T01:58:31.000Z","cooked":"\u003cp\u003eHi, looking at the class Thread it uses a static variable to point to the Main Thread.\u003c/p\u003e\n\u003cp\u003eI am just curious can multiple instances of Urho3D Engines exist in the same process?  Using analogy in programming languages, Lua allows multiple interpreters to exist concurrently, while Python suffers from a “global lock” and cannot have more than one instance of its interpreter in a process. Looking at the Urho3D sources at a high level it seems there is no obvious restrictions that only one instance (of a Context or Engine) can exist.\u003c/p\u003e\n\u003cp\u003e(Use case: multiple OS level (X11) windows on GNU/Linux, each window rendering with its own Urho3D context/engine in its own thread, running concurrently, all in the same process)\u003c/p\u003e\n\u003cp\u003eIf multiple instances can exist, then should the main thread be tracked at the basis of contexts; that is, the main thread pointer should exist inside the Context class and different threads can serve as the main threads of different contexts, one per context or engine and each independent of the other.\u003cbr\u003e\nAnd the thread class needs to take a context as an explicit or implicit parameter for its main thread setting and checking functions.\u003c/p\u003e\n\u003cp\u003eI hope the above description is true:-)\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:09:47.901Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":32,"reads":12,"readers_count":11,"score":162.4,"yours":false,"topic_id":1736,"topic_slug":"main-thread-and-multiple-instances-of-urho3d-coexisting","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":371,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":9970,"name":"","username":"thebluefish","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","created_at":"2016-02-02T18:10:57.000Z","cooked":"\u003cp\u003eYes, it is definitely possible.\u003c/p\u003e\n\u003cp\u003eYou will run into issues with OpenGL with multiple GL contexts. \u003ca href=\"https://github.com/urho3d/Urho3D/commit/c3d5df1ea41d98f55a6fe1c70a5517d35777acd6\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003eI submitted a PR a while back\u003c/a\u003e exposing a public property to allow you to properly use SDL_GL_MakeCurrent to handle this case. Used in the right spots, there should be no issues.\u003c/p\u003e\n\u003cp\u003eSubsystems, events, etc… are “global” to the Context only. Each Context can therefore have an Engine, Renderer, etc… without running into conflicts.\u003c/p\u003e\n\u003cp\u003eYou should be able to create the Urho3D Context on its own thread, but I haven’t tested this.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:09:48.613Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":12,"readers_count":11,"score":7.4,"yours":false,"topic_id":1736,"topic_slug":"main-thread-and-multiple-instances-of-urho3d-coexisting","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/commit/c3d5df1ea41d98f55a6fe1c70a5517d35777acd6","internal":false,"reflection":false,"title":"Update OGLGraphicsImpl.h · urho3d/Urho3D@c3d5df1 · GitHub","clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":80,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":9972,"name":"","username":"atai","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/45deac/{size}.png","created_at":"2016-02-02T19:30:30.000Z","cooked":"\u003cp\u003e[quote=“thebluefish”]\u003cbr\u003e\nSubsystems, events, etc… are “global” to the Context only. Each Context can therefore have an Engine, Renderer, etc… without running into conflicts.\u003c/p\u003e\n\u003cp\u003eYou should be able to create the Urho3D Context on its own thread, but I haven’t tested this.[/quote]\u003c/p\u003e\n\u003cp\u003eYes, I created a new thread and set it to be the main thread for a context, and it works fine.  Previously I was tryng to do things to a context/engine from different threads, and I gave up on that.  Now I use C++11 lamdas to “dispatch” C blocks to execute on this main thread from other threads so everything touching this engine is done in this single thread, and I don’t have issues.\u003c/p\u003e\n\u003cp\u003eNow with the workaround for switching GL contexts between Urho3D instances, and hopefully multiple Urho3D engines run concurrently and happily together \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:09:48.772Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":12,"readers_count":11,"score":2.4,"yours":false,"topic_id":1736,"topic_slug":"main-thread-and-multiple-instances-of-urho3d-coexisting","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":371,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10274,"name":"","username":"TheComet","avatar_template":"/user_avatar/discourse.urho3d.io/thecomet/{size}/1493_2.png","created_at":"2016-02-19T18:40:19.000Z","cooked":"\u003cp\u003eWhat’s the use-case for this if you don’t mind me asking?\u003c/p\u003e\n\u003cp\u003eThe only thing I can imagine is a client + server combination, the server running in headless mode.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:10:11.913Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":11,"readers_count":10,"score":12.2,"yours":false,"topic_id":1736,"topic_slug":"main-thread-and-multiple-instances-of-urho3d-coexisting","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Community repository maintainer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":37,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10277,"name":"","username":"atai","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/45deac/{size}.png","created_at":"2016-02-19T18:52:00.000Z","cooked":"\u003cp\u003e[quote=“TheComet”]What’s the use-case for this if you don’t mind me asking?\u003c/p\u003e\n\u003cp\u003eThe only thing I can imagine is a client + server combination, the server running in headless mode.[/quote]\u003c/p\u003e\n\u003cp\u003eOK  for OS platform restrictions where the real main thread has to do something else, I can have a different thread being the main thread for a renderer which draws into an OS level window (X11 window, for example), and I may have several renderers in several windows doing different things\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:10:12.136Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":1736,"topic_slug":"main-thread-and-multiple-instances-of-urho3d-coexisting","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":371,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10278,"name":"","username":"thebluefish","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","created_at":"2016-02-19T19:05:03.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/thecomet/40/142_1.png\" class=\"avatar\"\u003e TheComet:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWhat’s the use-case for this if you don’t mind me asking?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI probably have different use-cases for this:\u003c/p\u003e\n\u003cp\u003eNative windowing support (X11, Windows, etc…). A rendering context can target a single window, not multiple. If you wanted to target multiple windows, you would need support for multiple rendering contexts. In cases where you want to manage multiple windows from the same project, you’d need to create multiple rendering contexts within the same Urho3D Context. However sometimes you might want to wall certain things from each other. For example, if you were editing a map and wanted to “launch” the map in an instance of the game. You wouldn’t want events and subsystems from the editor affecting your game, but instead launching it in its own Context as if it was a standalone process. It helps to keep multiple Contexts in the same process in order to obtain better control over the life of each.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:10:12.204Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":1736,"topic_slug":"main-thread-and-multiple-instances-of-urho3d-coexisting","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":80,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[9960,9970,9972,10274,10277,10278]},"timeline_lookup":[[1,2486],[2,2485],[4,2468]],"suggested_topics":[{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11？","fancy_title":"Do we give up supporting dx11？","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7260,"title":"Is urho3d supported on Windows 8 and below?","fancy_title":"Is urho3d supported on Windows 8 and below?","slug":"is-urho3d-supported-on-windows-8-and-below","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-05-11T12:24:39.422Z","last_posted_at":"2022-05-11T12:50:41.468Z","bumped":true,"bumped_at":"2022-05-11T12:50:41.468Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":5,"views":103,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1519,"username":"Integar","name":"Torque189","avatar_template":"/user_avatar/discourse.urho3d.io/integar/{size}/3795_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7126,"title":":checkered_flag: Urho Kart","fancy_title":":checkered_flag: Urho Kart","slug":"urho-kart","posts_count":6,"reply_count":3,"highest_post_number":6,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/1/1281338493c5b7deaf16a1166af11a78504bde16.png","created_at":"2022-01-13T03:17:23.415Z","last_posted_at":"2022-01-14T20:54:48.999Z","bumped":true,"bumped_at":"2022-01-14T21:16:54.291Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🏁 Urho Kart","tags_descriptions":{},"like_count":10,"views":385,"category_id":14,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]}],"tags_descriptions":{},"id":1736,"title":"Main thread and multiple instances of Urho3D coexisting?","fancy_title":"Main thread and multiple instances of Urho3D coexisting?","posts_count":6,"created_at":"2016-02-02T01:58:31.000Z","views":329,"reply_count":0,"like_count":0,"last_posted_at":"2016-02-19T19:05:03.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"main-thread-and-multiple-instances-of-urho3d-coexisting","category_id":9,"word_count":723,"deleted_at":null,"user_id":371,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1736","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":371,"username":"atai","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/45deac/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":80,"username":"thebluefish","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":37,"username":"TheComet","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/thecomet/{size}/1493_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":371,"username":"atai","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/45deac/{size}.png"},"last_poster":{"id":80,"username":"thebluefish","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png"},"links":[{"url":"https://github.com/urho3d/Urho3D/commit/c3d5df1ea41d98f55a6fe1c70a5517d35777acd6","title":"Update OGLGraphicsImpl.h · urho3d/Urho3D@c3d5df1 · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":80,"domain":"github.com","root_domain":"github.com"}]}}