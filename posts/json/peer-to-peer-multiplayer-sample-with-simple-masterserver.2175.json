{"post_stream":{"posts":[{"id":13181,"name":"","username":"EricDeflandres","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/e/ecccb3/{size}.png","created_at":"2016-08-11T16:55:02.000Z","cooked":"\u003cp\u003eIMHO, an important missing sample would be a small peer-to-peer multiplayer game based on CharacterDemo, including a simple C++ or Node.js lobby masterserver with built-in NAT-punchthrough.\u003c/p\u003e\n\u003cp\u003eThat could be a simple game allowing players to choose the blue or red team, and then control walking characters throwing balls at the other players. The last player alive wins the game for his team. Nothing more.\u003c/p\u003e\n\u003cp\u003eWhen a player starts the application, he waits to be connected to a lobby. The masterserver decides if he connects him to an incomplete lobby, or creates a new lobby.\u003c/p\u003e\n\u003cp\u003eThe player joins that lobby, and when the lobby is full enough (for instance at least two players in each team), the masterserver decides which player will be the server for the other players, and the game starts.\u003c/p\u003e\n\u003cp\u003eIf the player which is currently the server for the other players suddenly disconnects during the game, another player in the lobby (i.e. the next in the lobby player list, or the one with the fastest upload speed) transparently becomes the new server for the other players of the lobby, so that the game can go on until one of the teams wins.\u003c/p\u003e\n\u003cp\u003eThe NAT-punchtrough feature could be based on libjingle, or on Keith Johnston’s code in Atomic Game Engine.\u003c/p\u003e\n\u003cp\u003eAs simple as this sample game seems, I find very hard to implement it myself, and this sample alone would probably be enough to make Urho3d the best available engine for indie developers like me who want to implement a peer-to-peer multiplayer game…\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:13:40.726Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":656,"reads":85,"readers_count":84,"score":3329.0,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":525,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":13195,"name":"","username":"rku","avatar_template":"/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png","created_at":"2016-08-12T14:27:05.000Z","cooked":"\u003cp\u003eThat sounds like a great idea. Contributions are welcome.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:13:41.718Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":13,"reads":81,"readers_count":80,"score":81.2,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":246,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26244,"name":"","username":"smellymumbler","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png","created_at":"2018-10-18T17:27:01.672Z","cooked":"\u003cp\u003eHere’s a good source: \u003ca href=\"https://github.com/ArnisLielturks/Urho3D-NAT-server\" rel=\"nofollow noopener\"\u003ehttps://github.com/ArnisLielturks/Urho3D-NAT-server\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eIMHO, P2P is ideal for indie development. Not having to worry about an AWS bill every month is just amazing.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-10-18T17:27:01.672Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":18,"reads":74,"readers_count":73,"score":104.8,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/ArnisLielturks/Urho3D-NAT-server","internal":false,"reflection":false,"title":"GitHub - ArnisLielturks/Urho3D-NAT-server: NAT punchtrough server built on top of Urho3D","clicks":102}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":674,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26246,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2018-10-19T10:00:52.763Z","cooked":"\u003cp\u003eThe networking library that the Urho3D currently uses for networking (SlikeNet a.k.a ex RakNet) is pretty powerfull and can actually do these kind of things. I was also planning to create some sort of master server / lobby sample in the future, but I’m not sure when exactly I will do that.\u003c/p\u003e\n\u003cp\u003eIf you look at the library samples you can seen that some of the things that you mentioned are already there, it’s just a matter of enabling and tweaking them when building the Urho3D engine itself. \u003ca href=\"https://github.com/SLikeSoft/SLikeNet/tree/master/Samples\" rel=\"nofollow noopener\"\u003ehttps://github.com/SLikeSoft/SLikeNet/tree/master/Samples\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAlso did a quick googling and found out this sample which shows P2P chat functionality with the same library - \u003ca href=\"https://github.com/antarktikali/raknet-p2p-chat\" rel=\"nofollow noopener\"\u003ehttps://github.com/antarktikali/raknet-p2p-chat\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eNote: NAT punchtrough functionality is already supported by the Urho3D engine.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2018-10-19T10:08:27.261Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":6,"reads":72,"readers_count":71,"score":149.4,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/SLikeSoft/SLikeNet/tree/master/Samples","internal":false,"reflection":false,"title":"SLikeNet/Samples at master · SLikeSoft/SLikeNet · GitHub","clicks":23},{"url":"https://github.com/antarktikali/raknet-p2p-chat","internal":false,"reflection":false,"title":"GitHub - antarktikali/raknet-p2p-chat: RakNet peer to peer chat example using NAT punchthrough","clicks":18}],"read":true,"user_title":"Core Developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":3}],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26302,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2018-10-23T06:21:39.355Z","cooked":"\u003cp\u003eTook a look around the SlikeNet samples, this one in particular looks like the one that we need:\u003cbr\u003e\n\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/SLikeSoft/SLikeNet/blob/master/Samples/ComprehensivePCGame/ComprehensivePCGame.cpp\" target=\"_blank\" rel=\"nofollow noopener\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/SLikeSoft/SLikeNet/blob/master/Samples/ComprehensivePCGame/ComprehensivePCGame.cpp\" target=\"_blank\" rel=\"nofollow noopener\"\u003eSLikeSoft/SLikeNet/blob/master/Samples/ComprehensivePCGame/ComprehensivePCGame.cpp\u003c/a\u003e\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class=\"lang-cpp\"\u003e/*\n *  Original work: Copyright (c) 2014, Oculus VR, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  RakNet License.txt file in the licenses directory of this source tree. An additional grant \n *  of patent rights can be found in the RakNet Patents.txt file in the same directory.\n *\n *\n *  Modified work: Copyright (c) 2016-2018, SLikeSoft UG (haftungsbeschränkt)\n *\n *  This source code was modified by SLikeSoft. Modifications are licensed under the MIT-style\n *  license found in the license.txt file in the root directory of this source tree.\n */\n\n#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;cstring\u0026gt;\n#include \u0026lt;stdlib.h\u0026gt;\n#include \u0026lt;limits\u0026gt; // used for std::numeric_limits\n#include \"slikenet/GetTime.h\"\n\u003c/code\u003e\u003c/pre\u003e\n\n  This file has been truncated. \u003ca href=\"https://github.com/SLikeSoft/SLikeNet/blob/master/Samples/ComprehensivePCGame/ComprehensivePCGame.cpp\" target=\"_blank\" rel=\"nofollow noopener\"\u003eshow original\u003c/a\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\u003c/p\u003e\n\u003cp\u003eIt shows the master server, lobby, team and P2P functionality with the help of NAT punchtrough.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2018-10-23T06:21:39.355Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":7,"reads":67,"readers_count":66,"score":63.4,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/SLikeSoft/SLikeNet/blob/master/Samples/ComprehensivePCGame/ComprehensivePCGame.cpp","internal":false,"reflection":false,"title":"SLikeNet/ComprehensivePCGame.cpp at master · SLikeSoft/SLikeNet · GitHub","clicks":26}],"read":true,"user_title":"Core Developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26344,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2018-10-25T16:30:10.219Z","cooked":"\u003cp\u003eSmall update on this:\u003c/p\u003e\n\u003cp\u003eI was able to get the P2P functionality up and running in the Urho3D networking system, only problem with this tho is that the P2P flows differ from the basic Client-Server quite a lot so the code refactoring to support both modes could take some time, probably few weeks or so. On the bright side it all looks really promissing and I hope I will be able to finish this in November.\u003c/p\u003e\n\u003cp\u003eFeature branch: \u003ca href=\"https://github.com/urho3d/Urho3D/tree/p2p-multiplayer\" rel=\"nofollow noopener\"\u003ehttps://github.com/urho3d/Urho3D/tree/p2p-multiplayer\u003c/a\u003e\u003cbr\u003e\nThe code is messy at this point and there might be some memory leaks when connecting/disconnecting between sessions. Also at this stage the code supports only P2P mode, Client-Server mode probably won’t work.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2018-10-25T16:30:10.219Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":64,"readers_count":63,"score":92.8,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/tree/p2p-multiplayer","internal":false,"reflection":false,"title":"GitHub - urho3d/Urho3D at p2p-multiplayer","clicks":15}],"read":true,"user_title":"Core Developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":3}],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26345,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2018-10-25T19:26:41.503Z","cooked":"\u003cp\u003ePreview:\u003cbr\u003e\n            \u003cvideo width=\"695\" height=\"476\" title=\"Imgur\" controls=\"\" loop=\"\"\u003e\n              \u003csource src=\"https://i.imgur.com/TASdzCH.mp4\" type=\"video/mp4\"\u003e\u003c/source\u003e\n              \u003csource src=\"https://i.imgur.com/TASdzCH.webm\" type=\"video/webm\"\u003e\u003c/source\u003e\n            \u003c/video\u003e\n\u003c/p\u003e\n\u003cp\u003eFew details about the demo:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eAs a master server I used plain PHP script to parse incoming requests and and save user GUID in the txt file. All the systems periodally make a request to a similar url to retrieve whatever information is  stored in the txt file.  This kind of imitates a real Master server functionality and automates the testing part for me. When someone creates a new session, he basically makes a request to the server to rewrite the txt file content with his/her GUID.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAll applications join the same session, each participant knows everything about other participants and the one who is in the session the longest becomes the host. There’s a small button at the bottom left corner which resets the timer for the application and when it’s pressed, someone else becomes a host\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWhen the host quits the application, all the peers in the network get the timeout message (by default after 10s) and elect a new host\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eI created a small sphere object which position and linear velocity is changed each frame for the peer who acts as a host, for others the same sphere is affected by the physics engine just so you and I can see the actual effects of being the host.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003eEdit: Sorry for the framerate!\u003c/p\u003e\n\u003c/blockquote\u003e","post_number":7,"post_type":1,"updated_at":"2018-10-25T19:31:11.054Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":64,"readers_count":63,"score":167.8,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core Developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":8}],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26346,"name":"","username":"smellymumbler","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png","created_at":"2018-10-25T23:13:54.637Z","cooked":"\u003cp\u003eHoly crap, you work fast! That’s quite cool. Dying to test it on my router and check the latency.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2018-10-25T23:13:54.637Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":3,"reads":60,"readers_count":59,"score":32.0,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":674,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26349,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2018-10-26T07:32:22.031Z","cooked":"\u003cp\u003eNot really that fast, this took me 3 days to get to this point. A lot of trial and error along the way. Still a lot of things that I haven’t yet implemented. On the bright side I really enjoy working on this.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2018-10-26T07:32:22.031Z","reply_count":0,"reply_to_post_number":8,"quote_count":0,"incoming_link_count":0,"reads":61,"readers_count":60,"score":12.2,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core Developer","title_is_group":false,"reply_to_user":{"username":"smellymumbler","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26538,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2018-11-07T19:07:11.059Z","cooked":"\u003cp\u003eAnother update:\u003c/p\u003e\n\u003cp\u003eGot the sample similar to 17_SceneReplication to work in P2P mode. Besides that also updated the networking to support both modes - p2p and server-client mode. Did quite a lot of small fixes regarding the new networking mode but at the moment it seems stable enough for others to try this out.\u003c/p\u003e\n\u003cp\u003eThings that I still have to implement:\u003cbr\u003e\nLobby mechanisms (all peers agree when they can start the game)\u003cbr\u003e\nEnable/Disable mid-game joins for the p2p mode\u003cbr\u003e\nCorrect scene load state between peers, just like in regular server-client mode\u003c/p\u003e\n\u003cp\u003e            \u003cvideo width=\"695\" height=\"277\" title=\"            \n    \n\n    Imgur: The magic of the Internet\" controls=\"\" loop=\"\"\u003e\n              \u003csource src=\"https://i.imgur.com/GKXGmWm.mp4\" type=\"video/mp4\"\u003e\u003c/source\u003e\n              \u003csource src=\"https://i.imgur.com/GKXGmWm.webm\" type=\"video/webm\"\u003e\u003c/source\u003e\n            \u003c/video\u003e\n\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2018-11-07T19:07:11.059Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":58,"readers_count":57,"score":96.6,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core Developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":3}],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26663,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2018-11-20T18:52:20.451Z","cooked":"\u003cp\u003eIt’s been a while since my last update. In this time I was able to update/add few things:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eReady event added which gives opportunity for each peer know about other peer readiness\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMid game joins can now be disabled using \u003ccode\u003eNetwork::SetAllowedConnections\u003c/code\u003e method.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAdditional networking events added\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eP2P and Server-Client mode  switch fixed, bugs fixed relating to the Server-Client mode\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLobby mechanisms added which are supported by the upgraded Master server:\u003cbr\u003e\nCode: \u003ca href=\"https://github.com/ArnisLielturks/Master-server\" rel=\"nofollow noopener\"\u003ehttps://github.com/ArnisLielturks/Master-server\u003c/a\u003e\u003cbr\u003e\nDocker image: \u003ca href=\"https://hub.docker.com/r/arnislielturks/master-server/\" rel=\"nofollow noopener\"\u003ehttps://hub.docker.com/r/arnislielturks/master-server/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eSearch for session\u003c/code\u003e button triggers call to Master server to get the first open session (session, where all the peers are still in lobby). If no open sessions are found, new session will be created and information about it will be posted every 1 second by the host system. If other peer takes over as a host, previous session information will be deleted and new session information will be posted by the new peer. All the sessions which have not been updated in the Master server for 10 seconds will be automatically deleted.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSmall demo:\u003cbr\u003e\n\u003c/p\u003e\u003cdiv class=\"lazyYT\" data-youtube-id=\"7qPPjEHar30\" data-youtube-title=\"Urho3D Peer to Peer multiplayer demo\" data-width=\"480\" data-height=\"270\" data-parameters=\"feature=oembed\u0026amp;wmode=opaque\"\u003e\u003c/div\u003e\n\u003cp\u003eThings in my to-do list:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAS integrations + sample\u003c/li\u003e\n\u003cli\u003eLua integrations + sample\u003c/li\u003e\n\u003cli\u003eCode refactoring so I could finally create a PR\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNot sure what to do with the demo that I’ve got so far. It seems quite big to be included in the engine itself. I’ m thinking of creating seperate repo with detailed information how to set everything up.\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2018-11-20T18:52:20.451Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":64,"reads":57,"readers_count":56,"score":436.4,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/ArnisLielturks/Master-server","internal":false,"reflection":false,"title":"GitHub - ArnisLielturks/Master-server: NodeJS master server","clicks":21},{"url":"https://hub.docker.com/r/arnislielturks/master-server/","internal":false,"reflection":false,"clicks":3},{"url":"https://www.youtube.com/watch?v=7qPPjEHar30","internal":false,"reflection":false,"title":"YouTube","clicks":1}],"read":true,"user_title":"Core Developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":5}],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26664,"name":"","username":"smellymumbler","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png","created_at":"2018-11-20T19:56:59.895Z","cooked":"\u003cp\u003eIt’s amazing how smooth this works. \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/heart_eyes.png?v=6\" title=\":heart_eyes:\" class=\"emoji\" alt=\":heart_eyes:\"\u003e\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2018-11-20T19:56:59.895Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":3,"reads":57,"readers_count":56,"score":31.4,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":674,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":26670,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2018-11-21T09:21:13.857Z","cooked":"\u003cp\u003eWell it’s my local machine haven’t yet tested this between multiple systems. But there should not be any difference from the basic Client-Server mode. I could provide compiled binaries so we could all test it without building it + I could use them on seperate machines more easily.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2018-11-21T09:21:13.857Z","reply_count":0,"reply_to_post_number":12,"quote_count":0,"incoming_link_count":3,"reads":55,"readers_count":54,"score":26.0,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core Developer","title_is_group":false,"reply_to_user":{"username":"smellymumbler","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":34520,"name":"Arnis Lielturks","username":"Miegamicis","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","created_at":"2019-11-25T07:18:03.866Z","cooked":"\u003cp\u003eA while ago decided to split up my PR \u003ca href=\"https://github.com/urho3d/Urho3D/pull/2400\" rel=\"nofollow noopener\"\u003ehttps://github.com/urho3d/Urho3D/pull/2400\u003c/a\u003e into multiple projects, since the sample in the PR was too advanced and required additional services to be set up. Don’t get me wrong, the PR still contains the sample, but a much simpler one.\u003c/p\u003e\n\u003cp\u003eThe advanced P2P sample was moved to this repo: \u003ca href=\"https://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer\" rel=\"nofollow noopener\"\u003ehttps://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eRequired services for the advanced sample can be set up with the help of Terraform, all required scripts are here - \u003ca href=\"https://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer-Services\" rel=\"nofollow noopener\"\u003ehttps://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer-Services\u003c/a\u003e\u003cbr\u003e\nServices will be hosted on Digital Ocean with the smallest droplet possible (5$/month) but it should be more than enough to test it out and even host smaller project to production (HTTPS is not set up at the moment).\u003c/p\u003e\n\u003cp\u003eIf you have any questions or concerns about it, let me know!\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2019-11-25T10:37:57.365Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":14,"reads":44,"readers_count":43,"score":168.8,"yours":false,"topic_id":2175,"topic_slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","display_username":"Arnis Lielturks","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer","internal":false,"reflection":false,"title":"GitHub - ArnisLielturks/Urho3D-P2P-Multiplayer: Peer to peer multiplayer sample in Urho3D using NAT punchtrough server and master server to retrieve/update active P2P sessions.","clicks":18},{"url":"https://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer-Services","internal":false,"reflection":false,"title":"GitHub - ArnisLielturks/Urho3D-P2P-Multiplayer-Services: Terraform scripts to get the services up and running for https://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer sample","clicks":11},{"url":"https://github.com/urho3d/Urho3D/pull/2400","internal":false,"reflection":false,"clicks":7},{"url":"https://discourse.urho3d.io/t/replacing-underlying-networking-methods-with-steam-p2p/6381/3","internal":true,"reflection":true,"title":"Replacing underlying networking methods with Steam P2P","clicks":3},{"url":"https://discourse.urho3d.io/t/replacing-underlying-networking-methods-with-steam-p2p/6381/6","internal":true,"reflection":true,"title":"Replacing underlying networking methods with Steam P2P","clicks":0}],"read":true,"user_title":"Core Developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":6}],"moderator":false,"admin":false,"staff":false,"user_id":444,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[13181,13195,26244,26246,26302,26344,26345,26346,26349,26538,26663,26664,26670,34520]},"timeline_lookup":[[1,2294],[3,1496],[5,1492],[6,1490],[7,1489],[10,1476],[11,1463],[14,1094]],"suggested_topics":[{"id":7081,"title":"Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"","fancy_title":"Install Urho3D Library - Windows 10 - rake build - \u0026ldquo;project does not exist\u0026rdquo;","slug":"install-urho3d-library-windows-10-rake-build-project-does-not-exist","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-03T03:06:40.974Z","last_posted_at":"2021-12-03T17:53:10.844Z","bumped":true,"bumped_at":"2021-12-03T17:53:10.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":190,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]},{"id":7088,"title":"What Compiler is recommended for building Urho3D under Windows 7 32 bit?","fancy_title":"What Compiler is recommended for building Urho3D under Windows 7 32 bit?","slug":"what-compiler-is-recommended-for-building-urho3d-under-windows-7-32-bit","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-06T07:50:47.867Z","last_posted_at":"2021-12-06T13:55:20.901Z","bumped":true,"bumped_at":"2021-12-06T13:55:20.901Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":152,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7122,"title":"Faster allocations with PMR","fancy_title":"Faster allocations with PMR","slug":"faster-allocations-with-pmr","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-01-10T16:23:15.053Z","last_posted_at":"2022-01-10T16:42:29.752Z","bumped":true,"bumped_at":"2022-01-10T17:55:02.117Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":209,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1363,"username":"vmost","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/5f9b8f/{size}.png"}}]},{"id":7186,"title":"Best way to do Blob Shadows in Urho","fancy_title":"Best way to do Blob Shadows in Urho","slug":"best-way-to-do-blob-shadows-in-urho","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/22e3dc1892512375cae09bf84fd92071a1ae27d8.png","created_at":"2022-02-05T04:59:31.388Z","last_posted_at":"2022-02-05T13:29:22.054Z","bumped":true,"bumped_at":"2022-02-05T13:31:44.299Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":179,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7330,"title":"Is it Possible to Get New Bone Positions Directly After AnimationState.AddTime() Called?","fancy_title":"Is it Possible to Get New Bone Positions Directly After AnimationState.AddTime() Called?","slug":"is-it-possible-to-get-new-bone-positions-directly-after-animationstate-addtime-called","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-09-22T11:18:00.223Z","last_posted_at":"2022-09-22T13:40:17.428Z","bumped":true,"bumped_at":"2022-09-22T13:40:17.428Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":81,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}}]}],"tags_descriptions":{},"id":2175,"title":"Peer-to-peer multiplayer sample with simple masterserver","fancy_title":"Peer-to-peer multiplayer sample with simple masterserver","posts_count":14,"created_at":"2016-08-11T16:55:02.000Z","views":2588,"reply_count":2,"like_count":31,"last_posted_at":"2019-11-25T07:18:03.866Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"peer-to-peer-multiplayer-sample-with-simple-masterserver","category_id":11,"word_count":1459,"deleted_at":null,"user_id":525,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2175","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":14,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":444,"username":"Miegamicis","name":"Arnis Lielturks","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png","post_count":9,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":674,"username":"smellymumbler","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":246,"username":"rku","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/rku/{size}/3200_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":525,"username":"EricDeflandres","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/e/ecccb3/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":525,"username":"EricDeflandres","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/e/ecccb3/{size}.png"},"last_poster":{"id":444,"username":"Miegamicis","name":"Arnis Lielturks","avatar_template":"/user_avatar/discourse.urho3d.io/miegamicis/{size}/2547_2.png"},"links":[{"url":"https://github.com/ArnisLielturks/Urho3D-NAT-server","title":"GitHub - ArnisLielturks/Urho3D-NAT-server: NAT punchtrough server built on top of Urho3D","internal":false,"attachment":false,"reflection":false,"clicks":102,"user_id":674,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/SLikeSoft/SLikeNet/blob/master/Samples/ComprehensivePCGame/ComprehensivePCGame.cpp","title":"SLikeNet/ComprehensivePCGame.cpp at master · SLikeSoft/SLikeNet · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":26,"user_id":444,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/SLikeSoft/SLikeNet/tree/master/Samples","title":"SLikeNet/Samples at master · SLikeSoft/SLikeNet · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":23,"user_id":444,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/ArnisLielturks/Master-server","title":"GitHub - ArnisLielturks/Master-server: NodeJS master server","internal":false,"attachment":false,"reflection":false,"clicks":21,"user_id":444,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/antarktikali/raknet-p2p-chat","title":"GitHub - antarktikali/raknet-p2p-chat: RakNet peer to peer chat example using NAT punchthrough","internal":false,"attachment":false,"reflection":false,"clicks":18,"user_id":444,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer","title":"GitHub - ArnisLielturks/Urho3D-P2P-Multiplayer: Peer to peer multiplayer sample in Urho3D using NAT punchtrough server and master server to retrieve/update active P2P sessions.","internal":false,"attachment":false,"reflection":false,"clicks":18,"user_id":444,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/urho3d/Urho3D/tree/p2p-multiplayer","title":"GitHub - urho3d/Urho3D at p2p-multiplayer","internal":false,"attachment":false,"reflection":false,"clicks":15,"user_id":444,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer-Services","title":"GitHub - ArnisLielturks/Urho3D-P2P-Multiplayer-Services: Terraform scripts to get the services up and running for https://github.com/ArnisLielturks/Urho3D-P2P-Multiplayer sample","internal":false,"attachment":false,"reflection":false,"clicks":11,"user_id":444,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/urho3d/Urho3D/pull/2400","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":7,"user_id":444,"domain":"github.com","root_domain":"github.com"},{"url":"https://discourse.urho3d.io/t/replacing-underlying-networking-methods-with-steam-p2p/6381/3","title":"Replacing underlying networking methods with Steam P2P","internal":true,"attachment":false,"reflection":true,"clicks":3,"user_id":192,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"},{"url":"https://hub.docker.com/r/arnislielturks/master-server/","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":444,"domain":"hub.docker.com","root_domain":"docker.com"},{"url":"https://www.youtube.com/watch?v=7qPPjEHar30","title":"YouTube","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":444,"domain":"www.youtube.com","root_domain":"youtube.com"}]}}