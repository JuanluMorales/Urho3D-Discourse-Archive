{"post_stream":{"posts":[{"id":42055,"name":"","username":"DinS","avatar_template":"/user_avatar/discourse.urho3d.io/dins/{size}/1573_2.png","created_at":"2021-03-03T02:43:24.839Z","cooked":"\u003cp\u003eWhile I am working on a project with Urho3D, I have found there‚Äôs no built-in way to play animated gifs, so I write my own. Since this is a general problem, I‚Äôd like to share my work with the community.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eOverview\u003cbr\u003e\nIn the zip file, which can be found at the end of this post, there‚Äôre 5 files.\u003cbr\u003e\nThe AnimatedGif.h/cpp defines a new type of Resource. It uses \u003ca href=\"https://github.com/hidefromkgb/gif_load\" rel=\"noopener nofollow ugc\"\u003ehidefromkgb‚Äôs gif_load.h\u003c/a\u003e (public domain C library) to decode the gif.\u003cbr\u003e\nThe FrameAnimation.h/cpp defines a new type of component. It uses AnimatedGif to play the animation.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eUsage\u003cbr\u003e\n(1) copy the files under the same folder and add to your project. If you want to place them separately, change the \u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e accordingly.\u003cbr\u003e\n(2) register the types before use, for example in the constructor of your application, write\u003cbr\u003e\nAnimatedGif::RegisterObject(context);\u003cbr\u003e\nFrameAnimation::RegisterObject(context);\u003cbr\u003e\n(3) code as if they are Urho3D built-in types. For example:\u003cbr\u003e\n//Setup 2D Scene‚Ä¶\u003cbr\u003e\nauto pPic = _gameScene-\u0026gt;CreateChild(‚Äútest_gif‚Äù);\u003cbr\u003e\npPic-\u0026gt;SetPosition2D(0, 0);\u003cbr\u003e\nauto pFrAni = pPic-\u0026gt;CreateComponent\u0026lt; FrameAnimation \u0026gt;();\u003cbr\u003e\nauto pGif = GetSubsystem\u0026lt; ResourceCache \u0026gt;()-\u0026gt;GetResource\u0026lt; AnimatedGif \u0026gt;(‚ÄúData/Urho2D/test.gif‚Äù);\u003cbr\u003e\npFrAni-\u0026gt;SetGif(pGif);\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eCheck this gif for result. Each time I click the button, a new gif will be created.\u003cbr\u003e\n\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/4/4a11402518473780fd0b87c4f358abf10ba1e8d4.gif\" data-download-href=\"/uploads/short-url/azei6n7EWzqX1m8WF436vQzIDli.gif?dl=1\" title=\"DemonGif\" rel=\"noopener nofollow ugc\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/4/4a11402518473780fd0b87c4f358abf10ba1e8d4.gif\" alt=\"DemonGif\" data-base62-sha1=\"azei6n7EWzqX1m8WF436vQzIDli\" width=\"690\" height=\"406\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/4/4a11402518473780fd0b87c4f358abf10ba1e8d4_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\n\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eDemonGif\u003c/span\u003e\u003cspan class=\"informations\"\u003e1938√ó1142 2.38 MB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\n\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003cbr\u003e\n(browser may show the gif slower than normal)\u003c/p\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e\n\u003cp\u003eNotice\u003cbr\u003e\n(1) if the gif is large, consider doing a backgroundloading with resource cache first.\u003cbr\u003e\n(2) MSVC user: since it uses a C library, you may need to change IDE grammar check from C++ to C.\u003cbr\u003e\n(3) MSVC user: there‚Äôre a lot of comments in CHINESE, which is my mother tongue. They are mostly about background knowledge on the media format, rationale and C library usage. If you just want to play a gif, don‚Äôt bother. But you need to change the encoding from UTF-8 to UTF-8 BOM, or else MSVC will output strange errors. Personally I think it‚Äôs a flaw in the compiler. Apple Clang and g++ don‚Äôt have this issue. Another way is to just remove all comments.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDownload\u003cbr\u003e\nThe forum doesn‚Äôt allow zip file uploading, so I have put the file on my website for your access.\u003cbr\u003e\n\u003ca href=\"https://dins.site/wp-content/uploads/2021/03/gif-addon.zip\" rel=\"noopener nofollow ugc\"\u003ehttps://dins.site/wp-content/uploads/2021/03/gif-addon.zip\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe codes are released under MIT license.\u003cbr\u003e\nHope this can help some people in the future.\u003cbr\u003e\nCheers! \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/grinning.png?v=9\" title=\":grinning:\" class=\"emoji\" alt=\":grinning:\"\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2021-03-03T03:28:34.228Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":23,"reads":40,"readers_count":39,"score":288.0,"yours":false,"topic_id":6744,"topic_slug":"an-animated-gifs-player-for-you-cheers","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://dins.site/wp-content/uploads/2021/03/gif-addon.zip","internal":false,"reflection":false,"clicks":8},{"url":"https://github.com/hidefromkgb/gif_load","internal":false,"reflection":false,"title":"GitHub - hidefromkgb/gif_load: A slim, fast and header-only GIF loader written in C","clicks":3},{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/4/4a11402518473780fd0b87c4f358abf10ba1e8d4.gif","internal":false,"reflection":false,"title":"4a11402518473780fd0b87c4f358abf10ba1e8d4.gif","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":9}],"moderator":false,"admin":false,"staff":false,"user_id":1018,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42062,"name":"","username":"George1","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png","created_at":"2021-03-03T10:12:57.131Z","cooked":"\u003cp\u003eIf I remember correctly, there was a gif texture mapping written by some one‚Ä¶  Maybe see Lumak examples. It might have that.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-03-03T10:12:57.131Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":36,"readers_count":35,"score":7.2,"yours":false,"topic_id":6744,"topic_slug":"an-animated-gifs-player-for-you-cheers","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":627,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[42055,42062]},"timeline_lookup":[[1,630]],"suggested_topics":[{"id":7099,"title":":fallen_leaf: Polynomials \u0026 Harmonics","fancy_title":":fallen_leaf: Polynomials \u0026amp; Harmonics","slug":"polynomials-harmonics","posts_count":6,"reply_count":0,"highest_post_number":7,"image_url":null,"created_at":"2021-12-13T05:06:04.641Z","last_posted_at":"2021-12-27T23:27:39.489Z","bumped":true,"bumped_at":"2021-12-27T23:27:39.489Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"üçÇ Polynomials \u0026 Harmonics","tags_descriptions":{},"like_count":6,"views":392,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7103,"title":":test_tube: DebugRenderer as GUI","fancy_title":":test_tube: DebugRenderer as GUI","slug":"debugrenderer-as-gui","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-17T02:25:06.606Z","last_posted_at":"2021-12-18T01:09:27.738Z","bumped":true,"bumped_at":"2021-12-18T01:09:27.738Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"üß™ DebugRenderer as GUI","tags_descriptions":{},"like_count":4,"views":267,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7110,"title":"Resource fetch define","fancy_title":"Resource fetch define","slug":"resource-fetch-define","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-27T12:28:55.126Z","last_posted_at":"2021-12-27T17:00:37.699Z","bumped":true,"bumped_at":"2021-12-27T17:00:37.699Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":7,"views":184,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7120,"title":"Log Error Once Macro","fancy_title":"Log Error Once Macro","slug":"log-error-once-macro","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-04T02:24:37.857Z","last_posted_at":"2022-01-04T02:24:37.925Z","bumped":true,"bumped_at":"2022-01-04T02:24:37.925Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":143,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7088,"title":"What Compiler is recommended for building Urho3D under Windows 7 32 bit?","fancy_title":"What Compiler is recommended for building Urho3D under Windows 7 32 bit?","slug":"what-compiler-is-recommended-for-building-urho3d-under-windows-7-32-bit","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-06T07:50:47.867Z","last_posted_at":"2021-12-06T13:55:20.901Z","bumped":true,"bumped_at":"2021-12-06T13:55:20.901Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":152,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]}],"tags_descriptions":{},"id":6744,"title":"An Animated Gifs Player for You, Cheers!","fancy_title":"An Animated Gifs Player for You, Cheers!","posts_count":2,"created_at":"2021-03-03T02:43:24.764Z","views":382,"reply_count":0,"like_count":9,"last_posted_at":"2021-03-03T10:12:57.131Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"an-animated-gifs-player-for-you-cheers","category_id":13,"word_count":428,"deleted_at":null,"user_id":1018,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/4/4a11402518473780fd0b87c4f358abf10ba1e8d4_2_1023x603.gif","slow_mode_seconds":0,"draft":null,"draft_key":"topic_6744","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":2,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":[{"max_width":null,"max_height":null,"width":1938,"height":1142,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/4/4a11402518473780fd0b87c4f358abf10ba1e8d4.gif"},{"max_width":1024,"max_height":1024,"width":1023,"height":603,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/4/4a11402518473780fd0b87c4f358abf10ba1e8d4_2_1023x603.gif"}],"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":1018,"username":"DinS","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dins/{size}/1573_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":1018,"username":"DinS","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dins/{size}/1573_2.png"},"last_poster":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"},"links":[{"url":"https://dins.site/wp-content/uploads/2021/03/gif-addon.zip","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":8,"user_id":1018,"domain":"dins.site","root_domain":"dins.site"},{"url":"https://github.com/hidefromkgb/gif_load","title":"GitHub - hidefromkgb/gif_load: A slim, fast and header-only GIF loader written in C","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":1018,"domain":"github.com","root_domain":"github.com"}]}}