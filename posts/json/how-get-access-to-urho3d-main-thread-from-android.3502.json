{"post_stream":{"posts":[{"id":20485,"name":"Alexey S","username":"AlexS32","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/e47774/{size}.png","created_at":"2017-08-28T18:24:15.559Z","cooked":"\u003cp\u003eHello.\u003c/p\u003e\n\u003cp\u003eIs any way to call  a method in Urho3D main thread from Android?\u003cbr\u003e\nI try to change plane objects texture, but I can’t do it in non main thread.\u003cbr\u003e\nAs result I’ve got log message:\u003cbr\u003e\ncom.github.urho3d E/libEGL: call to OpenGL ES API with no current context (logged once per thread)\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-08-28T18:24:15.559Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":10,"reads":39,"readers_count":38,"score":57.8,"yours":false,"topic_id":3502,"topic_slug":"how-get-access-to-urho3d-main-thread-from-android","display_username":"Alexey S","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":805,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20486,"name":"kabu","username":"johnnycable","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png","created_at":"2017-08-28T20:01:41.344Z","cooked":"\u003cp\u003eBetter if you add some code…\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-08-28T20:01:41.344Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":39,"readers_count":38,"score":12.8,"yours":false,"topic_id":3502,"topic_slug":"how-get-access-to-urho3d-main-thread-from-android","display_username":"kabu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":660,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20496,"name":"Alexey S","username":"AlexS32","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/e47774/{size}.png","created_at":"2017-08-29T11:22:56.382Z","cooked":"\u003cp\u003eok\u003cbr\u003e\nMy project is experemental. Basic project is RenderToTexture from Urho3d samples.\u003c/p\u003e\n\u003cp\u003eJava code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enative void setTexture();\n\n@Override\n public void onClick(View view) {\n     setTexture();\n }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eC++ code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclass EngineGateway {\n\nprotected:\nUrho3D::Application* application;\n\npublic:\nUrho3D::Application *getApplication() const;\nvoid setApplication(Urho3D::Application *application);\n};\n\n/////////////////////////////////////\n\nEngineGateway *engineGateway;\n\n/////////////////////////////////////\n    extern \"C\"{\n\n  JNIEXPORT void JNICALL\n  Java_com_mydomen_test2_BasicFragment_setTexture(JNIEnv *env, jobject instance) {\n\n    RenderToTexture *app = dynamic_cast\u0026lt;RenderToTexture*\u0026gt;(engineGateway-\u0026gt;getApplication());\n    app-\u0026gt;setTexture();\n }\n\n}\n\n/////////////////////////////////////\n\n void RenderToTexture::CreateScene() {\n\n...\n\n  StaticModel *boxObject = screenNode-\u0026gt;CreateComponent\u0026lt;StaticModel\u0026gt;();\n    boxObject-\u0026gt;SetModel(cache-\u0026gt;GetResource\u0026lt;Model\u0026gt;(\"Models/Plane.mdl\"));\n\n    SharedPtr\u0026lt;Material\u0026gt; renderMaterial(new Material(context_));\n    renderMaterial-\u0026gt;SetTechnique(0, cache-\u0026gt;GetResource\u0026lt;Technique\u0026gt;(\"Techniques/Diff.xml\"));\n    renderTexture = SharedPtr\u0026lt;Texture2D\u0026gt;(new Texture2D(context_));\n\n    renderTexture-\u0026gt;SetNumLevels(1);\n    renderTexture-\u0026gt;SetSize(1024, 768, Graphics::GetRGBFormat(), TEXTURE_DYNAMIC);\n\n    int textureWidth = renderTexture-\u0026gt;GetWidth();\n    int textureHeight = renderTexture-\u0026gt;GetHeight();\n\n    SharedPtr\u0026lt;Image\u0026gt; texImg = SharedPtr\u0026lt;Image\u0026gt;(new Image(context_));\n    texImg-\u0026gt;SetSize(textureWidth, textureHeight, 3);\n    for (int i = 0; i \u0026lt; width; ++i) {\n        for (int j = 0; j \u0026lt; height; ++j) {\n            texImg-\u0026gt;SetPixel(i, j, Color(0, 0, 1));\n        }\n    }\n    renderTexture-\u0026gt;SetData(texImg);\n\n    renderMaterial-\u0026gt;SetTexture(TU_DIFFUSE, renderTexture);  \n    boxObject-\u0026gt;SetMaterial(renderMaterial);   // It works, so it is colled in engine main thread\n   ...\n}\n\nvoid RenderToTexture::setImage() {\n\nconst int width = renderTexture-\u0026gt;GetWidth();\nconst int height = renderTexture-\u0026gt;GetHeight();\n\nImage* texImg = new Image(context_);\ntexImg-\u0026gt;SetSize(width, height, 3);\nfor (int i = 0; i \u0026lt; width; ++i) {\n    for (int j = 0; j \u0026lt; height; ++j) {\n        texImg-\u0026gt;SetPixel(i, j, Color(1, 1, 1));\n    }\n}\nrenderTexture-\u0026gt;SetData(texImg);\t\t// It dosn't work, so it is colled in Android MainUI thread\n}\u003c/code\u003e\u003c/pre\u003e","post_number":3,"post_type":1,"updated_at":"2017-08-29T12:16:25.987Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":2,"reads":32,"readers_count":31,"score":16.4,"yours":false,"topic_id":3502,"topic_slug":"how-get-access-to-urho3d-main-thread-from-android","display_username":"Alexey S","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"johnnycable","name":"kabu","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":805,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20497,"name":"kabu","username":"johnnycable","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png","created_at":"2017-08-29T13:38:55.888Z","cooked":"\u003cp\u003eIt doesn’t look like the 10_RenderToTexture sample… did you tried that?\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-08-29T13:39:08.828Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":28,"readers_count":27,"score":10.6,"yours":false,"topic_id":3502,"topic_slug":"how-get-access-to-urho3d-main-thread-from-android","display_username":"kabu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":660,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20498,"name":"Alexey S","username":"AlexS32","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/e47774/{size}.png","created_at":"2017-08-29T14:06:15.960Z","cooked":"\u003cp\u003eThis sample has a good model - a screen is above the floor. I’ve made some changes in  the 10_RenderToTexture sample.  For example I use color fill as a texture.\u003cbr\u003e\nI  try to change a texture on this screen.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-08-29T14:06:15.960Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":7,"reads":28,"readers_count":27,"score":40.6,"yours":false,"topic_id":3502,"topic_slug":"how-get-access-to-urho3d-main-thread-from-android","display_username":"Alexey S","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"johnnycable","name":"kabu","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":805,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[20485,20486,20496,20497,20498]},"timeline_lookup":[[1,1912]],"suggested_topics":[{"id":7081,"title":"Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"","fancy_title":"Install Urho3D Library - Windows 10 - rake build - \u0026ldquo;project does not exist\u0026rdquo;","slug":"install-urho3d-library-windows-10-rake-build-project-does-not-exist","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-03T03:06:40.974Z","last_posted_at":"2021-12-03T17:53:10.844Z","bumped":true,"bumped_at":"2021-12-03T17:53:10.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":190,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]},{"id":7204,"title":"How handle with multiple scenes?","fancy_title":"How handle with multiple scenes?","slug":"how-handle-with-multiple-scenes","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-02-23T16:15:02.697Z","last_posted_at":"2022-02-23T16:15:02.762Z","bumped":true,"bumped_at":"2022-02-23T16:15:02.762Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":131,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}}]},{"id":7193,"title":"Can Z-Axis Feasibly be \"Up\"?","fancy_title":"Can Z-Axis Feasibly be \u0026ldquo;Up\u0026rdquo;?","slug":"can-z-axis-feasibly-be-up","posts_count":4,"reply_count":2,"highest_post_number":4,"image_url":null,"created_at":"2022-02-14T05:17:28.054Z","last_posted_at":"2022-02-14T07:26:53.817Z","bumped":true,"bumped_at":"2022-02-14T07:26:53.817Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":161,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7200,"title":"Urho3D just building if I check \"use SHARED libraries\"","fancy_title":"Urho3D just building if I check \u0026ldquo;use SHARED libraries\u0026rdquo;","slug":"urho3d-just-building-if-i-check-use-shared-libraries","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-02-22T20:02:48.835Z","last_posted_at":"2022-02-23T15:38:33.698Z","bumped":true,"bumped_at":"2022-02-23T15:54:07.879Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":165,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7250,"title":"CMake freezes with -D options","fancy_title":"CMake freezes with -D options","slug":"cmake-freezes-with-d-options","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-05-02T16:47:01.579Z","last_posted_at":"2022-05-06T08:26:07.285Z","bumped":true,"bumped_at":"2022-05-06T08:26:07.285Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":138,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]}],"tags_descriptions":{},"id":3502,"title":"How get access to Urho3d main thread from Android?","fancy_title":"How get access to Urho3d main thread from Android?","posts_count":5,"created_at":"2017-08-28T18:24:15.494Z","views":518,"reply_count":2,"like_count":0,"last_posted_at":"2017-08-29T14:06:15.960Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"how-get-access-to-urho3d-main-thread-from-android","category_id":10,"word_count":345,"deleted_at":null,"user_id":805,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3502","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":805,"username":"AlexS32","name":"Alexey S","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/e47774/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":660,"username":"johnnycable","name":"kabu","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":805,"username":"AlexS32","name":"Alexey S","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/e47774/{size}.png"},"last_poster":{"id":805,"username":"AlexS32","name":"Alexey S","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/e47774/{size}.png"}}}