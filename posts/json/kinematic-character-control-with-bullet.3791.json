{"post_stream":{"posts":[{"id":22020,"name":"Amir","username":"mazataza","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png","created_at":"2017-11-26T11:59:39.189Z","cooked":"\u003cp\u003ei am trying to implement character control with bullet\u003cbr\u003e\ni use the following code to initialise the ghost object\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003econst Vector3 \u0026amp;postion = _cameraNode-\u0026gt;GetWorldPosition();\nconst Quaternion \u0026amp;rot = _cameraNode-\u0026gt;GetWorldRotation();\nstartTransform.setOrigin (ToBtVector3(postion + rot * Vector3::ZERO));\nstartTransform.setRotation(ToBtQuaternion(rot));\nphysicsWorld_-\u0026gt;GetWorld()-\u0026gt;getPairCache()-\u0026gt;setInternalGhostPairCallback(new btGhostPairCallback());\nghostObject = new btPairCachingGhostObject();\nghostObject-\u0026gt;setWorldTransform(startTransform);\nbtScalar characterHeight=1;\nbtScalar characterWidth =0.5;\nghostShape = new btCapsuleShape(characterWidth,characterHeight);\nghostObject-\u0026gt;setCollisionShape (ghostShape);\nghostObject-\u0026gt;setCollisionFlags (btCollisionObject::CF_CHARACTER_OBJECT);\n\nbtScalar stepHeight = btScalar(0.35);\nbtVector3 up(0.0,1.0,0.0);\ncharacterController = new btKinematicCharacterController (ghostObject,ghostShape,stepHeight, up);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ebut then the ghost has rotation in x-axis which i can‚Äôt understand\u003c/p\u003e\n\u003cp\u003ei update the node transform like\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ebtTransform \u0026amp;worldTrans = ghostObject-\u0026gt;getWorldTransform();\nQuaternion newWorldRotation = ToQuaternion(worldTrans.getRotation());\nconst Vector3 \u0026amp;rot = newWorldRotation * Vector3::ZERO;\nVector3 newWorldPosition = ToVector3(worldTrans.getOrigin()) - rot;\n\n_cameraNode-\u0026gt;SetWorldPosition(newWorldPosition);\n_cameraNode-\u0026gt;SetWorldRotation(newWorldRotation);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ethe rotatotion matrix is\u003cbr\u003e\nw= 0.7\u003cbr\u003e\nx= -0.7\u003cbr\u003e\ny=0\u003cbr\u003e\nz=0\u003c/p\u003e\n\u003cp\u003ethis what without appling transformation\u003cbr\u003e\n\u003cimg src=\"//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/f/ffa652bd0e9bad1c2620b7d951179c3e67e16aec.jpg\" alt=\"urho3d_cc1\" width=\"689\" height=\"415\"\u003e\u003c/p\u003e\n\u003cp\u003eand this with transformation\u003cbr\u003e\n\u003cimg src=\"//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/8/8d58156cde4ac0a768036ddbaa31dd2e705abaf3.jpg\" alt=\"urho3d_cc2\" width=\"690\" height=\"414\"\u003e\u003c/p\u003e\n\u003cp\u003ewhen i dont set UP vector to (0.0,1.0,0.0) the character fall in x-axis\u003c/p\u003e\n\u003cp\u003ei will be happy if someone can guide me what i am doing wrong.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-11-26T13:52:32.310Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":368,"reads":53,"readers_count":52,"score":1850.6,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"Amir","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/a-more-advanced-character-controller/5052/2","internal":true,"reflection":true,"title":"A more advanced character controller","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":680,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22022,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2017-11-26T13:36:04.781Z","cooked":"\u003cp\u003eThe first thing I notice is:\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"mazataza\" data-post=\"1\" data-topic=\"3791\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/40.png\" class=\"avatar\"\u003e mazataza:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003estartTransform.setOrigin (ToBtVector3(postion + rot * Vector3::ZERO));\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eand\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"mazataza\" data-post=\"1\" data-topic=\"3791\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/40.png\" class=\"avatar\"\u003e mazataza:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003econst Vector3 \u0026amp;rot = newWorldRotation * Vector3::ZERO;\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eRotating a { 0, 0, 0 } vector (which is what \u003ccode\u003eVector3::ZERO\u003c/code\u003e is) will always return a zero vector.\u003cbr\u003e\nYou‚Äôll probably want to replace ZERO with FORWARD or BACK.\u003c/p\u003e\n\u003cp\u003eAlso, what‚Äôs the \u003ccode\u003e_cameraNode\u003c/code\u003e's rotation at this point?\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"mazataza\" data-post=\"1\" data-topic=\"3791\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/40.png\" class=\"avatar\"\u003e mazataza:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003econst Quaternion \u0026amp;rot = _cameraNode-\u0026gt;GetWorldRotation();\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003e‚Ä¶since it‚Äôs rotation relies on the ghost object‚Äôs rotation.\u003c/p\u003e\n\u003cp\u003eI must add I have hardly any experience with directly using \u003ccode\u003ebt\u003c/code\u003e objects.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-11-26T18:57:38.983Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":49,"readers_count":48,"score":14.8,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":5,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22024,"name":"Amir","username":"mazataza","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png","created_at":"2017-11-26T18:54:08.609Z","cooked":"\u003caside class=\"quote\" data-post=\"2\" data-topic=\"3791\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/modanung/40/1123_1.png\" class=\"avatar\"\u003e Modanung:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAlso, what‚Äôs the _cameraNode‚Äôs rotation at this point?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003ethe rotation is zero (w=1 x=0 y=0 z=0)\u003c/p\u003e\n\u003caside class=\"quote\" data-post=\"2\" data-topic=\"3791\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/modanung/40/1123_1.png\" class=\"avatar\"\u003e Modanung:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI must add I have hardly any experience with directly using bt objects.\u003c/p\u003e\n\u003cp\u003eWhich does makes me think: Isn‚Äôt up { 0, 0, 1 } in Bullet? \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/bulb.png?v=5\" title=\":bulb:\" class=\"emoji\" alt=\":bulb:\"\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eno it is {0 1 0} (x y z)\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-11-26T18:55:04.924Z","reply_count":1,"reply_to_post_number":2,"quote_count":1,"incoming_link_count":0,"reads":48,"readers_count":47,"score":14.6,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"Amir","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":680,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22025,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2017-11-26T18:58:37.969Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"mazataza\" data-post=\"3\" data-topic=\"3791\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/40.png\" class=\"avatar\"\u003e mazataza:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eno it is {0 1 0} (x y z)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eCheck \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/white_check_mark.png?v=10\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\"\u003e\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-11-26T18:58:37.969Z","reply_count":1,"reply_to_post_number":3,"quote_count":1,"incoming_link_count":1,"reads":46,"readers_count":45,"score":19.2,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22026,"name":"Amir","username":"mazataza","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png","created_at":"2017-11-26T19:02:57.847Z","cooked":"\u003caside class=\"quote\" data-post=\"4\" data-topic=\"3791\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/modanung/40/1123_1.png\" class=\"avatar\"\u003e Modanung:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCheck \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/white_check_mark.png?v=5\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\"\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003ei don‚Äôt understand what you mean but here can check the coordinate system on bullet\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://bulletphysics.org/mediawiki-1.5.8/index.php/Coordinate_system\" class=\"onebox\" target=\"_blank\" rel=\"nofollow noopener\"\u003ehttp://bulletphysics.org/mediawiki-1.5.8/index.php/Coordinate_system\u003c/a\u003e\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-11-26T19:02:57.847Z","reply_count":1,"reply_to_post_number":4,"quote_count":1,"incoming_link_count":1,"reads":46,"readers_count":45,"score":19.2,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"Amir","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://bulletphysics.org/mediawiki-1.5.8/index.php/Coordinate_system","internal":false,"reflection":false,"title":"Coordinate system - Physics Simulation Wiki","clicks":10}],"read":true,"user_title":null,"reply_to_user":{"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":680,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22027,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2017-11-26T19:04:14.815Z","cooked":"\u003cp\u003eI meant you‚Äôre right. \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-11-26T19:04:14.815Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":44,"readers_count":43,"score":8.8,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"mazataza","name":"Amir","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22028,"name":"Amir","username":"mazataza","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png","created_at":"2017-11-26T19:47:53.755Z","cooked":"\u003cp\u003ethe problem i found that when i set\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eghostObject-\u0026gt;setWorldTransform(startTransform);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ebefore the kinematic controller this got rotated because the up vector got changed\u003c/p\u003e\n\u003cp\u003ebut when i set after creation of kinematic the rotation doesn‚Äôt done, and the character can now move, but i have some trouble but i will check if i could solve them by myself\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-11-26T19:47:53.755Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":22,"reads":44,"readers_count":43,"score":138.8,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"Amir","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":680,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22029,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2017-11-26T19:56:26.418Z","cooked":"\u003cp\u003eGlad to hear you‚Äôre making progress.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-11-26T19:56:26.418Z","reply_count":0,"reply_to_post_number":7,"quote_count":0,"incoming_link_count":0,"reads":42,"readers_count":41,"score":8.4,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"mazataza","name":"Amir","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22081,"name":"Amir","username":"mazataza","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png","created_at":"2017-11-29T17:45:00.236Z","cooked":"\u003cp\u003eI still stuck with the conversion betweeen bullet to urho3d‚Ä¶ as i know bullet use right hand coordinate and urho3d use left hand.\u003cbr\u003e\nthe following code which i use at first to update ghostobject walking direction\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    btTransform xform;\n    xform = ghostObject-\u0026gt;getWorldTransform ();\n    btVector3 forwardDir = xform.getBasis()[2];\n    forwardDir.normalize ();\n    ....\n    btVector3 walkDirection = btVector3(0.0, 0.0, 0.0);\n    ...\n    if (gForward) {\n        walkDirection += forwardDir;\n    }\n    ...\n    characterController-\u0026gt;setWalkDirection(walkDirection*walkSpeed);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ethis code works when there is no rotation. if there is a rotation then the object move very strange for me\u003cbr\u003e\nnow i use following code and it works but i can‚Äôt understands why it works and that what I don‚Äôt like - to have a code which i can‚Äôt understand totaly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  btTransform xform;\n  xform = ghostObject-\u0026gt;getWorldTransform ();\n  Quaternion newWorldRotation = ToQuaternion(xform.getRotation());\n  const Vector3 \u0026amp;forwardDir= newWorldRotation * Vector3::FORWARD;\n  \n  if (gForward) {\n    walkDirection += forwardDir;\n  }\n  ...\n  characterController-\u0026gt;setWalkDirection(walkDirection*walkSpeed);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eas you see i use urho3d quaterion and calculate forward direction.\u003c/p\u003e\n\u003cp\u003ethen i use following code to update character node in urho3d\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ebtTransform \u0026amp;worldTrans = ghostObject-\u0026gt;getWorldTransform();\nQuaternion newWorldRotation = ToQuaternion(worldTrans.getRotation());\nconst Vector3 \u0026amp;rot = newWorldRotation * Vector3::FORWARD;\nVector3 newWorldPosition = ToVector3(worldTrans.getOrigin()) - rot;\n\n_cameraNode-\u0026gt;SetWorldPosition(newWorldPosition);\n_cameraNode-\u0026gt;SetWorldRotation(newWorldRotation);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eif someone can explain me how urho3d handle these differences between bullet and urho3d i will be happy\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-11-29T17:45:16.614Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":5,"reads":37,"readers_count":36,"score":32.4,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"Amir","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":680,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22082,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2017-11-29T22:14:27.148Z","cooked":"\u003cp\u003e\u003ca href=\"https://discourse.urho3d.io/t/kinematic-character-controllers/3555\"\u003eKinematic Character Controllers\u003c/a\u003e\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2017-11-29T22:14:27.148Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":4,"reads":30,"readers_count":29,"score":46.0,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://discourse.urho3d.io/t/kinematic-character-controllers/3555","internal":true,"reflection":false,"title":"Kinematic Character Controllers","clicks":83}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22086,"name":"Amir","username":"mazataza","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png","created_at":"2017-11-30T06:55:34.129Z","cooked":"\u003cp\u003ethank you for the link‚Ä¶\u003cbr\u003e\ni have some question there  but i will write them there\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2017-11-30T06:55:34.129Z","reply_count":0,"reply_to_post_number":10,"quote_count":0,"incoming_link_count":2,"reads":26,"readers_count":25,"score":15.2,"yours":false,"topic_id":3791,"topic_slug":"kinematic-character-control-with-bullet","display_username":"Amir","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":680,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[22020,22022,22024,22025,22026,22027,22028,22029,22081,22082,22086]},"timeline_lookup":[[1,1823],[3,1822],[9,1819]],"suggested_topics":[{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7127,"title":"Switching ribbon trails emission glitches transparent materials","fancy_title":"Switching ribbon trails emission glitches transparent materials","slug":"switching-ribbon-trails-emission-glitches-transparent-materials","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-01-13T17:17:46.847Z","last_posted_at":"2022-02-10T08:10:49.330Z","bumped":true,"bumped_at":"2022-02-10T08:10:49.330Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":323,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1188,"username":"Taqer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7160,"title":"RayCast trouble","fancy_title":"RayCast trouble","slug":"raycast-trouble","posts_count":17,"reply_count":9,"highest_post_number":19,"image_url":null,"created_at":"2022-01-29T00:06:00.367Z","last_posted_at":"2022-01-30T00:29:39.356Z","bumped":true,"bumped_at":"2022-01-30T00:29:39.356Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":260,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7179,"title":"Need help with cusomized PBR renderpath","fancy_title":"Need help with cusomized PBR renderpath","slug":"need-help-with-cusomized-pbr-renderpath","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-02-01T09:04:58.692Z","last_posted_at":"2022-02-03T17:35:34.174Z","bumped":true,"bumped_at":"2022-02-03T17:35:34.174Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":13,"views":205,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7107,"title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u003cSDL/SDL_gamecontroller.h\u003e","fancy_title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u0026lt;SDL/SDL_gamecontroller.h\u0026gt;","slug":"error-sdl-sdl-gamecontroller-h-no-such-file-or-directory-include-sdl-sdl-gamecontroller-h","posts_count":6,"reply_count":1,"highest_post_number":6,"image_url":null,"created_at":"2021-12-21T15:29:52.810Z","last_posted_at":"2021-12-22T15:32:44.818Z","bumped":true,"bumped_at":"2021-12-22T15:32:44.818Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":271,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":3791,"title":"Kinematic character control with Bullet","fancy_title":"Kinematic character control with Bullet","posts_count":11,"created_at":"2017-11-26T11:59:39.118Z","views":1817,"reply_count":6,"like_count":2,"last_posted_at":"2017-11-30T06:55:34.129Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"kinematic-character-control-with-bullet","category_id":10,"word_count":744,"deleted_at":null,"user_id":680,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/f/ffa652bd0e9bad1c2620b7d951179c3e67e16aec_2_1024x616.jpg","slow_mode_seconds":0,"draft":null,"draft_key":"topic_3791","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":11,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":[{"max_width":null,"max_height":null,"width":1283,"height":773,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/f/ffa652bd0e9bad1c2620b7d951179c3e67e16aec.jpg"},{"max_width":1024,"max_height":1024,"width":1024,"height":616,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/f/ffa652bd0e9bad1c2620b7d951179c3e67e16aec_2_1024x616.jpg"}],"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":680,"username":"mazataza","name":"Amir","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png","post_count":6,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0},{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":4}],"created_by":{"id":680,"username":"mazataza","name":"Amir","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png"},"last_poster":{"id":680,"username":"mazataza","name":"Amir","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/{size}.png"},"links":[{"url":"http://discourse.urho3d.io/t/kinematic-character-controllers/3555","title":"Kinematic Character Controllers","internal":true,"attachment":false,"reflection":false,"clicks":83,"user_id":263,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"},{"url":"http://bulletphysics.org/mediawiki-1.5.8/index.php/Coordinate_system","title":"Coordinate system - Physics Simulation Wiki","internal":false,"attachment":false,"reflection":false,"clicks":10,"user_id":680,"domain":"bulletphysics.org","root_domain":"bulletphysics.org"}]}}