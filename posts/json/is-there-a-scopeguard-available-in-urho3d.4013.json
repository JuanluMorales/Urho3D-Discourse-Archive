{"post_stream":{"posts":[{"id":23249,"name":"Ricardo Abreu","username":"ricab","avatar_template":"/user_avatar/discourse.urho3d.io/ricab/{size}/398_2.png","created_at":"2018-02-13T19:33:46.928Z","cooked":"\u003cp\u003eIs there any kind of \u003ca href=\"https://stackoverflow.com/questions/10270328/the-simplest-and-neatest-c11-scopeguard\" rel=\"nofollow noopener\"\u003eScopeGuard\u003c/a\u003e or \u003ca href=\"http://www.boost.org/doc/libs/1_66_0/libs/scope_exit/doc/html/index.html\" rel=\"nofollow noopener\"\u003eScopeExit\u003c/a\u003e available in Urho3D?\u003c/p\u003e\n\u003cp\u003eHere is a use case:\u003cbr\u003e\n\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Resource/Image.cpp#L976\" target=\"_blank\" rel=\"nofollow noopener\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Resource/Image.cpp#L976\" target=\"_blank\" rel=\"nofollow noopener\"\u003eurho3d/Urho3D/blob/master/Source/Urho3D/Resource/Image.cpp#L976\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"onebox\"\u003e\u003ccode class=\"lang-cpp\"\u003e\u003col class=\"start lines\" start=\"966\" style=\"counter-reset: li-counter 965 ;\"\u003e\n\u003cli\u003eint width, height;\u003c/li\u003e\n\u003cli\u003eunsigned components;\u003c/li\u003e\n\u003cli\u003eunsigned char* pixelDataIn = GetImageData(source, width, height, components);\u003c/li\u003e\n\u003cli\u003eif (!pixelDataIn)\u003c/li\u003e\n\u003cli\u003e{\u003c/li\u003e\n\u003cli\u003e    URHO3D_LOGERROR(\"Could not load image \" + source.GetName() + \": \" + String(stbi_failure_reason()));\u003c/li\u003e\n\u003cli\u003e    return false;\u003c/li\u003e\n\u003cli\u003e}\u003c/li\u003e\n\u003cli\u003eif (components != 3)\u003c/li\u003e\n\u003cli\u003e{\u003c/li\u003e\n\u003cli class=\"selected\"\u003e    URHO3D_LOGERROR(\"Invalid image format, can not load image\");\u003c/li\u003e\n\u003cli\u003e    return false;\u003c/li\u003e\n\u003cli\u003e}\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli\u003eSetSize(COLOR_LUT_SIZE, COLOR_LUT_SIZE, COLOR_LUT_SIZE, components);\u003c/li\u003e\n\u003cli\u003eSetMemoryUse(width_ * height_ * depth_ * components);\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli\u003eunsigned char* pixelDataOut = GetData();\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli\u003efor (int z = 0; z \u0026lt; depth_; ++z)\u003c/li\u003e\n\u003cli\u003e{\u003c/li\u003e\n\u003c/ol\u003e\u003c/code\u003e\u003c/pre\u003e\n\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\u003c/p\u003e\n\u003cp\u003eThere is a leak there (coverity 126870): \u003ccode\u003eFreeImageData(pixelDataIn);\u003c/code\u003e should be called on this exit path. While it could be called directly, a scope guard would be preferable, as it would avoid the duplicate function call and cover all possible [even future] exit branches.\u003c/p\u003e\n\u003cp\u003eAlternatively, Urho’s smart pointers could support custom deleters, but that would be more work.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2018-02-13T19:33:46.928Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":33,"readers_count":32,"score":6.6,"yours":false,"topic_id":4013,"topic_slug":"is-there-a-scopeguard-available-in-urho3d","display_username":"Ricardo Abreu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://stackoverflow.com/questions/10270328/the-simplest-and-neatest-c11-scopeguard","internal":false,"reflection":false,"title":"c++ - The simplest and neatest c++11 ScopeGuard - Stack Overflow","clicks":10},{"url":"http://www.boost.org/doc/libs/1_66_0/libs/scope_exit/doc/html/index.html","internal":false,"reflection":false,"title":"Chapter 1. Boost.ScopeExit 1.1.0 - 1.66.0","clicks":5},{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Resource/Image.cpp#L976","internal":false,"reflection":false,"title":"Urho3D/Image.cpp at master · urho3d/Urho3D · GitHub","clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":642,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":23262,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2018-02-14T12:02:36.639Z","cooked":"\u003cp\u003eAlas, our SharedPtr is not a generic container. It can only contain Urho’s own refcounted object. Eugene has a PR which proposes a more generic container ala non-refcounted. But I don’t think it has ctor that takes a high-level function or lambda as deleter (yet). So at the moment, just do with what we got first, fixing it the old fashion way.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2018-02-14T12:31:19.089Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":28,"readers_count":27,"score":5.6,"yours":false,"topic_id":4013,"topic_slug":"is-there-a-scopeguard-available-in-urho3d","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Admin","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":23489,"name":"Ricardo Abreu","username":"ricab","avatar_template":"/user_avatar/discourse.urho3d.io/ricab/{size}/398_2.png","created_at":"2018-03-02T17:41:16.672Z","cooked":"\u003cp\u003eIt’s been a while and just want to clarify that I’m currently unable to progress with any coverity issues because the service is down. It has been so since Feb 20 according to their \u003ca href=\"https://twitter.com/coverityscan\" rel=\"nofollow noopener\"\u003etwitter page\u003c/a\u003e \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/confused.png?v=5\" title=\":confused:\" class=\"emoji\" alt=\":confused:\"\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-03-02T17:41:16.672Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":24,"readers_count":23,"score":14.8,"yours":false,"topic_id":4013,"topic_slug":"is-there-a-scopeguard-available-in-urho3d","display_username":"Ricardo Abreu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://twitter.com/coverityscan","internal":false,"reflection":false,"title":"Coverity Scan (@CoverityScan) | Twitter","clicks":8}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":642,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":23490,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2018-03-02T18:13:02.848Z","cooked":"\u003cp\u003eYes. It takes unusual long for them to fix the SSL server certificate issue or whatever. We are forced to temporarily remove the coverity scan badge from our README page as the result.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2018-03-02T18:14:37.183Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":24,"readers_count":23,"score":4.8,"yours":false,"topic_id":4013,"topic_slug":"is-there-a-scopeguard-available-in-urho3d","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Admin","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[23249,23262,23489,23490]},"timeline_lookup":[[1,1743],[3,1726]],"suggested_topics":[{"id":7073,"title":"A plan to support static batching","fancy_title":"A plan to support static batching","slug":"a-plan-to-support-static-batching","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2021-12-01T03:43:48.579Z","last_posted_at":"2021-12-02T23:30:07.199Z","bumped":true,"bumped_at":"2021-12-02T23:30:07.199Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":180,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1490,"username":"Sunc","name":"DoubleSuper","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/df788c/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7063,"title":"Quadspinner Gaea support on Urho?","fancy_title":"Quadspinner Gaea support on Urho?","slug":"quadspinner-gaea-support-on-urho","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2021-11-23T23:30:45.335Z","last_posted_at":"2021-11-23T23:30:45.396Z","bumped":true,"bumped_at":"2021-11-23T23:30:45.396Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":150,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7119,"title":"How to programmatically access Morph Target in FBX file?","fancy_title":"How to programmatically access Morph Target in FBX file?","slug":"how-to-programmatically-access-morph-target-in-fbx-file","posts_count":13,"reply_count":8,"highest_post_number":13,"image_url":null,"created_at":"2022-01-03T23:01:43.070Z","last_posted_at":"2022-01-05T11:55:31.130Z","bumped":true,"bumped_at":"2022-01-05T11:55:31.130Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":214,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1499,"username":"csteaderman","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7122,"title":"Faster allocations with PMR","fancy_title":"Faster allocations with PMR","slug":"faster-allocations-with-pmr","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-01-10T16:23:15.053Z","last_posted_at":"2022-01-10T16:42:29.752Z","bumped":true,"bumped_at":"2022-01-10T17:55:02.117Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":209,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1363,"username":"vmost","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/5f9b8f/{size}.png"}}]},{"id":7192,"title":"What are avaliable options to create custom meshes?","fancy_title":"What are avaliable options to create custom meshes?","slug":"what-are-avaliable-options-to-create-custom-meshes","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-02-11T21:27:42.365Z","last_posted_at":"2022-02-12T01:12:47.814Z","bumped":true,"bumped_at":"2022-02-12T01:12:47.814Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":156,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1507,"username":"Kest","name":"Kest","avatar_template":"/user_avatar/discourse.urho3d.io/kest/{size}/3734_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]}],"tags_descriptions":{},"id":4013,"title":"Is there a ScopeGuard available in Urho3D","fancy_title":"Is there a ScopeGuard available in Urho3D","posts_count":4,"created_at":"2018-02-13T19:33:46.853Z","views":588,"reply_count":0,"like_count":0,"last_posted_at":"2018-03-02T18:13:02.848Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"is-there-a-scopeguard-available-in-urho3d","category_id":16,"word_count":254,"deleted_at":null,"user_id":642,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_4013","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":4},{"id":642,"username":"ricab","name":"Ricardo Abreu","avatar_template":"/user_avatar/discourse.urho3d.io/ricab/{size}/398_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":642,"username":"ricab","name":"Ricardo Abreu","avatar_template":"/user_avatar/discourse.urho3d.io/ricab/{size}/398_2.png"},"last_poster":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"},"links":[{"url":"https://stackoverflow.com/questions/10270328/the-simplest-and-neatest-c11-scopeguard","title":"c++ - The simplest and neatest c++11 ScopeGuard - Stack Overflow","internal":false,"attachment":false,"reflection":false,"clicks":10,"user_id":642,"domain":"stackoverflow.com","root_domain":"stackoverflow.com"},{"url":"https://twitter.com/coverityscan","title":"Coverity Scan (@CoverityScan) | Twitter","internal":false,"attachment":false,"reflection":false,"clicks":8,"user_id":642,"domain":"twitter.com","root_domain":"twitter.com"},{"url":"http://www.boost.org/doc/libs/1_66_0/libs/scope_exit/doc/html/index.html","title":"Chapter 1. Boost.ScopeExit 1.1.0 - 1.66.0","internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":642,"domain":"www.boost.org","root_domain":"boost.org"},{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Resource/Image.cpp#L976","title":"Urho3D/Image.cpp at master · urho3d/Urho3D · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":642,"domain":"github.com","root_domain":"github.com"}]}}