{"post_stream":{"posts":[{"id":22469,"name":"Haolly","username":"haolly","avatar_template":"/user_avatar/discourse.urho3d.io/haolly/{size}/1041_2.png","created_at":"2017-12-16T12:16:35.487Z","cooked":"\u003cp\u003eI find the code \u003ccode\u003eResourceCache::GetResource(StringHash type, ...)\u003c/code\u003e checks the load happens in the main thread,\u003cbr\u003e\nbut I do not understand why it does this check, why Urho could not load resource in another thread\u003c/p\u003e\n\u003cp\u003eMy knowledge tells me that use multiply thread will accelerate the progress when loading multiply resource\u003cbr\u003e\n\u003cimg src=\"https://emoji.discourse-cdn.com/twitter/confused.png?v=5\" title=\":confused:\" class=\"emoji\" alt=\":confused:\"\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-12-16T12:17:02.823Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":36,"reads":54,"readers_count":53,"score":195.8,"yours":false,"topic_id":3852,"topic_slug":"why-does-urho-load-resource-only-in-the-main-thread","display_username":"Haolly","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":877,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22470,"name":"Zhang Kaikai","username":"spwork","avatar_template":"/user_avatar/discourse.urho3d.io/spwork/{size}/1166_2.png","created_at":"2017-12-16T12:29:07.711Z","cooked":"\u003cp\u003esee the document,you can use \u003ccode\u003eBackgroundLoadResource() \u003c/code\u003eload resource in background thread\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-12-16T12:30:37.088Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":54,"readers_count":53,"score":25.8,"yours":false,"topic_id":3852,"topic_slug":"why-does-urho-load-resource-only-in-the-main-thread","display_username":"Zhang Kaikai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":826,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22475,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2017-12-16T15:33:37.990Z","cooked":"\u003cp\u003eAs to why I’m pretty sure it’s just because various graphics resources (like textures) have to be uploaded to the GPU from the main thread, and that is a part of the loading process.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-12-16T15:33:37.990Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":49,"readers_count":48,"score":14.8,"yours":false,"topic_id":3852,"topic_slug":"why-does-urho-load-resource-only-in-the-main-thread","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22526,"name":"Kai","username":"WangKai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","created_at":"2017-12-19T14:44:04.013Z","cooked":"\u003cp\u003eThere are two phases for background resource loading:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ebool Resource::BeginLoad(Deserializer\u0026amp; source)\n{\n    // This always needs to be overridden by subclasses\n    return false;\n}\n\nbool Resource::EndLoad()\n{\n    // If no GPU upload step is necessary, no override is necessary\n    return true;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBeginLoad is on the background loading thread and EndLoad is executed on the main thread for the GPU resource creatation, since all graphics stuff are on the main thread.\u003c/p\u003e\n\u003cp\u003eWe can use a rendering thread for all the GPU stuff, it’s another topic anyway.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-12-19T14:44:04.013Z","reply_count":1,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":0,"reads":43,"readers_count":42,"score":13.6,"yours":false,"topic_id":3852,"topic_slug":"why-does-urho-load-resource-only-in-the-main-thread","display_username":"Kai","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":823,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22527,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-12-19T14:59:40.743Z","cooked":"\u003caside class=\"quote\" data-post=\"1\" data-topic=\"3852\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/haolly/40/1041_1.png\" class=\"avatar\"\u003e haolly:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003ebut I do not understand why it does this check, why Urho could not load resource in another thread\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eBecause there shall be locks to get an existing resource in multiple threads, so it would end up with deadlocks and multiple loadings of single resource. And other MT bullshit that nobody want to care about.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBecause not every resource could be loaded in worker threads.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","post_number":5,"post_type":1,"updated_at":"2017-12-19T15:00:01.564Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":1,"reads":41,"readers_count":40,"score":18.2,"yours":false,"topic_id":3852,"topic_slug":"why-does-urho-load-resource-only-in-the-main-thread","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22546,"name":"Haolly","username":"haolly","avatar_template":"/user_avatar/discourse.urho3d.io/haolly/{size}/1041_2.png","created_at":"2017-12-21T14:43:04.332Z","cooked":"\u003cp\u003eThis is the document in \u003ca href=\"https://urho3d.github.io/documentation/1.7/_resources.html\" rel=\"noopener nofollow ugc\"\u003eresource\u003c/a\u003e says,\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eDepending on the resource, only a part of the loading process may be moved to a background thread, for example the finishing GPU upload step always needs to happen in the main thread.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIt seems that whether or not  a resource could be loaded in background thread depends on the type of the process,\u003cbr\u003e\nSo, could I say that when loading any resource that does not involve GPU stuff, it could be a loading at background thread ?\u003cbr\u003e\nbut \u003ca class=\"mention\" href=\"/u/eugene\"\u003e@Eugene\u003c/a\u003e  's words make me think  that it depends on the type of the resource \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/disappointed_relieved.png?v=10\" title=\":disappointed_relieved:\" class=\"emoji\" alt=\":disappointed_relieved:\"\u003e\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"Eugene\" data-post=\"5\" data-topic=\"3852\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/eugene/40/902_2.png\" class=\"avatar\"\u003e Eugene:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eBecause not every resource could be loaded in worker threads.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e","post_number":6,"post_type":1,"updated_at":"2017-12-21T14:43:04.332Z","reply_count":1,"reply_to_post_number":4,"quote_count":1,"incoming_link_count":0,"reads":31,"readers_count":30,"score":11.2,"yours":false,"topic_id":3852,"topic_slug":"why-does-urho-load-resource-only-in-the-main-thread","display_username":"Haolly","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://urho3d.github.io/documentation/1.7/_resources.html","internal":false,"reflection":false,"title":"Urho3D - Documentation - Resources","clicks":0}],"read":true,"user_title":null,"reply_to_user":{"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":877,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":22547,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-12-21T14:48:12.648Z","cooked":"\u003caside class=\"quote\" data-post=\"6\" data-topic=\"3852\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/haolly/40/1041_1.png\" class=\"avatar\"\u003e haolly:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSo, could I say that when loading any resource that does not involve GPU stuff, it could be a loading at background thread ?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eYes. So it depends on the type of the resource.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-12-21T14:48:12.648Z","reply_count":0,"reply_to_post_number":6,"quote_count":1,"incoming_link_count":2,"reads":30,"readers_count":29,"score":16.0,"yours":false,"topic_id":3852,"topic_slug":"why-does-urho-load-resource-only-in-the-main-thread","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[22469,22470,22475,22526,22527,22546,22547]},"timeline_lookup":[[1,1803],[4,1800],[6,1798]],"suggested_topics":[{"id":7337,"title":"SphereCast() always returns with Distance=0 [SOLVED]","fancy_title":"SphereCast() always returns with Distance=0 [SOLVED]","slug":"spherecast-always-returns-with-distance-0-solved","posts_count":6,"reply_count":3,"highest_post_number":6,"image_url":null,"created_at":"2022-10-13T11:17:10.195Z","last_posted_at":"2022-10-13T16:07:59.696Z","bumped":true,"bumped_at":"2022-10-13T16:07:59.696Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":76,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7330,"title":"Is it Possible to Get New Bone Positions Directly After AnimationState.AddTime() Called?","fancy_title":"Is it Possible to Get New Bone Positions Directly After AnimationState.AddTime() Called?","slug":"is-it-possible-to-get-new-bone-positions-directly-after-animationstate-addtime-called","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-09-22T11:18:00.223Z","last_posted_at":"2022-09-22T13:40:17.428Z","bumped":true,"bumped_at":"2022-09-22T13:40:17.428Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":81,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}}]},{"id":7088,"title":"What Compiler is recommended for building Urho3D under Windows 7 32 bit?","fancy_title":"What Compiler is recommended for building Urho3D under Windows 7 32 bit?","slug":"what-compiler-is-recommended-for-building-urho3d-under-windows-7-32-bit","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-06T07:50:47.867Z","last_posted_at":"2021-12-06T13:55:20.901Z","bumped":true,"bumped_at":"2021-12-06T13:55:20.901Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":152,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7100,"title":"UI Sprites - Wrapping/Repeating Texture","fancy_title":"UI Sprites - Wrapping/Repeating Texture","slug":"ui-sprites-wrapping-repeating-texture","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5d95641f056666c79c67a12520276d2d9f4729ae.png","created_at":"2021-12-15T20:32:37.485Z","last_posted_at":"2021-12-16T03:28:29.146Z","bumped":true,"bumped_at":"2021-12-16T03:28:29.146Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7138,"title":"Build fails (linking phase) on Linux","fancy_title":"Build fails (linking phase) on Linux","slug":"build-fails-linking-phase-on-linux","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-01-20T03:08:29.663Z","last_posted_at":"2022-01-21T15:27:41.192Z","bumped":true,"bumped_at":"2022-01-21T15:27:41.192Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":178,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1502,"username":"jasperry","name":"Jason Perry","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/5fc32e/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]}],"tags_descriptions":{},"id":3852,"title":"Why does Urho load resource only in the main thread?","fancy_title":"Why does Urho load resource only in the main thread?","posts_count":7,"created_at":"2017-12-16T12:16:35.419Z","views":715,"reply_count":3,"like_count":1,"last_posted_at":"2017-12-21T14:48:12.648Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"why-does-urho-load-resource-only-in-the-main-thread","category_id":7,"word_count":427,"deleted_at":null,"user_id":877,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3852","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":7,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":5,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":877,"username":"haolly","name":"Haolly","avatar_template":"/user_avatar/discourse.urho3d.io/haolly/{size}/1041_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":823,"username":"WangKai","name":"Kai","avatar_template":"/user_avatar/discourse.urho3d.io/wangkai/{size}/821_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":826,"username":"spwork","name":"Zhang Kaikai","avatar_template":"/user_avatar/discourse.urho3d.io/spwork/{size}/1166_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":877,"username":"haolly","name":"Haolly","avatar_template":"/user_avatar/discourse.urho3d.io/haolly/{size}/1041_2.png"},"last_poster":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}}