{"post_stream":{"posts":[{"id":30870,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-07-20T05:11:25.673Z","cooked":"\u003cp\u003eI’ve had an eventful couple of days!\u003c/p\u003e\n\u003cp\u003eI got the latest version of the Editor working - apparently, the issue was that the resource path I had set contained old editor scripts, which were located and loaded in preference to those in the editor binary path. I’m not certain that’s all it was, but that was something I took the time to eliminate, between the editor not working, and suddenly working.\u003c/p\u003e\n\u003cp\u003eWith a working editor, I fairly quickly got my BehaviorTree C++ components working within the editor.\u003cbr\u003e\nThis involved dumping a copy of the relevant code into the Urho3DPlayer project source folder (I really should have used symlinks), editing the Urho3DPlayer.cpp sourcecode to register your components, and then regenerating the Urho build folder (cmake) and recompiling urho (make).\u003cbr\u003e\nIt involved some subtle changes to my component sourcecode, so I really do regret not using symlinks - but I have no experience to tell me that cmake could pick up on them (more on this below)\u003c/p\u003e\n\u003cp\u003eIf you get “undefined symbol” errors, you’ve missed a step… regenerating the build folder involves scanning the build target folders, including Urho3DPlayer, for any new .cpp files that need compiling - but to my knowledge it does not scan recursively… have to plonk all the files together. Anyway, it causes the CMakeLists.txt file to be regenerated to include your new files, and is the major reason you might see “undefined blah” errors later…\u003c/p\u003e\n\u003cp\u003eI was pretty chuffed to see my c++ behaviortree code executing in response to a script based caller agent! Basically, script agents call a c++ entrypoint for behaviortree execution, while some behaviortree nodes can call back into script methods. C++ is providing the muscle, while script is providing flexibility and rapid iteration.\u003c/p\u003e\n\u003cp\u003eAfter that, I tried to pull in my gamestate manager components… this was a messy affair, I spent the rest of the day hacking a solution whereby I’m able to detect the lack of a state manager at runtime, and late-start that system (it lives in a separate scene to the game scene, and so the editor is unaware it should exist… previously, my Application class took care of that detail upfront…)\u003c/p\u003e\n\u003cp\u003eNow I’ve got that working, I’ve run into yet another resource path issue, probably been six or so today… progress is still progress.\u003c/p\u003e\n\u003cp\u003eI can now load a game scene in the editor, hit play, and my code will notice there’s no game state manager, it will create one, and assign the editor’s game scene to the manager’s gameplaystate … this currently results in the editor showing my intro scene, main menu, and so on, as if my c++ application had just started.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-07-20T06:18:22.224Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":38,"readers_count":37,"score":47.6,"yours":false,"topic_id":5315,"topic_slug":"c-components-and-the-urho3d-editor-cant-we-all-just-get-along","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":4,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":30885,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-07-21T06:45:24.520Z","cooked":"\u003cp\u003eHaving dealt with the remaining resource issue, I am now able to overload the scene in the editor (asyncronously) - now when my test scriptagent executes its behaviortree logic, and we reach a nested call from c++ back into script, I slam into a segfault.\u003c/p\u003e\n\u003caside class=\"quote no-group\"\u003e\n\u003cblockquote\u003e\n\u003cp\u003e[Sun Jul 21 15:57:39 2019] WARNING: ScriptService being Initialized\u003cbr\u003e\nReached nested script method: Door\u003cbr\u003e\n./Editor.sh: line 3: 11726 Segmentation fault      (core dumped) $(dirname $0)/Urho3DPlayer Scripts/Editor.as \u003cspan class=\"math\"\u003eOPT1 \u003c/span\u003e@\u003cbr\u003e\nleith@leith-desktop:~/Desktop/NewFolder\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThis does not happen in my pure c++ application!\u003c/p\u003e\n\u003cp\u003eSince I had to make changes to the codebase to accomodate the editor, and since I failed to try using symlinks, my next step is to backport the changed files into my c++ project and see if I can reproduce the issue. This will also give me a chance to try replacing the files I dumped into the Player project with symlink files, and see if cmake can follow the links.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2019-07-21T06:52:13.651Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":31,"readers_count":30,"score":6.2,"yours":false,"topic_id":5315,"topic_slug":"c-components-and-the-urho3d-editor-cant-we-all-just-get-along","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[30870,30885]},"timeline_lookup":[[1,1222],[2,1221]],"suggested_topics":[{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11？","fancy_title":"Do we give up supporting dx11？","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7243,"title":"Android compile fails","fancy_title":"Android compile fails","slug":"android-compile-fails","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2022-04-25T08:46:07.947Z","last_posted_at":"2022-05-06T08:22:51.592Z","bumped":true,"bumped_at":"2022-05-06T08:22:51.592Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":181,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7187,"title":"\"Dual World Dash\" gamejam game","fancy_title":"\u0026ldquo;Dual World Dash\u0026rdquo; gamejam game","slug":"dual-world-dash-gamejam-game","posts_count":4,"reply_count":2,"highest_post_number":4,"image_url":null,"created_at":"2022-02-06T18:40:17.045Z","last_posted_at":"2022-02-07T10:39:13.695Z","bumped":true,"bumped_at":"2022-02-07T10:39:13.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":5,"views":259,"category_id":17,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]}],"tags_descriptions":{},"id":5315,"title":"C++ Components and the Urho3D Editor - Can't we all just get along?","fancy_title":"C++ Components and the Urho3D Editor - Can\u0026rsquo;t we all just get along?","posts_count":2,"created_at":"2019-07-20T05:11:25.617Z","views":385,"reply_count":0,"like_count":2,"last_posted_at":"2019-07-21T06:45:24.520Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"c-components-and-the-urho3d-editor-cant-we-all-just-get-along","category_id":9,"word_count":617,"deleted_at":null,"user_id":1098,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_5315","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":2,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":1,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png"},"last_poster":{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png"}}}