{"post_stream":{"posts":[{"id":41812,"name":"Daniel Randle","username":"dprandle","avatar_template":"/user_avatar/discourse.urho3d.io/dprandle/{size}/1400_2.png","created_at":"2021-02-13T09:42:44.421Z","cooked":"\u003cp\u003eSo I started building a game-specific editor in urho using Qt - I did this in linux. I actually got pretty far - life was good. I then started using an imac, and poof!\u003c/p\u003e\n\u003cp\u003eTo work on linux you just pass the widget winId to urho as the external window id and it works fine.\u003c/p\u003e\n\u003cp\u003eIt seems the SDL window creation code on Mac is expecting an NSWindow, and winID() from QWidget returns an NSView - so it was crashing. Im fairly new to Cocoa ecosystem, but looked up some obj c quick tutorials and wrote a little mm file to “convert” the NSView to a NSWindow. Okay no more crash.\u003c/p\u003e\n\u003cp\u003eProblem is that my editing widget is a child window of the main window - so although there was no crash, doing the above thing not only doesn’t draw the scene correctly to the widget (doesn’t draw anything to the widget), it makes all the input and drag/resize stuff go kind of crazy. I can see that the scene gets loaded and shaders get compiled though…\u003c/p\u003e\n\u003cp\u003eAnyone done this before that could share? It would be great to get this working on mac as it does on linux\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2021-02-13T09:42:44.421Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":5,"reads":30,"readers_count":29,"score":31.0,"yours":false,"topic_id":6707,"topic_slug":"qt-mac-with-urho3d","display_username":"Daniel Randle","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":955,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41813,"name":"魔大农 𝞍𝞎𝝳 現招蜍","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2021-02-13T10:29:43.649Z","cooked":"\u003cp\u003eWhat I do is pass the winID of a temporary widget, and dispose of it. Then basically rendering every view to its own texture which is then \u003ca href=\"https://gitlab.com/luckeyproductions/tools/manawarg/-/blob/master/src/weaver.h#L114-121\" rel=\"noopener nofollow ugc\"\u003econverted to a QPixmap\u003c/a\u003e. That way you can queue all render surfaces that need to be updated, and leave the rest unchanged.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-02-13T10:29:43.649Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":30,"readers_count":29,"score":11.0,"yours":false,"topic_id":6707,"topic_slug":"qt-mac-with-urho3d","display_username":"魔大农 𝞍𝞎𝝳 現招蜍","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://gitlab.com/luckeyproductions/tools/manawarg/-/blob/master/src/weaver.h#L114-121","internal":false,"reflection":false,"title":"src/weaver.h · master · LucKey Productions / Tools / ManaWarg · GitLab","clicks":2}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41816,"name":"Daniel Randle","username":"dprandle","avatar_template":"/user_avatar/discourse.urho3d.io/dprandle/{size}/1400_2.png","created_at":"2021-02-13T18:47:13.444Z","cooked":"\u003cp\u003eInteresting - does doing this basically get rid of dealing with SDL all together?\u003c/p\u003e\n\u003cp\u003eIn linux I was grabbing things like mouse movement and key strokes from the Qt window events and creating the SDL events manually for them…\u003c/p\u003e\n\u003cp\u003eIf I can just throw away the SDL window and essentially use urho in a headless fashion, using Qt to control app flow and urho to render to a surface that would be great.\u003c/p\u003e\n\u003cp\u003eI’ll give it a shot - I’ve got a bit of work in to the editor already\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-02-13T18:47:13.444Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":1,"reads":25,"readers_count":24,"score":10.0,"yours":false,"topic_id":6707,"topic_slug":"qt-mac-with-urho3d","display_username":"Daniel Randle","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":955,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41821,"name":"魔大农 𝞍𝞎𝝳 現招蜍","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2021-02-14T10:26:44.792Z","cooked":"\u003cp\u003eI use multiple inheritance from \u003ccode\u003eQWidget\u003c/code\u003e and \u003ccode\u003eObject\u003c/code\u003e to allow for the handling of both Qt and engine events by the same object as well as it accessing subsystems. As with for instance this \u003ca href=\"https://gitlab.com/luckeyproductions/tools/dolly/-/blob/master/view3d.cpp\" rel=\"noopener nofollow ugc\"\u003eView3D\u003c/a\u003e.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2021-02-14T10:26:44.792Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":9.2,"yours":false,"topic_id":6707,"topic_slug":"qt-mac-with-urho3d","display_username":"魔大农 𝞍𝞎𝝳 現招蜍","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://gitlab.com/luckeyproductions/tools/dolly/-/blob/master/view3d.cpp","internal":false,"reflection":false,"title":"view3d.cpp · master · LucKey Productions / Tools / Dolly · GitLab","clicks":4}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41831,"name":"Daniel Randle","username":"dprandle","avatar_template":"/user_avatar/discourse.urho3d.io/dprandle/{size}/1400_2.png","created_at":"2021-02-15T06:28:58.789Z","cooked":"\u003cp\u003eAssuming that the view needs to be updated every frame (playing animation or something), have you noticed any performance problems copying the Image to QPixmap?\u003c/p\u003e\n\u003cp\u003eFrom your code it does indeed look like your bypassing the sdl stuff and handling input manually from the QEvents passed to the widget… have you been able to work with Urho UI components doing this (the ui system seems to handle mouse input from sdl events directly)\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2021-02-15T06:28:58.789Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":16,"readers_count":15,"score":3.2,"yours":false,"topic_id":6707,"topic_slug":"qt-mac-with-urho3d","display_username":"Daniel Randle","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":955,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":41832,"name":"魔大农 𝞍𝞎𝝳 現招蜍","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2021-02-15T08:30:11.487Z","cooked":"\u003cp\u003eThere is a notable FPS reduction for fullscreen purposes, yes. Maybe multi-threading could solve that?\u003c/p\u003e\n\u003cp\u003eI have not tried engine UI in this setup.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2021-02-15T08:30:11.487Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":6707,"topic_slug":"qt-mac-with-urho3d","display_username":"魔大农 𝞍𝞎𝝳 現招蜍","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[41812,41813,41816,41821,41831,41832]},"timeline_lookup":[[1,648],[3,647],[5,646]],"suggested_topics":[{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7074,"title":"First Person and 3rd person camera and water reflections","fancy_title":"First Person and 3rd person camera and water reflections","slug":"first-person-and-3rd-person-camera-and-water-reflections","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-01T18:37:28.669Z","last_posted_at":"2021-12-01T21:19:51.519Z","bumped":true,"bumped_at":"2021-12-01T21:19:51.519Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":158,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7127,"title":"Switching ribbon trails emission glitches transparent materials","fancy_title":"Switching ribbon trails emission glitches transparent materials","slug":"switching-ribbon-trails-emission-glitches-transparent-materials","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-01-13T17:17:46.847Z","last_posted_at":"2022-02-10T08:10:49.330Z","bumped":true,"bumped_at":"2022-02-10T08:10:49.330Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":323,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1188,"username":"Taqer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7138,"title":"Build fails (linking phase) on Linux","fancy_title":"Build fails (linking phase) on Linux","slug":"build-fails-linking-phase-on-linux","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-01-20T03:08:29.663Z","last_posted_at":"2022-01-21T15:27:41.192Z","bumped":true,"bumped_at":"2022-01-21T15:27:41.192Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":178,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1502,"username":"jasperry","name":"Jason Perry","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/5fc32e/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7204,"title":"How handle with multiple scenes?","fancy_title":"How handle with multiple scenes?","slug":"how-handle-with-multiple-scenes","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-02-23T16:15:02.697Z","last_posted_at":"2022-02-23T16:15:02.762Z","bumped":true,"bumped_at":"2022-02-23T16:15:02.762Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":131,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}}]}],"tags_descriptions":{},"id":6707,"title":"Qt Mac with Urho3D","fancy_title":"Qt Mac with Urho3D","posts_count":6,"created_at":"2021-02-13T09:42:44.307Z","views":222,"reply_count":2,"like_count":0,"last_posted_at":"2021-02-15T08:30:11.487Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"qt-mac-with-urho3d","category_id":10,"word_count":494,"deleted_at":null,"user_id":955,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6707","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0},{"id":955,"username":"dprandle","name":"Daniel Randle","avatar_template":"/user_avatar/discourse.urho3d.io/dprandle/{size}/1400_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":955,"username":"dprandle","name":"Daniel Randle","avatar_template":"/user_avatar/discourse.urho3d.io/dprandle/{size}/1400_2.png"},"last_poster":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"},"links":[{"url":"https://gitlab.com/luckeyproductions/tools/dolly/-/blob/master/view3d.cpp","title":"view3d.cpp · master · LucKey Productions / Tools / Dolly · GitLab","internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":192,"domain":"gitlab.com","root_domain":"gitlab.com"},{"url":"https://gitlab.com/luckeyproductions/tools/manawarg/-/blob/master/src/weaver.h#L114-121","title":"src/weaver.h · master · LucKey Productions / Tools / ManaWarg · GitLab","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":192,"domain":"gitlab.com","root_domain":"gitlab.com"}]}}