{"post_stream":{"posts":[{"id":33082,"name":"Peter","username":"Spongeloaf","avatar_template":"/user_avatar/discourse.urho3d.io/spongeloaf/{size}/2527_2.png","created_at":"2019-08-26T14:37:58.531Z","cooked":"\u003cp\u003eI have a Component subclass called Planet. It looks like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eclass Planet : public Component {\npublic:\n\tbool has_gravity = false;\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt’s added to the planet’s node like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003ePlanet* rock_planet = rock_node-\u0026gt;CreateComponent\u0026lt;Planet\u0026gt;();\nrock_planet-\u0026gt;has_gravity = true;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDuring each update, I check each planet for gravity:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003ePODVector\u0026lt;RigidBody2D*\u0026gt; all_nodes;\nscene_-\u0026gt;GetComponents(all_nodes, StringHash::Calculate(\"RigidBody2D\"));\n\nfor (PODVector\u0026lt;RigidBody2D*\u0026gt;::Iterator body = all_nodes.Begin(); body != all_nodes.End(); body++)\n\t{\t\t\n\t\tNode* node = (*body)-\u0026gt;GetNode();\n\t\tPlanet* planet = node-\u0026gt;GetComponent\u0026lt;Planet\u0026gt;();\n\t\tif (planet) \n                {\n                      // do stuff\n                }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHowever this always returns null. If I swap  for any other built in component type, it works perfectly:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e// For debug rendering - this code works just fine.\nPhysicsWorld2D* physics_world = scene_-\u0026gt;GetComponent\u0026lt;PhysicsWorld2D\u0026gt;();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eInside GetComponent is a rabbit hole of templates, typedefs, and string hashes. It is not obvious to me what I need to do to make this work, or more specifically which parts of these templates my Planet is missing.\u003c/p\u003e\n\u003cp\u003eOther Components have \u003cspan class=\"hashtag\"\u003e#defined\u003c/span\u003e things in their class definitions that I’m not familiar with:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eclass URHO3D_API StaticSprite2D : public Drawable2D\n{\n    URHO3D_OBJECT(StaticSprite2D, Drawable2D);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStraight copying those into my class has not helped:\u003cbr\u003e\n\u003ccode\u003e\"URHO3D_OBJECT(Planet, Component)\")\u003c/code\u003e\u003cbr\u003e\nVisual studio doesn’t like it, and I don’t know what it does anyway, but it’s the most obvious difference between my class and other components.\u003c/p\u003e\n\u003cp\u003eAny help?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-08-26T23:12:47.473Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":4,"reads":33,"readers_count":32,"score":30.6,"yours":false,"topic_id":5511,"topic_slug":"solved-getcomponent-cannot-find-my-component-subclass","display_username":"Peter","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":4,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1219,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":33083,"name":"","username":"elix22","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png","created_at":"2019-08-26T15:01:39.101Z","cooked":"\u003cp\u003eYou didn’t register  your component ,\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eDeclare in your class\u003c/strong\u003e\u003cbr\u003e\nstatic void RegisterObject(Context*);\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eImplement\u003c/strong\u003e\u003cbr\u003e\n\u003ccode\u003evoid Planet ::RegisterObject(Context* context){ context-\u0026gt;RegisterFactory\u0026lt;Planet\u0026gt;(\"Planet\");}\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCall once in the beginning :\u003c/strong\u003e\u003cbr\u003e\nPlanet::RegisterObject(context);\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2019-08-26T15:01:39.101Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":33,"readers_count":32,"score":11.6,"yours":false,"topic_id":5511,"topic_slug":"solved-getcomponent-cannot-find-my-component-subclass","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":809,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":33084,"name":"","username":"S.L.C","avatar_template":"/user_avatar/discourse.urho3d.io/s.l.c/{size}/1016_2.png","created_at":"2019-08-26T15:23:52.747Z","cooked":"\u003cp\u003eAlso, i hope you don’t forget the boilerplate macro:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-cpp\"\u003eURHO3D_OBJECT(Planet, Component);\n\u003c/code\u003e\u003c/pre\u003e","post_number":3,"post_type":1,"updated_at":"2019-08-26T15:23:52.747Z","reply_count":1,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":30,"readers_count":29,"score":11.0,"yours":false,"topic_id":5511,"topic_slug":"solved-getcomponent-cannot-find-my-component-subclass","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":180,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":33085,"name":"Peter","username":"Spongeloaf","avatar_template":"/user_avatar/discourse.urho3d.io/spongeloaf/{size}/2527_2.png","created_at":"2019-08-26T15:35:43.671Z","cooked":"\u003caside class=\"quote no-group\" data-post=\"3\" data-topic=\"5511\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/s.l.c/40/1016_2.png\" class=\"avatar\"\u003e S.L.C:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAlso, i hope you don’t forget the boilerplate macro\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI mentioned it in the original post; I wasn’t sure if I needed it but it did look important. According to visual studio the function definition for ‘URHO3D_OBJECT’ is not found. I’ve included object.h, and visual studio can even peek the definition of it. What else am I missing?\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eclass Planet : public Component {\n\n\tURHO3D_OBJECT(Planet, Component);\n\npublic:\n\tbool has_gravity;\n\tstatic void RegisterObject(Context*);\n};\n\u003c/code\u003e\u003c/pre\u003e","post_number":4,"post_type":1,"updated_at":"2019-08-26T15:35:43.671Z","reply_count":0,"reply_to_post_number":3,"quote_count":1,"incoming_link_count":0,"reads":31,"readers_count":30,"score":6.2,"yours":false,"topic_id":5511,"topic_slug":"solved-getcomponent-cannot-find-my-component-subclass","display_username":"Peter","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1219,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":33090,"name":"Codexhound","username":"codexhound","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/df705f/{size}.png","created_at":"2019-08-26T20:27:09.818Z","cooked":"\u003cp\u003eEvery custom object which derives from object needs a constructor that takes a context pointer to use the URHO3D_OBJECT macro (it defines a bunch of code Urho objects need to use events and hashing, etc) kind of like the Q_OBJECT macro in qt.\u003cbr\u003e\nFor you it would look like\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclass Planet : public Component {\n       URHO3D_OBJECT(Planet, Component);\n       public:\n         Planet(Context * context) : Component(context) {}\n         bool has_gravity;\n         static void RegisterObject(Context*);\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWithout that constructor, Urho3D has no way of registering the object for lookup from what I’ve gathered. Given that, in all my implementations so far RegisterObject has not been necessary as I’ve been using this:\u003c/p\u003e\n\u003cp\u003eUse GetDerivedComponent() for finding custom unregistered derived objects.\u003c/p\u003e\n\u003cp\u003eI think with all that in your class it should work with GetComponent as well.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2019-08-26T20:36:14.439Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":10.8,"yours":false,"topic_id":5511,"topic_slug":"solved-getcomponent-cannot-find-my-component-subclass","display_username":"Codexhound","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1211,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":33097,"name":"Peter","username":"Spongeloaf","avatar_template":"/user_avatar/discourse.urho3d.io/spongeloaf/{size}/2527_2.png","created_at":"2019-08-26T23:12:30.586Z","cooked":"\u003cp\u003eIt seems to work now. Thanks for the help \u003ca class=\"mention\" href=\"/u/elix22\"\u003e@elix22\u003c/a\u003e, \u003ca class=\"mention\" href=\"/u/s.l.c\"\u003e@S.L.C\u003c/a\u003e, and \u003ca class=\"mention\" href=\"/u/codexhound\"\u003e@codexhound\u003c/a\u003e!\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2019-08-27T00:08:16.257Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":20.0,"yours":false,"topic_id":5511,"topic_slug":"solved-getcomponent-cannot-find-my-component-subclass","display_username":"Peter","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"codexhound","name":"Codexhound","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/df705f/{size}.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1219,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[33082,33083,33084,33085,33090,33097]},"timeline_lookup":[[1,1185],[5,1184]],"suggested_topics":[{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7086,"title":"Handling CrowdAgents that get stuck","fancy_title":"Handling CrowdAgents that get stuck","slug":"handling-crowdagents-that-get-stuck","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-04T01:26:23.062Z","last_posted_at":"2021-12-05T04:37:54.143Z","bumped":true,"bumped_at":"2021-12-05T04:37:54.143Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7129,"title":"Best Model Import Pipeline as of Jan 2022?","fancy_title":"Best Model Import Pipeline as of Jan 2022?","slug":"best-model-import-pipeline-as-of-jan-2022","posts_count":7,"reply_count":0,"highest_post_number":7,"image_url":null,"created_at":"2022-01-17T09:27:23.432Z","last_posted_at":"2022-01-17T20:37:59.458Z","bumped":true,"bumped_at":"2022-01-17T20:37:59.458Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":170,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}}]},{"id":7179,"title":"Need help with cusomized PBR renderpath","fancy_title":"Need help with cusomized PBR renderpath","slug":"need-help-with-cusomized-pbr-renderpath","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-02-01T09:04:58.692Z","last_posted_at":"2022-02-03T17:35:34.174Z","bumped":true,"bumped_at":"2022-02-03T17:35:34.174Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":13,"views":205,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]}],"tags_descriptions":{},"id":5511,"title":"[SOLVED] GetComponent() cannot find my component subclass","fancy_title":"[SOLVED] GetComponent() cannot find my component subclass","posts_count":6,"created_at":"2019-08-26T14:37:58.313Z","views":244,"reply_count":3,"like_count":1,"last_posted_at":"2019-08-26T23:12:30.586Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"solved-getcomponent-cannot-find-my-component-subclass","category_id":10,"word_count":490,"deleted_at":null,"user_id":1219,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_5511","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1219,"username":"Spongeloaf","name":"Peter","avatar_template":"/user_avatar/discourse.urho3d.io/spongeloaf/{size}/2527_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":180,"username":"S.L.C","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/s.l.c/{size}/1016_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0},{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":1211,"username":"codexhound","name":"Codexhound","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/df705f/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1219,"username":"Spongeloaf","name":"Peter","avatar_template":"/user_avatar/discourse.urho3d.io/spongeloaf/{size}/2527_2.png"},"last_poster":{"id":1219,"username":"Spongeloaf","name":"Peter","avatar_template":"/user_avatar/discourse.urho3d.io/spongeloaf/{size}/2527_2.png"}}}