{"post_stream":{"posts":[{"id":29003,"name":"Pangolin","username":"NinjaPangolin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png","created_at":"2019-03-19T13:09:40.481Z","cooked":"\u003cp\u003eLet‚Äôs take a closer look at character in 15_Navigation demo. Initially it stays correctly on the ground:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/2/296b76f1ea9f76fd4745ef471a08f6684a0e5086.png\" alt=\"before\" width=\"646\" height=\"499\"\u003e\u003c/p\u003e\n\u003cp\u003eAfter clicking and moving it ends up slightly above ground.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/1/1a9199b9b0a0467e949e1917cf2a3340f64d4158.png\" alt=\"after\" width=\"639\" height=\"500\"\u003e\u003c/p\u003e\n\u003cp\u003eIn fact, comparing \u003ccode\u003eGetPosition()\u003c/code\u003e values for these states gives a difference equal to 0.2 on Y asix:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eInitial position: -5 0 20\nFinal position: -4.74867 0.198792 29.8848\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn \u003ccode\u003eNavigation::CreateScene\u003c/code\u003e I‚Äôve add following debug cout:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e    // Now build the navigation geometry. This will take some time. Note that the navigation mesh will prefer to use\n    // physics geometry from the scene nodes, as it often is simpler, but if it can not find any (like in this example)\n    // it will use renderable geometry instead\n    navMesh-\u0026gt;Build();\n\n    std::cout \u0026lt;\u0026lt; \"Random points: \" \u0026lt;\u0026lt; std::endl;\n    for(auto i=0; i \u0026lt;20; ++i) {\n        auto pt = navMesh-\u0026gt;GetRandomPoint();\n        std::cout \u0026lt;\u0026lt; \"\\t\" \u0026lt;\u0026lt; pt.x_ \u0026lt;\u0026lt; \" \" \u0026lt;\u0026lt; pt.y_ \u0026lt;\u0026lt; \" \" \u0026lt;\u0026lt; pt.z_ \u0026lt;\u0026lt; std::endl;\n    }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd it looks like all navigation mesh points are placed slightly above the model level:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eRandom points: \n\t-34.8614 0.2 -19.435\n\t46.8862 0.2 16.3022\n\t-15.4682 0.34107 -1.71237\n\t16.1699 0.243568 27.2042\n\t-14.4599 0.2 17.6979\n\t-8.4888 0.2 -20.1714\n\t-9.43277 0.2 -22.4549\n\t-40.1437 0.2 49.0701\n\t-21.6182 0.2 45.9047\n\t-18.2657 0.2 -47.5353\n\t21.4526 0.2 -18.5636\n\t32.3839 0.2 -35.4006\n\t0.882734 0.2 -36.7485\n\t35.3857 0.2 -44.7061\n\t36.6319 0.208437 11.8984\n\t-29.6036 0.2 46.878\n\t48.0064 0.2 47.2164\n\t-46.7391 0.2 46.3535\n\t2.76679 0.379008 14.8697\n\t-49.0324 0.2 47.8133\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhat‚Äôs the cause and how can I fix this?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-03-19T13:09:40.481Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":30,"readers_count":29,"score":16.0,"yours":false,"topic_id":5040,"topic_slug":"navigation-mesh-points-placed-above-model-level","display_username":"Pangolin","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":858,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29004,"name":"J Tippetts","username":"JTippetts1","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png","created_at":"2019-03-19T16:05:45.898Z","cooked":"\u003cp\u003eThe cause is due to the fact that Recast rasterizes navigable geometry into a volume of cells. I‚Äôm guessing your cell height is 0.2. When the ground plane is rasterized into the volume it fills the bottom layer of cells,  then when it peels off the navmesh its offset by the cell height. Some ways to get around it include using a fine-grained volume resolution to reduce the error, or applying an offset to agent y position. There are geometry hacks that you could attempt by using hidden geometry to pad out the navigable area so that ground planes sit near the tops of volume cells instead of the bottoms. It‚Äôs a drawback of the volume raster technique that Recast uses, I‚Äôm afraid.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2019-03-20T19:42:43.158Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":28,"readers_count":27,"score":35.6,"yours":false,"topic_id":5040,"topic_slug":"navigation-mesh-points-placed-above-model-level","display_username":"J Tippetts","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":631,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true}],"stream":[29003,29004]},"timeline_lookup":[[1,1345]],"suggested_topics":[{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7146,"title":"How create affordable comfortable and modern terrain?","fancy_title":"How create affordable comfortable and modern terrain?","slug":"how-create-affordable-comfortable-and-modern-terrain","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-01-21T15:20:08.910Z","last_posted_at":"2022-01-21T21:51:58.799Z","bumped":true,"bumped_at":"2022-01-21T22:03:14.896Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7181,"title":"StaticModelGroup - Are ShaderParameters Shared?","fancy_title":"StaticModelGroup - Are ShaderParameters Shared?","slug":"staticmodelgroup-are-shaderparameters-shared","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-02-02T09:31:19.658Z","last_posted_at":"2022-02-02T17:06:24.059Z","bumped":true,"bumped_at":"2022-02-02T17:06:24.059Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":120,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7081,"title":"Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"","fancy_title":"Install Urho3D Library - Windows 10 - rake build - \u0026ldquo;project does not exist\u0026rdquo;","slug":"install-urho3d-library-windows-10-rake-build-project-does-not-exist","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-03T03:06:40.974Z","last_posted_at":"2021-12-03T17:53:10.844Z","bumped":true,"bumped_at":"2021-12-03T17:53:10.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":190,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]}],"tags_descriptions":{},"id":5040,"title":"Navigation mesh points placed above model level","fancy_title":"Navigation mesh points placed above model level","posts_count":2,"created_at":"2019-03-19T13:09:40.372Z","views":301,"reply_count":0,"like_count":2,"last_posted_at":"2019-03-19T16:05:45.898Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"navigation-mesh-points-placed-above-model-level","category_id":10,"word_count":430,"deleted_at":null,"user_id":858,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/2/296b76f1ea9f76fd4745ef471a08f6684a0e5086_2_1024x792.png","slow_mode_seconds":0,"draft":null,"draft_key":"topic_5040","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":2,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":[{"max_width":null,"max_height":null,"width":1026,"height":794,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/296b76f1ea9f76fd4745ef471a08f6684a0e5086.png"},{"max_width":1024,"max_height":1024,"width":1024,"height":792,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/2/296b76f1ea9f76fd4745ef471a08f6684a0e5086_2_1024x792.png"}],"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":2,"username":"JTippetts1","excerpt":"The cause is due to the fact that Recast rasterizes navigable geometry into a volume of cells. I‚Äôm guessing your cell height is 0.2. When the ground plane is rasterized into the volume it fills the bottom layer of cells,  then when it peels off the navmesh its offset by the cell height. Some ways to\u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0},{"id":858,"username":"NinjaPangolin","name":"Pangolin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":858,"username":"NinjaPangolin","name":"Pangolin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"},"last_poster":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}}