{"post_stream":{"posts":[{"id":38285,"name":"","username":"UrhoIsTheBest","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png","created_at":"2020-07-12T22:04:49.764Z","cooked":"\u003cp\u003eI’ve been trying to implement \u003ca href=\"https://github.com/fstrugar/CDLOD/blob/master/cdlod_paper_latest.pdf\" rel=\"nofollow noopener\"\u003eCDLOD Terrain Algorithm\u003c/a\u003e in Urho3D engine.\u003c/p\u003e\n\u003cp\u003eI finished the QuadTree and LOD node selection part, and it works as expected.\u003cbr\u003e\nI created a single grid mesh of fixed dimensions and set it into vertex buffer.\u003cbr\u003e\n\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc.png\" data-download-href=\"/uploads/short-url/waIiyrD5dJlFfaBihxMPgU5RKMY.png?dl=1\" title=\"image\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc_2_673x500.png\" alt=\"image\" data-base62-sha1=\"waIiyrD5dJlFfaBihxMPgU5RKMY\" width=\"673\" height=\"500\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc_2_673x500.png, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc_2_1009x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc_2_1346x1000.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eimage\u003c/span\u003e\u003cspan class=\"informations\"\u003e2028×1506 307 KB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003eThe next step is to “duplicate” this grid mesh vertices in vertex shader, scale and translate it to fill all the square areas.\u003cbr\u003e\n\u003cstrong\u003eNow I have some difficulties in understanding how to do that in Urho3D.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eI guess I should use \u003ca href=\"https://learnopengl.com/Advanced-OpenGL/Instancing\" rel=\"nofollow noopener\"\u003eInstancing\u003c/a\u003e for such task. For example, I can add \u003ccode\u003escale\u003c/code\u003e and \u003ccode\u003etranslation\u003c/code\u003e variables in \u003ccode\u003evertex shader\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003euniform vec3 translation;\nuniform float scale;\n...\n// then in main()\nWorldPosition = scale*position + translation;\nfloat height = getHeight(WorldPosition.xz);\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen set those two variables differently for each of the square terrain area (as each separate instance).\u003c/p\u003e\n\u003cp\u003eBut I am not sure how to implement it in Urho3D framework. For example, I noticed there is \u003ccode\u003eGraphics::DrawInstanced()\u003c/code\u003e method using the instancing technique I mentioned, and that function is called by \u003ccode\u003eBatchGroup::Draw()\u003c/code\u003e. I also noticed there is \u003ccode\u003einstancingData_\u003c/code\u003e for \u003ccode\u003eBatch\u003c/code\u003e class. But I don’t see examples using similar things.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eBTW: I checked Samples and found \u003ccode\u003e20_HugeObjectCount\u003c/code\u003e is using \u003ccode\u003eStaticModelGroup\u003c/code\u003e and clone lots of static model for similar things. But I guess that’s probably not what I want.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eAny help or sample code I could follow?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2020-07-13T04:03:14.829Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":110,"reads":57,"readers_count":56,"score":556.4,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/fstrugar/CDLOD/blob/master/cdlod_paper_latest.pdf","internal":false,"reflection":false,"title":"CDLOD/cdlod_paper_latest.pdf at master · fstrugar/CDLOD · GitHub","clicks":9},{"url":"https://learnopengl.com/Advanced-OpenGL/Instancing","internal":false,"reflection":false,"title":"LearnOpenGL - Instancing","clicks":3},{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc.png","internal":false,"reflection":false,"title":"e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc.png","clicks":0}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1291,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":38296,"name":"tobias alarcon","username":"extobias","avatar_template":"/user_avatar/discourse.urho3d.io/extobias/{size}/2836_2.png","created_at":"2020-07-13T12:15:34.858Z","cooked":"\u003cp\u003eHi urho, this steps allow me to use instance rendering and pass data to each instance.\u003cbr\u003e\nFirst setup the renderer\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cpre\u003e\u003ccode\u003eRenderer* renderer = GetSubsystem\u0026lt;Renderer\u0026gt;();\nrenderer-\u0026gt;SetNumExtraInstancingBufferElements(1);\nrenderer-\u0026gt;SetMinInstances(1);\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eInherit from Drawable (here you create the vertex/index buffers) and set\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cpre\u003e\u003ccode\u003ebatches_[0].geometryType_ = GEOM_INSTANCED;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOverride UpdateBatches and set instance data\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cpre\u003e\u003ccode\u003eunsigned offset = 0;\nunsigned char* instanceData = static_cast\u0026lt;unsigned char*\u0026gt;(batches_[0].instancingData_);\nfor(unsigned i = 0; i \u0026lt; numWorldTransforms_; i++)\n{\n    // transform\n    Matrix3x4 transform(Matrix3x4::IDENTITY);\n    transform.SetTranslation(*worldTransform * vertexOffset_[i]);\n    worldTransforms_[i] = transform;\n\n    // color is passed as instanced\n    memcpy(instanceData + offset, color.ToVector4().Data(), sizeof(Vector4));\n    offset += sizeof(Vector4);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAdd your atribute to (here is iTexCoord7) CoreData/Shaders/GLSL/Transform.glsl\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cpre\u003e\u003ccode\u003e#ifdef INSTANCED\nattribute vec4 iTexCoord4;\nattribute vec4 iTexCoord5;\nattribute vec4 iTexCoord6;\nattribute vec4 iTexCoord7;\n#endif\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eFinally had to make some modification to Batch.h, without this the same value\u003cbr\u003e\nis passed to all instances\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cpre\u003e\u003ccode\u003evoid AddTransforms(const Batch\u0026amp; batch)\n{\n    InstanceData newInstance;\n    newInstance.distance_ = batch.distance_;\n\n    unsigned char* buffer = static_cast\u0026lt;unsigned char*\u0026gt;(batch.instancingData_);\n    if(!buffer)\n    {\n        newInstance.instancingData_ = batch.instancingData_;\n    }\n\n    for (unsigned i = 0; i \u0026lt; batch.numWorldTransforms_; ++i)\n    {\n        newInstance.worldTransform_ = \u0026amp;batch.worldTransform_[i];\n        if(buffer)\n        {\n            newInstance.instancingData_ = buffer + sizeof(Vector4) * i;\n        }\n\n        instances_.Push(newInstance);\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e","post_number":2,"post_type":1,"updated_at":"2020-07-13T12:15:34.858Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":53,"readers_count":52,"score":40.6,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"tobias alarcon","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":653,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":38297,"name":"","username":"coldev","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/73ab20/{size}.png","created_at":"2020-07-13T13:46:42.193Z","cooked":"\u003cp\u003eno mans sky URHO \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/star_struck.png?v=9\" title=\":star_struck:\" class=\"emoji\" alt=\":star_struck:\"\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2020-07-13T13:46:42.193Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":51,"readers_count":50,"score":25.2,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":588,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":38363,"name":"","username":"UrhoIsTheBest","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png","created_at":"2020-07-17T23:36:13.555Z","cooked":"\u003cp\u003eThanks extobias!\u003c/p\u003e\n\u003cp\u003eGenerally, your solution makes sense to me. It looks similar to \u003ca href=\"https://urho3d.github.io/documentation/HEAD/_rendering.html\" rel=\"nofollow noopener\"\u003eDefining extra instancing data\u003c/a\u003e section in the Urho3D documentation.\u003c/p\u003e\n\u003cp\u003eAlthough I haven’t figured out all the details for this implementation, which I could ask you later. \u003cem\u003e(I am having some difficulties so I may need to look at all code for a fully running example.)\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eOn the other hand, \u003cstrong\u003eI feel there should be a simpler solution for my particular question. Because I don’t need extra instance data, all I need is a different world_transform for each piece of terrain square.\u003c/strong\u003e\u003cbr\u003e\nFor example, I believe all I need is just to set the correct \u003ccode\u003ebatch[0].worldTransform_[i]\u003c/code\u003e for \u003ccode\u003eterrain[i]\u003c/code\u003e, and set \u003ccode\u003ebatch.numWorldTransform_ = total number of terrains\u003c/code\u003e. This should be very similar to how \u003ccode\u003eStaticModelGroup\u003c/code\u003e is used in \u003ccode\u003e20_HugeObjectCount\u003c/code\u003e example.\u003c/p\u003e\n\u003cp\u003eI tried the following method:\u003cbr\u003e\nFirst set the vertex buffer for a single geometry as before\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e  batches_[0].geometry_ = geometry_;\n  batches_[0].geometryType_ = GEOM_INSTANCED;\n\n  ...  // calculate vertex buffer and index buffer...\n\n  geometry_-\u0026gt;SetIndexBuffer(indexBuffer_);\n  geometry_-\u0026gt;SetVertexBuffer(0, vertexBuffer_);\n  geometry_-\u0026gt;SetDrawRange(TRIANGLE_LIST, 0, indices.Size(), 0, total_vertices);\n\n  vertexBuffer_-\u0026gt;Unlock();\n  vertexBuffer_-\u0026gt;ClearDataLost();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen set basic material for \u003ccode\u003ebatches_[0]\u003c/code\u003e. I assume I only need just one \u003ccode\u003ebatch\u003c/code\u003e with many \u003ccode\u003eworldTransforms_\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e  auto *cache = GetSubsystem\u0026lt;ResourceCache\u0026gt;();\n  batches_[0].material_ = (cache-\u0026gt;GetResource\u0026lt;Material\u0026gt;(\"Materials/CdlodTerrain.xml\"));\n  batches_[0].material_-\u0026gt;SetCullMode(CullMode::CULL_NONE);\n  \n  // Testing, just manually add several world_transforms_.\n  world_transforms_  = {\n      Matrix3x4(Vector3(0, 0, 0), Quaternion::IDENTITY, 1.f),\n      Matrix3x4(Vector3(0, 0, 50 * kLengthPerPixel), Quaternion::IDENTITY, 1.f),\n      Matrix3x4(Vector3(50 * kLengthPerPixel, 0, 0), Quaternion::IDENTITY, 1.f),\n      Matrix3x4(Vector3(50 * kLengthPerPixel, 0, 50 * kLengthPerPixel), Quaternion::IDENTITY, 2.f),\n  };\n  batches_[0].numWorldTransforms_ = world_transforms_.Size();\n  batches_[0].worldTransform_ = \u0026amp;world_transforms_[0];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFinally override the \u003ccode\u003eUpdateBatches()\u003c/code\u003e function to empty to avoid override \u003ccode\u003ebatches_[0].worldTransform_\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eBut this is not working for me. I can still only see one piece of mesh grids.\u003c/p\u003e\n\u003cp\u003eI was following the example in \u003ccode\u003eStaticModelGroup\u003c/code\u003e and \u003ccode\u003e20_HugeObjectCount\u003c/code\u003e. The key point there I noticed, is to have a vector of different \u003ccode\u003eworldTransform_\u003c/code\u003e. But I could not figure how those \u003ccode\u003eworldTransform_\u003c/code\u003e data is passed to shader to render multiple object with same material but only different positions.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eNit: I only started to learn all the 3D rendering pipeline very recently so it’s still hard for me to understand the low level Urho3D code without enough examples and documentation.\u003c/em\u003e\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2020-07-17T23:45:12.509Z","reply_count":1,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":2,"reads":42,"readers_count":41,"score":23.4,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://urho3d.github.io/documentation/HEAD/_rendering.html","internal":false,"reflection":false,"title":"Urho3D - Documentation - Rendering","clicks":4}],"read":true,"user_title":"","reply_to_user":{"username":"extobias","name":"tobias alarcon","avatar_template":"/user_avatar/discourse.urho3d.io/extobias/{size}/2836_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1291,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":38364,"name":"QB'k Games","username":"QBkGames","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png","created_at":"2020-07-18T00:57:30.415Z","cooked":"\u003cp\u003eFor this scenario, if the grid is being generated every frame, instancing may not be the best (performance) option, since you have to send to the graphics device a large number of matrices every frame.\u003cbr\u003e\nI think a better way (both in terms of performance but also simplicity) would be to generate the vertices you need for each square area based on the height field and grid spacing (avoiding if possible any matrix operations at all) all in one dynamic/custom mesh on the CPU and then upload the vertex data to the CPU.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2020-07-18T00:57:30.415Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":36,"readers_count":35,"score":17.2,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"QB'k Games","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":780,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":38365,"name":"","username":"UrhoIsTheBest","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png","created_at":"2020-07-18T01:02:11.989Z","cooked":"\u003cp\u003eThe mesh grid is only generated once and uploaded to GPU, with a planar structure.\u003cbr\u003e\nIt’s identical for all terrain pieces, only with different scale (2^n) and translation.\u003cbr\u003e\nThe height data is obtained during vertex shader stage and applied with vertex displacement.\u003cbr\u003e\nThat’s the key for CDLOD to render huge terrain in real time.\u003c/p\u003e\n\u003cp\u003eAll the code above I mentioned, is only run for once, not per frame.\u003cbr\u003e\nOnly the scale and translation data is calculated per frame, which is minimal (only Matrix3x4).\u003c/p\u003e\n\u003cp\u003eA simplified pseudo code is:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid Initialize() {\n  // calculate vertex buffer, index buffer\n  // assign to geometry and upload to GPU\n}\n\nvoid UpdatePerFrame() {\n  SelectLodForEachTerrainNodeFromQuadTree();\n  // Then pass the \"scale\" and \"translation\" variables for each terrain node to GPU.\n  // GPU uses instancing to render each terrain with given initial vertex structure and \"scale\" \u0026amp; \"translation\".\n}\n\u003c/code\u003e\u003c/pre\u003e","post_number":6,"post_type":1,"updated_at":"2020-07-18T01:41:33.676Z","reply_count":1,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":35,"readers_count":34,"score":12.0,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":4,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"QBkGames","name":"QB'k Games","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1291,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":38366,"name":"","username":"UrhoIsTheBest","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png","created_at":"2020-07-18T01:36:34.794Z","cooked":"\u003cp\u003eBTW, I am getting things working by simply using a custom version \u003ccode\u003eStaticModelGroup\u003c/code\u003e for a quick demo test. I am going to dig deeper following this path.\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/9/99ada0b67dfa63e990cc2d4c9b120b3fca0b05a1.png\" data-download-href=\"/uploads/short-url/lVv31yp6YlafUwk4KPH1AueYE13.png?dl=1\" title=\"image\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/9/99ada0b67dfa63e990cc2d4c9b120b3fca0b05a1_2_673x500.png\" alt=\"image\" data-base62-sha1=\"lVv31yp6YlafUwk4KPH1AueYE13\" width=\"673\" height=\"500\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/9/99ada0b67dfa63e990cc2d4c9b120b3fca0b05a1_2_673x500.png, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/9/99ada0b67dfa63e990cc2d4c9b120b3fca0b05a1_2_1009x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/9/99ada0b67dfa63e990cc2d4c9b120b3fca0b05a1_2_1346x1000.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/9/99ada0b67dfa63e990cc2d4c9b120b3fca0b05a1_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eimage\u003c/span\u003e\u003cspan class=\"informations\"\u003e2038×1512 1.35 MB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2020-07-18T01:36:34.794Z","reply_count":0,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":1,"reads":36,"readers_count":35,"score":12.2,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/9/99ada0b67dfa63e990cc2d4c9b120b3fca0b05a1.png","internal":false,"reflection":false,"title":"99ada0b67dfa63e990cc2d4c9b120b3fca0b05a1.png","clicks":0}],"read":true,"user_title":"","reply_to_user":{"username":"UrhoIsTheBest","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1291,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":38367,"name":"","username":"UrhoIsTheBest","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png","created_at":"2020-07-18T08:10:55.547Z","cooked":"\u003cp\u003eI roughly got it work.\u003cbr\u003e\nI am using exactly the same method I mentioned \u003ca href=\"https://discourse.urho3d.io/t/instancing-rendering-in-urho3d/6260/4\"\u003eabove\u003c/a\u003e.\u003cbr\u003e\nI have no idea why it did not work in the first place.\u003c/p\u003e\n\u003cp\u003eThere are total 7 LOD levels, box colored by: red -\u0026gt; green -\u0026gt; blue -\u0026gt; yellow -\u0026gt; magenta -\u0026gt; cyan -\u0026gt; red.\u003cbr\u003e\nRoughly ~70 FPS on my 2014 MacBook (the fps in the screenshot is lower due to switch to other application for the screenshot).\u003c/p\u003e\n\u003cp\u003eI applied a simple vertex color according to the height.\u003c/p\u003e\n\u003cp\u003eThe next step is to do the morphing between different LOD neighbors.\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/f/f9c14956a5f1000af8126b2b29d8ab56f030e58a.png\" data-download-href=\"/uploads/short-url/zDr0hljpzcaUHD5DjvhSHiKFGnU.png?dl=1\" title=\"image\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/f/f9c14956a5f1000af8126b2b29d8ab56f030e58a_2_680x500.png\" alt=\"image\" data-base62-sha1=\"zDr0hljpzcaUHD5DjvhSHiKFGnU\" width=\"680\" height=\"500\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/f/f9c14956a5f1000af8126b2b29d8ab56f030e58a_2_680x500.png, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/f/f9c14956a5f1000af8126b2b29d8ab56f030e58a_2_1020x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/f/f9c14956a5f1000af8126b2b29d8ab56f030e58a_2_1360x1000.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/f/f9c14956a5f1000af8126b2b29d8ab56f030e58a_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eimage\u003c/span\u003e\u003cspan class=\"informations\"\u003e2058×1512 2.2 MB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/6/6d0e798b7fb6281c81247b6b51d7243d303c42ec.png\" data-download-href=\"/uploads/short-url/fyL3uEKa0FEChrf9SbkXaQiDh9i.png?dl=1\" title=\"image\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/6d0e798b7fb6281c81247b6b51d7243d303c42ec_2_677x500.png\" alt=\"image\" data-base62-sha1=\"fyL3uEKa0FEChrf9SbkXaQiDh9i\" width=\"677\" height=\"500\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/6d0e798b7fb6281c81247b6b51d7243d303c42ec_2_677x500.png, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/6d0e798b7fb6281c81247b6b51d7243d303c42ec_2_1015x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/6d0e798b7fb6281c81247b6b51d7243d303c42ec_2_1354x1000.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/6d0e798b7fb6281c81247b6b51d7243d303c42ec_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eimage\u003c/span\u003e\u003cspan class=\"informations\"\u003e2042×1508 2.87 MB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/c/c264f4ab528fb59fc2449927f4cbe4df099045af.png\" data-download-href=\"/uploads/short-url/rJGVpjBAKDOdn8TJmFgIjg8cnTx.png?dl=1\" title=\"image\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c264f4ab528fb59fc2449927f4cbe4df099045af_2_679x500.png\" alt=\"image\" data-base62-sha1=\"rJGVpjBAKDOdn8TJmFgIjg8cnTx\" width=\"679\" height=\"500\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c264f4ab528fb59fc2449927f4cbe4df099045af_2_679x500.png, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c264f4ab528fb59fc2449927f4cbe4df099045af_2_1018x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c264f4ab528fb59fc2449927f4cbe4df099045af_2_1358x1000.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c264f4ab528fb59fc2449927f4cbe4df099045af_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eimage\u003c/span\u003e\u003cspan class=\"informations\"\u003e2048×1508 2.4 MB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/7/7b387831c56264ec2d62c32c9a88bbdae30ce87c.png\" data-download-href=\"/uploads/short-url/hA3IhviOM0HxoZXxf11pKyR5fuk.png?dl=1\" title=\"image\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/7b387831c56264ec2d62c32c9a88bbdae30ce87c_2_677x500.png\" alt=\"image\" data-base62-sha1=\"hA3IhviOM0HxoZXxf11pKyR5fuk\" width=\"677\" height=\"500\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/7b387831c56264ec2d62c32c9a88bbdae30ce87c_2_677x500.png, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/7b387831c56264ec2d62c32c9a88bbdae30ce87c_2_1015x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/7b387831c56264ec2d62c32c9a88bbdae30ce87c_2_1354x1000.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/7b387831c56264ec2d62c32c9a88bbdae30ce87c_2_10x10.png\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003eimage\u003c/span\u003e\u003cspan class=\"informations\"\u003e2052×1514 2.66 MB\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2020-07-18T08:17:55.693Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":36,"readers_count":35,"score":67.2,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/6/6d0e798b7fb6281c81247b6b51d7243d303c42ec.png","internal":false,"reflection":false,"title":"6d0e798b7fb6281c81247b6b51d7243d303c42ec.png","clicks":0},{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/c/c264f4ab528fb59fc2449927f4cbe4df099045af.png","internal":false,"reflection":false,"title":"c264f4ab528fb59fc2449927f4cbe4df099045af.png","clicks":0},{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/f/f9c14956a5f1000af8126b2b29d8ab56f030e58a.png","internal":false,"reflection":false,"title":"f9c14956a5f1000af8126b2b29d8ab56f030e58a.png","clicks":0},{"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/7/7b387831c56264ec2d62c32c9a88bbdae30ce87c.png","internal":false,"reflection":false,"title":"7b387831c56264ec2d62c32c9a88bbdae30ce87c.png","clicks":0}],"read":true,"user_title":"","reply_to_user":{"username":"UrhoIsTheBest","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":4}],"moderator":false,"admin":false,"staff":false,"user_id":1291,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":38380,"name":"QB'k Games","username":"QBkGames","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png","created_at":"2020-07-19T02:12:35.640Z","cooked":"\u003cp\u003eSorry, I should have read the article and understood better what you are trying to do before jumping in with (the possibly wrong) advice \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e.\u003c/p\u003e\n\u003cp\u003eHowever, I did do some investigation into how instancing works (in general, not Urho specific) and I was broken hearted \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/broken_heart.png?v=9\" title=\":broken_heart:\" class=\"emoji\" alt=\":broken_heart:\"\u003e to discover that instancing is not the silver bullet solution to all my rendering problems as I naively thought, and in fact, it only improves performance in only some (rather rare) circumstance and in the wrong circumstance it can actually make rendering slower.\u003c/p\u003e\n\u003cp\u003eI’m interested in your terrain rendering algorithm (though I don’t have much time for it now, but plan to look at it later), how do you calculate the vertex normals, also in the shader? (Or do you not need normals for your specific game right now?)\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2020-07-19T02:12:35.640Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":32,"readers_count":31,"score":11.4,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"QB'k Games","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":780,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":38381,"name":"","username":"UrhoIsTheBest","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png","created_at":"2020-07-19T03:47:18.812Z","cooked":"\u003cp\u003eNo worry \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003cp\u003eJust wondering, what kind of rendering problem are you trying to solve that could not be improved by instancing?\u003cbr\u003e\nFor my terrain problem, it’s working great as those papers demonstrated. From my limited understanding, if there are lots of meshes that use the same vertex structure, vertex order, index buffer, etc, but only have small difference. Then it could be improved by instancing. Though I don’t know how much improvement it has compared to batching all geometry in a single draw call. I believe you’ve done enough research or someone with more knowledge could understand all these questions.\u003c/p\u003e\n\u003cp\u003eAs for my vertex normals, that would be the next question for me after morphing is done. I’d happy to try to do it in the shader first. Partly because I’d like to see things on-the-fly without degrading performance, since it would be more flexible for later changes; Also I’d like to educate myself with such an example. I am not an expert on 3D rendering but found it’s super interesting so I started to learn it through my project recently.\u003cbr\u003e\nBut I am not super worried about the normal map itself, since I can always pre-compute it and store it in the GPU as the texture. It’s just a tradeoff between memory and real time latency.\u003cbr\u003e\nHowever, I do vision lots of similar questions waiting ahead. For example,\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWhat if I want to procedurally generate more detailed terrain for a small area? e.g. from the strategy map to combat map.\u003c/li\u003e\n\u003cli\u003eWhat if I want procedurally generated vegetation? according to a rough (low resolution Google vegetation map). Also what about those trees, flowers, etc.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eI read some posts and game dev slides about those fancy open world implementation. It’s not practical for a personal project like mine. But I would like to explore the power of procedurally generation for most everything.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2020-07-19T03:47:18.812Z","reply_count":0,"reply_to_post_number":9,"quote_count":0,"incoming_link_count":0,"reads":33,"readers_count":32,"score":6.6,"yours":false,"topic_id":6260,"topic_slug":"instancing-rendering-in-urho3d","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"QBkGames","name":"QB'k Games","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1291,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[38285,38296,38297,38363,38364,38365,38366,38367,38380,38381]},"timeline_lookup":[[1,863],[4,858],[9,857]],"suggested_topics":[{"id":7268,"title":"Get vertex position before Morph in shader","fancy_title":"Get vertex position before Morph in shader","slug":"get-vertex-position-before-morph-in-shader","posts_count":8,"reply_count":6,"highest_post_number":8,"image_url":null,"created_at":"2022-05-15T19:44:19.139Z","last_posted_at":"2022-05-16T06:11:07.099Z","bumped":true,"bumped_at":"2022-08-12T22:38:31.553Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":5,"views":209,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1205,"username":"Askhento","name":"Askhento","avatar_template":"/user_avatar/discourse.urho3d.io/askhento/{size}/3849_2.png"}},{"extras":"latest","description":"Most Recent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7105,"title":"Multiple Application.UI Roots?","fancy_title":"Multiple Application.UI Roots?","slug":"multiple-application-ui-roots","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/74b10ce575f1b69fe43be4abcb07605d74a1d27c_2_1024x544.jpeg","created_at":"2021-12-20T08:55:14.707Z","last_posted_at":"2021-12-22T02:33:05.795Z","bumped":true,"bumped_at":"2021-12-22T02:33:05.795Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":243,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7212,"title":"Shadow Gap between Feet and Plane","fancy_title":"Shadow Gap between Feet and Plane","slug":"shadow-gap-between-feet-and-plane","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/8/897538cff25de49fafa7aa77574f822e99576b67_2_1024x686.jpeg","created_at":"2022-03-07T00:04:17.351Z","last_posted_at":"2022-03-07T00:17:57.413Z","bumped":true,"bumped_at":"2022-03-07T00:17:57.413Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}]},{"id":7343,"title":"Zone's AmbientColor LightMask","fancy_title":"Zone\u0026rsquo;s AmbientColor LightMask","slug":"zones-ambientcolor-lightmask","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2022-10-27T17:25:15.253Z","last_posted_at":"2022-10-28T17:16:58.872Z","bumped":true,"bumped_at":"2022-10-28T17:16:58.872Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":72,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":6260,"title":"Instancing rendering in Urho3D","fancy_title":"Instancing rendering in Urho3D","posts_count":10,"created_at":"2020-07-12T22:04:49.676Z","views":785,"reply_count":5,"like_count":6,"last_posted_at":"2020-07-19T03:47:18.812Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"instancing-rendering-in-urho3d","category_id":10,"word_count":1686,"deleted_at":null,"user_id":1291,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc_2_1024x760.png","slow_mode_seconds":0,"draft":null,"draft_key":"topic_6260","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":10,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":[{"max_width":null,"max_height":null,"width":2028,"height":1506,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc.png"},{"max_width":1024,"max_height":1024,"width":1024,"height":760,"url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/e/e17ba05e9074d561b40f9cd4c1f3b8ec25ee99bc_2_1024x760.png"}],"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":8,"username":"UrhoIsTheBest","excerpt":"I roughly got it work. \nI am using exactly the same method I mentioned \u003ca href=\"https://discourse.urho3d.io/t/instancing-rendering-in-urho3d/6260/4\"\u003eabove\u003c/a\u003e. \nI have no idea why it did not work in the first place. \nThere are total 7 LOD levels, box colored by: red -\u0026gt; green -\u0026gt; blue -\u0026gt; yellow -\u0026gt; magenta -\u0026gt; cyan -\u0026gt; red. \nRoughly ~70 FPS on my 2014 MacBook (the fps in the screensho\u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1291,"username":"UrhoIsTheBest","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png","post_count":6,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":780,"username":"QBkGames","name":"QB'k Games","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":588,"username":"coldev","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/73ab20/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":653,"username":"extobias","name":"tobias alarcon","avatar_template":"/user_avatar/discourse.urho3d.io/extobias/{size}/2836_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1291,"username":"UrhoIsTheBest","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png"},"last_poster":{"id":1291,"username":"UrhoIsTheBest","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/u/7feea3/{size}.png"},"links":[{"url":"https://github.com/fstrugar/CDLOD/blob/master/cdlod_paper_latest.pdf","title":"CDLOD/cdlod_paper_latest.pdf at master · fstrugar/CDLOD · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":9,"user_id":1291,"domain":"github.com","root_domain":"github.com"},{"url":"https://urho3d.github.io/documentation/HEAD/_rendering.html","title":"Urho3D - Documentation - Rendering","internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":1291,"domain":"urho3d.github.io","root_domain":"urho3d.github.io"},{"url":"https://learnopengl.com/Advanced-OpenGL/Instancing","title":"LearnOpenGL - Instancing","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":1291,"domain":"learnopengl.com","root_domain":"learnopengl.com"}]}}