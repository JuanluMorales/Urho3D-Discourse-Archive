{"post_stream":{"posts":[{"id":8041,"name":"","username":"Pyromancer","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/df705f/{size}.png","created_at":"2015-09-30T16:34:33.000Z","cooked":"\u003cp\u003eHeyo! Gotta say, I’ve been tinkering with this engine and I really love how it is set up! The code is very straightforward and simple to understand, and leaves the user with the same level of fine-grained control that I am used to working with at my day job. However, one of the best features of any reflection system, I feel, is the ability to query the system and discover if one type inherits from another and (or implements, in the case of interfaces) traverse the inheritance hierarchy. Unfortunately, I did not see any obvious way of being able to do this through reading the documentation and was wondering if anyone could provide some insight. I noticed that there is a way to query for the base type of an object, but that only gets me so far for what I have in mind. I modified the Context to provide this sort of functionality easily enough (among other things, including some expansions to the OBJECT macro to make use of a helper class I wrote that makes the definition of classes much nicer to look at… And maaaaaybe I added user-definable properties to the AttributeInfo class \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/laughing.png?v=5\" title=\":laughing:\" class=\"emoji\" alt=\":laughing:\"\u003e), but I was wondering if there was perhaps a built-in way to check these sorts of things.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:07:28.955Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":3,"readers_count":2,"score":10.6,"yours":false,"topic_id":1396,"topic_slug":"more-detailed-type-querying-using-the-reflection-system","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":317,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8046,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-10-01T06:12:27.000Z","cooked":"\u003cp\u003eNo, there isn’t built support apart from what you have already seen. Dynamic casts are sometimes used in the engine code itself to detect base/derived connections.\u003c/p\u003e\n\u003cp\u003eIf your improvements don’t impact memory use or performance overly negatively, they could be useful for everyone as a pull request.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:07:29.266Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":3,"readers_count":2,"score":0.6,"yours":false,"topic_id":1396,"topic_slug":"more-detailed-type-querying-using-the-reflection-system","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":8054,"name":"","username":"Pyromancer","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/df705f/{size}.png","created_at":"2015-10-01T17:04:40.000Z","cooked":"\u003cp\u003eEDITED!\u003c/p\u003e\n\u003cp\u003eAlright, so I lied. I decided to try applying the class definition helper to everything that leverages the reflection system, and so far it’s been working beautifully.\u003c/p\u003e\n\u003cp\u003eAn example of what I’m working on that would be exposed to the end user. The RegisterObject static function is being abstracted away from the user and wrapped into the existing OBJECT macro as well as being implemented through what is basically a DSL for the engine.\u003c/p\u003e\n\u003cp\u003e[code] // Audio/SoundSource.h\u003cbr\u003e\n// Nothing to change except removing the outward facing definition of RegisterObject. The OBJECT macro is modified to do that for you.\u003c/p\u003e\n\u003cp\u003e// Audio/SoundSource.cpp\u003cbr\u003e\nREGISTER_OBJECT(SoundSource) // Defines SoundSource::RegisterObject under the hood, though there’s a bit more than that going on.\u003cbr\u003e\n{\u003cbr\u003e\n// Couldn’t avoid this, otherwise we wouldn’t have our snazzy curly braces.\u003cbr\u003e\n// Also, since we are technically in a function block here, we could do logical inclusions and exclusions of certain attributes.\u003cbr\u003e\nDefinition\u003cbr\u003e\n.Base() // Added to a helper structure under the hood.\u003cbr\u003e\n.Attribute(“Is Enabled”,         \u0026amp;SoundSource::IsEnabled,       \u0026amp;SoundSource::SetEnabled, true)// AM_DEFAULT set as the default for calls that don’t have any modes set.\u003cbr\u003e\n.Attribute(“Sound”,       \u0026amp;SoundSource::GetSoundAttr,    \u0026amp;SoundSource::SetSoundAttr, ResourceRef(Sound::GetTypeStatic()))\u003cbr\u003e\n.Attribute(“Type”,             \u0026amp;SoundSource::GetSoundType,    \u0026amp;SoundSource::SetSoundType, SOUND_EFFECT) // Mixed call attributes? Mixed call attributes.\u003cbr\u003e\n.Attribute(“Frequency”,         \u0026amp;SoundSource::GetFrequency,    \u0026amp;SoundSource::SetFrequency, 0.0f)\u003cbr\u003e\n.Attribute(“Gain”,              \u0026amp;SoundSource::GetGain,         \u0026amp;SoundSource::SetGain, 1.0f)\u003cbr\u003e\n.Attribute(“Attenuation”,       \u0026amp;SoundSource::GetAttenuation,  \u0026amp;SoundSource::SetAttenuation, 1.0f)\u003cbr\u003e\n.Attribute(“Panning”,           \u0026amp;SoundSource::GetPanning,      \u0026amp;SoundSource::SetPanning, 0.0f)\u003cbr\u003e\n.Attribute(“Is Playing”,         \u0026amp;SoundSource::IsPlaying,       \u0026amp;SoundSource::SetPlayingAttr, false)\u003cbr\u003e\n.Attribute(“Autoremove on Stop”, \u0026amp;SoundSource::GetAutoRemove,   \u0026amp;SoundSource::SetAutoRemove, false, AM_FILE)\u003cbr\u003e\n.Attribute(“Play Position”,       \u0026amp;SoundSource::GetPositionAttr, \u0026amp;SoundSource::SetPositionAttr, 0, AM_FILE)\u003cbr\u003e\n;\u003cbr\u003e\n}[/code]\u003c/p\u003e\n\u003cp\u003ePersonally, I think this is much nicer to look at than the collections of macros that currently exist. The helpers I am writing also take the liberty of calling Context::RegisterFactory for you so that it’s one less thing to forget.\u003c/p\u003e\n\u003cp\u003eThe one downside is that I haven’t yet implemented support for memory offset based attributes. Since the Urho3D reflection system uses offsetof under the hood rather than pointers to member fields, it might require a bit more work. I’ll also be adding a REGISTER_OBJECT_NO_FACTORY macro for objects that you didn’t tell the context to make a factory for (such as what seems to be the case with Drawable).\u003c/p\u003e\n\u003cp\u003eI will update when I have more done.  :mrgreen:\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:07:29.816Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":3,"readers_count":2,"score":0.6,"yours":false,"topic_id":1396,"topic_slug":"more-detailed-type-querying-using-the-reflection-system","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":317,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[8041,8046,8054]},"timeline_lookup":[[1,2611],[2,2610]],"suggested_topics":[{"id":7087,"title":"Android how to get error message sometimes little change gives me just crash","fancy_title":"Android how to get error message sometimes little change gives me just crash","slug":"android-how-to-get-error-message-sometimes-little-change-gives-me-just-crash","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-05T16:59:59.376Z","last_posted_at":"2021-12-05T18:17:02.335Z","bumped":true,"bumped_at":"2021-12-05T18:17:02.335Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":153,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1436,"username":"Maco","name":"Maco","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/90ced4/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7146,"title":"How create affordable comfortable and modern terrain?","fancy_title":"How create affordable comfortable and modern terrain?","slug":"how-create-affordable-comfortable-and-modern-terrain","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-01-21T15:20:08.910Z","last_posted_at":"2022-01-21T21:51:58.799Z","bumped":true,"bumped_at":"2022-01-21T22:03:14.896Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7083,"title":"Using custom models in Xamarin.Forms shared project","fancy_title":"Using custom models in Xamarin.Forms shared project","slug":"using-custom-models-in-xamarin-forms-shared-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-03T08:34:21.895Z","last_posted_at":"2021-12-03T11:40:30.983Z","bumped":true,"bumped_at":"2021-12-03T11:40:30.983Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":198,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1493,"username":"Nikolai","name":"Nikolai Miroshnichenko","avatar_template":"/user_avatar/discourse.urho3d.io/nikolai/{size}/3632_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}],"tags_descriptions":{},"id":1396,"title":"More Detailed Type Querying Using the Reflection System","fancy_title":"More Detailed Type Querying Using the Reflection System","posts_count":3,"created_at":"2015-09-30T16:34:33.000Z","views":189,"reply_count":0,"like_count":0,"last_posted_at":"2015-10-01T17:04:40.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"more-detailed-type-querying-using-the-reflection-system","category_id":10,"word_count":671,"deleted_at":null,"user_id":317,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1396","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":317,"username":"Pyromancer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/df705f/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2}],"created_by":{"id":317,"username":"Pyromancer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/df705f/{size}.png"},"last_poster":{"id":317,"username":"Pyromancer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/df705f/{size}.png"}}}