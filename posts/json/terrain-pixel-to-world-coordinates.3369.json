{"post_stream":{"posts":[{"id":19495,"name":"James Baltar","username":"jamesbaltar","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/919ad9/{size}.png","created_at":"2017-07-19T14:18:49.144Z","cooked":"\u003cp\u003eIs there a way to get the world coordinates of a given pixel in a terrain‚Äôs heightmap image? I‚Äôve read through the source (Terrain.cpp) and I think I can do something like this if I have an access to the private member patchWorldOrigin_ then interpolate with this and the terrain‚Äôs node transformation but I‚Äôm not sure if this is the best approach.\u003c/p\u003e\n\u003cp\u003eJust to add, what I want to do is to add an overlay to the terrain that is aligned with the heightmap vertices. These overlayed quads will display a visualization of some sort using different colors that depends on the height of the terrain where the 4 vertices of the quad touches.\u003c/p\u003e\n\u003cp\u003eExample:\u003cbr\u003e\nh1, h2, h3,\u003cbr\u003e\nh4, h5, h6\u003cbr\u003e\nh7, h8, h9\u003c/p\u003e\n\u003cp\u003eAbove is a simple representation of the heightmap image‚Äôs pixels. What I want to do is overlay a quad per cell from h1 to h8. Note that these quads must be aligned with the vertices of the heightmap. TIA.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-07-19T14:18:49.144Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":12,"reads":36,"readers_count":35,"score":67.2,"yours":false,"topic_id":3369,"topic_slug":"terrain-pixel-to-world-coordinates","display_username":"James Baltar","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":779,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":19501,"name":"","username":"Lumak","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","created_at":"2017-07-19T18:19:16.721Z","cooked":"\u003cp\u003eMy personal code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eVector3 Terrain::HeightMapToWorld(const IntVector2\u0026amp; pixelPosition) const\n{\n    if (!node_)\n    {\n        return Vector3::ZERO;\n    }\n\n    IntVector2 v2pos(pixelPosition.x_, numVertices_.y_ - 1 - pixelPosition.y_);\n    float xPos = (float)(v2pos.x_ * spacing_.x_ + patchWorldOrigin_.x_);\n    float zPos = (float)(v2pos.y_ * spacing_.z_ + patchWorldOrigin_.y_);\n    Vector3 Lpos(xPos, 0, zPos);\n    Vector3 WPos = node_-\u0026gt;GetWorldTransform() * Lpos;\n    WPos.y_ = GetHeight(WPos);\n\n    return WPos;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eedit: modifying the code to be consistent with Terrain code as it was not written for that class but for a helper class\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-07-19T18:26:18.441Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":32,"readers_count":31,"score":11.4,"yours":false,"topic_id":3369,"topic_slug":"terrain-pixel-to-world-coordinates","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":256,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":19508,"name":"James Baltar","username":"jamesbaltar","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/919ad9/{size}.png","created_at":"2017-07-20T09:55:47.692Z","cooked":"\u003cp\u003eThanks \u003ca class=\"mention\" href=\"/u/lumak\"\u003e@Lumak\u003c/a\u003e for a fast reply. I was hoping I wouldn‚Äôt need to edit the source file but if this is what you did in yours then I‚Äôm comfortable changing the source knowing that this was also how you did it.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-07-20T09:55:47.692Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":5.0,"yours":false,"topic_id":3369,"topic_slug":"terrain-pixel-to-world-coordinates","display_username":"James Baltar","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":779,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":19517,"name":"","username":"Lumak","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","created_at":"2017-07-20T16:46:09.572Z","cooked":"\u003cp\u003eYou don‚Äôt have make changes on your end now. That function was added to the master and all you need to do is get the latest.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-07-20T16:46:09.572Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":94.6,"yours":false,"topic_id":3369,"topic_slug":"terrain-pixel-to-world-coordinates","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":256,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[19495,19501,19508,19517]},"timeline_lookup":[[1,1953],[2,1952]],"suggested_topics":[{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7100,"title":"UI Sprites - Wrapping/Repeating Texture","fancy_title":"UI Sprites - Wrapping/Repeating Texture","slug":"ui-sprites-wrapping-repeating-texture","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5d95641f056666c79c67a12520276d2d9f4729ae.png","created_at":"2021-12-15T20:32:37.485Z","last_posted_at":"2021-12-16T03:28:29.146Z","bumped":true,"bumped_at":"2021-12-16T03:28:29.146Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","slug":"view-physics-event-for-convexcast","posts_count":11,"reply_count":5,"highest_post_number":11,"image_url":null,"created_at":"2021-12-09T23:56:27.507Z","last_posted_at":"2021-12-12T20:20:02.788Z","bumped":true,"bumped_at":"2021-12-12T20:20:02.788Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":206,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7086,"title":"Handling CrowdAgents that get stuck","fancy_title":"Handling CrowdAgents that get stuck","slug":"handling-crowdagents-that-get-stuck","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-04T01:26:23.062Z","last_posted_at":"2021-12-05T04:37:54.143Z","bumped":true,"bumped_at":"2021-12-05T04:37:54.143Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7185,"title":"Update Ray ray direction","fancy_title":"Update Ray ray direction","slug":"update-ray-ray-direction","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-02-05T00:28:45.414Z","last_posted_at":"2022-02-05T20:19:51.238Z","bumped":true,"bumped_at":"2022-02-05T20:19:51.238Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":3369,"title":"Terrain Pixel To World Coordinates","fancy_title":"Terrain Pixel To World Coordinates","posts_count":4,"created_at":"2017-07-19T14:18:49.087Z","views":536,"reply_count":0,"like_count":2,"last_posted_at":"2017-07-20T16:46:09.572Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"terrain-pixel-to-world-coordinates","category_id":10,"word_count":322,"deleted_at":null,"user_id":779,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3369","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":256,"username":"Lumak","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":779,"username":"jamesbaltar","name":"James Baltar","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/919ad9/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":779,"username":"jamesbaltar","name":"James Baltar","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/919ad9/{size}.png"},"last_poster":{"id":256,"username":"Lumak","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png"}}}