{"post_stream":{"posts":[{"id":2324,"name":"","username":"setzer22","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ce7236/{size}.png","created_at":"2014-09-13T09:26:22.000Z","cooked":"\u003cp\u003eI made this and I feel like posting it as a code snippet. If you notice anything weird on it I’d also like to know!\u003c/p\u003e\n\u003cp\u003eGiven the mouse input in normalized screen coordinates it calculates the first collision point (you can mask it to ignore geometries) with the geometry.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e\nvoid screenToWorld(Vector2 normalizedScreenPos, Camera* camera, Octree* octree) {\n    uint MASK = -1;\n    PODVector\u0026lt;RayQueryResult\u0026gt; result;\n    Ray ray = camera-\u0026gt;GetScreenRay(normalizedScreenPos.x_,normalizedScreenPos.y_);\n    RayOctreeQuery q (result, ray, RAY_TRIANGLE, M_INFINITY, DRAWABLE_GEOMETRY, MASK);\n    octree-\u0026gt;RaycastSingle(q);\n    //now use result[0].position_  for the collision point.\n}\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eNote that the mask is -1 for this example. This means that the value stored in it (in hexadecimal) is 0xFFFFFFFF, i.e. all bits to 1. Masks work using the bitwise AND operator (\u0026amp;) against the view mask of the geometry. If (MASK \u0026amp; model_viewmask == 0), the geometry for that model gets ignored. So if you want to ignore some layers you’ll have to do some extra work modifying the view masks for the models in your scene.\u003c/p\u003e\n\u003cp\u003eThis works for me, and many games might benefit from it as well, but for anything more advanced you should take a look at the documentation / source code for the classes\u003c/p\u003e\n\u003cp\u003e[ul][li]\u003cspan class=\"bbcode-b\"\u003eRayQueryResult\u003c/span\u003e: If you want to get other data from the collision, like the normal.\u003cbr\u003e\n[/li]\u003cbr\u003e\n[li]\u003cspan class=\"bbcode-b\"\u003eOctree\u003c/span\u003e, \u003cspan class=\"bbcode-b\"\u003eOctreeQuery\u003c/span\u003e and \u003cspan class=\"bbcode-b\"\u003eRay\u003c/span\u003e: To get a more comprehensive view on how everything works, and check out any other ways you might want to query an Octree rather than by a RayCast.[/li][/ul]\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:00:21.886Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":178,"reads":19,"readers_count":18,"score":893.8,"yours":false,"topic_id":432,"topic_slug":"get-world-position-of-mouse-click","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":125,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[2324]},"timeline_lookup":[[1,2993]],"suggested_topics":[{"id":7103,"title":":test_tube: DebugRenderer as GUI","fancy_title":":test_tube: DebugRenderer as GUI","slug":"debugrenderer-as-gui","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-17T02:25:06.606Z","last_posted_at":"2021-12-18T01:09:27.738Z","bumped":true,"bumped_at":"2021-12-18T01:09:27.738Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🧪 DebugRenderer as GUI","tags_descriptions":{},"like_count":4,"views":267,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7099,"title":":fallen_leaf: Polynomials \u0026 Harmonics","fancy_title":":fallen_leaf: Polynomials \u0026amp; Harmonics","slug":"polynomials-harmonics","posts_count":6,"reply_count":0,"highest_post_number":7,"image_url":null,"created_at":"2021-12-13T05:06:04.641Z","last_posted_at":"2021-12-27T23:27:39.489Z","bumped":true,"bumped_at":"2021-12-27T23:27:39.489Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🍂 Polynomials \u0026 Harmonics","tags_descriptions":{},"like_count":6,"views":392,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7110,"title":"Resource fetch define","fancy_title":"Resource fetch define","slug":"resource-fetch-define","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-27T12:28:55.126Z","last_posted_at":"2021-12-27T17:00:37.699Z","bumped":true,"bumped_at":"2021-12-27T17:00:37.699Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":7,"views":184,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7120,"title":"Log Error Once Macro","fancy_title":"Log Error Once Macro","slug":"log-error-once-macro","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-04T02:24:37.857Z","last_posted_at":"2022-01-04T02:24:37.925Z","bumped":true,"bumped_at":"2022-01-04T02:24:37.925Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":143,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7298,"title":"How to detect all the objects in radius in 2D world?","fancy_title":"How to detect all the objects in radius in 2D world?","slug":"how-to-detect-all-the-objects-in-radius-in-2d-world","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-19T16:49:44.192Z","last_posted_at":"2022-07-19T16:49:44.255Z","bumped":true,"bumped_at":"2022-07-19T16:49:44.255Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":92,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1528,"username":"cqrtxwd","name":"QR C","avatar_template":"/user_avatar/discourse.urho3d.io/cqrtxwd/{size}/3814_2.png"}}]}],"tags_descriptions":{},"id":432,"title":"Get world position of mouse click","fancy_title":"Get world position of mouse click","posts_count":1,"created_at":"2014-09-13T09:26:22.000Z","views":739,"reply_count":0,"like_count":0,"last_posted_at":"2014-09-13T09:26:22.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"get-world-position-of-mouse-click","category_id":13,"word_count":263,"deleted_at":null,"user_id":125,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_432","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":1,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":1,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":125,"username":"setzer22","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ce7236/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":125,"username":"setzer22","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ce7236/{size}.png"},"last_poster":{"id":125,"username":"setzer22","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ce7236/{size}.png"}}}