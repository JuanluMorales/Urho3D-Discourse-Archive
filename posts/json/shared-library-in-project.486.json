{"post_stream":{"posts":[{"id":2671,"name":"","username":"alexrass","avatar_template":"/user_avatar/discourse.urho3d.io/alexrass/{size}/1036_2.png","created_at":"2014-10-18T20:36:05.000Z","cooked":"\u003cp\u003eHow to make a library based on Urho to use a few executable files?\u003cbr\u003e\nHow to use setup_library () correctly?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:00:48.989Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":13,"reads":17,"readers_count":16,"score":68.4,"yours":false,"topic_id":486,"topic_slug":"shared-library-in-project","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":36,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":2675,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2014-10-19T10:53:16.000Z","cooked":"\u003cp\u003eThis Urho3D-specific macro, like its setup[_main]_executable() counterpart, depends on a few CMake variables that need to be set prior to calling the macro. The setup_library() macro also accepts optional arguments which when provided, the macro simply passes them to the underlying CMake add_library() command. See \u003ca href=\"http://www.cmake.org/cmake/help/v3.0/command/add_library.html\"\u003ecmake.org/cmake/help/v3.0/co … brary.html\u003c/a\u003e. So for your case, you would need to pass “SHARED” as the extra argument to the macro. Note the macro also performs “other necessary setup” depends on the library type, so if for some reason you can only use the vanilla CMake add_library() command instead of our macro then you will have to configure those “other necessary setup” yourself.\u003c/p\u003e\n\u003cp\u003eFollowing are the list of the CMake variables used by the Urho3D-specific macros in general when configuring target (be it executable or library target):\u003c/p\u003e\n\u003cp\u003e[ul][li]SOURCE_FILES[/li]\u003cbr\u003e\n[li]INCLUDE_DIRS_ONLY[/li]\u003cbr\u003e\n[li]LINK_LIBS_ONLY[/li]\u003cbr\u003e\n[li]LIBS[/li]\u003cbr\u003e\n[li]ABSOLUTE_PATH_LIBS[/li][/ul]\u003c/p\u003e\n\u003cp\u003eThe first variable is mandatory. It can be defined manually or via another macro called define_source_files(). I think I may need another half a page or so to fully explain how this macro works alone but by default it simply globs all the C++ class implementation and header files “in the current scope” of CMakeLists.txt. The remaining variables are optional but need to be set when your library itself depends on other header or library files.\u003c/p\u003e\n\u003cp\u003eLast but not the least, once you have configured your new shared library target then you need to tell CMake that your other executable targets are depending on it. In other words, if you stick with Urho all the way then you will definetely need to use the LINK_LIBS_ONLY or LIBS variable when setting up your executable target in order to make it depends on your new shared library. Somewhere in the Urho’s macro we pass these variables when calling the underlying CMake target_link_libraries() command which performs the actual dependency setup. See \u003ca href=\"http://www.cmake.org/cmake/help/v3.0/command/target_link_libraries.html\"\u003ecmake.org/cmake/help/v3.0/co … aries.html\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eHTH.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:00:49.338Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":18,"reads":17,"readers_count":16,"score":93.4,"yours":false,"topic_id":486,"topic_slug":"shared-library-in-project","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.cmake.org/cmake/help/v3.0/command/add_library.html","internal":false,"reflection":false,"title":"add_library — CMake 3.0.2 Documentation","clicks":5},{"url":"http://www.cmake.org/cmake/help/v3.0/command/target_link_libraries.html","internal":false,"reflection":false,"title":"target_link_libraries — CMake 3.0.2 Documentation","clicks":3}],"read":true,"user_title":"Admin","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":2676,"name":"","username":"alexrass","avatar_template":"/user_avatar/discourse.urho3d.io/alexrass/{size}/1036_2.png","created_at":"2014-10-19T10:58:07.000Z","cooked":"\u003cp\u003eI post about results…\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:00:49.420Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":3.0,"yours":false,"topic_id":486,"topic_slug":"shared-library-in-project","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":36,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[2671,2675,2676]},"timeline_lookup":[[1,2957]],"suggested_topics":[{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11？","fancy_title":"Do we give up supporting dx11？","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7186,"title":"Best way to do Blob Shadows in Urho","fancy_title":"Best way to do Blob Shadows in Urho","slug":"best-way-to-do-blob-shadows-in-urho","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/22e3dc1892512375cae09bf84fd92071a1ae27d8.png","created_at":"2022-02-05T04:59:31.388Z","last_posted_at":"2022-02-05T13:29:22.054Z","bumped":true,"bumped_at":"2022-02-05T13:31:44.299Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":179,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7085,"title":"Blender 3 Asset Browser","fancy_title":"Blender 3 Asset Browser","slug":"blender-3-asset-browser","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2021-12-03T17:39:10.192Z","last_posted_at":"2021-12-03T17:39:10.252Z","bumped":true,"bumped_at":"2021-12-03T17:39:10.252Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":149,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]}],"tags_descriptions":{},"id":486,"title":"Shared library in project","fancy_title":"Shared library in project","posts_count":3,"created_at":"2014-10-18T20:36:05.000Z","views":662,"reply_count":0,"like_count":0,"last_posted_at":"2014-10-19T10:58:07.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"shared-library-in-project","category_id":9,"word_count":383,"deleted_at":null,"user_id":36,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_486","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":36,"username":"alexrass","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/alexrass/{size}/1036_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":4}],"created_by":{"id":36,"username":"alexrass","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/alexrass/{size}/1036_2.png"},"last_poster":{"id":36,"username":"alexrass","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/alexrass/{size}/1036_2.png"},"links":[{"url":"http://www.cmake.org/cmake/help/v3.0/command/add_library.html","title":"add_library — CMake 3.0.2 Documentation","internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":4,"domain":"www.cmake.org","root_domain":"cmake.org"},{"url":"http://www.cmake.org/cmake/help/v3.0/command/target_link_libraries.html","title":"target_link_libraries — CMake 3.0.2 Documentation","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":4,"domain":"www.cmake.org","root_domain":"cmake.org"}]}}