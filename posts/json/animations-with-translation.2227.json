{"post_stream":{"posts":[{"id":13478,"name":"","username":"JTippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","created_at":"2016-09-03T17:39:48.000Z","cooked":"\u003cp\u003eI’ve been talking to some artist friends of mine, who all say that when creating an animation sequence for, say, a walk cycle they like to compose the animation in their 3D modeler of choice with the translations per frame “baked in”. That is, they synchronize the translation of the skeleton to animate the forward motion of the character throughout the duration of the cycle, in order to more tightly control pacing and motion. For an example, see this worm:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://imgur.com/MmGKaSM\" rel=\"nofollow noopener\"\u003eimgur.com/MmGKaSM\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eSee how as the animation progresses, the bones translate forward leaving the origin behind.\u003c/p\u003e\n\u003cp\u003eI currently don’t do it this way in my game. Things like walk cycles, I animate forward by a constant speed in the game. However, I am finding that animating with translation in the modeler is much nicer for things such as having my guy step forward, climb up a ledge, then stand up at the top. Or for things like a lunge attack or shield bash, animations that don’t have a constant forward translation for the entire duration.\u003c/p\u003e\n\u003cp\u003eI am trying to figure out the best way of handling this, though. In this scheme, the key is to keep the node stationary and play back the animation, then at the end of the sequence, change the node’s position to correspond with the position of the final frame of the animation. Done correctly, it works pretty smoothly. The problem is that it creates a disconnect between the visual position of the object and the actual position represented by the node. If there are other components attached to the node, such as collision shapes, they’re going to think that the node is stationary throughout the duration of the animation, and that it suddenly jumps to another location at the end.\u003c/p\u003e\n\u003cp\u003eIs there an “industry standard” method for handling this? Some people have suggested that when the animation is exported, “subtract out” the forward translation and output a motion curve so that the node itself can be animated from this motion curve while the animation plays. I also have experimented with nesting the animated model in a sub-node, manually querying the animation for the translation of the root bone, then translating the sub-node by the inverse of this translation, while at the same time translating the parent node forward by the translation. However, this is clunky in that it requires a custom component to coordinate it all.\u003c/p\u003e\n\u003cp\u003eI am using the Blender exporter for my animations, and I don’t really see any options in there to export a motion track for the root bone. Anyone got any suggestions?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:14:02.975Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":18,"reads":18,"readers_count":17,"score":110.6,"yours":false,"topic_id":2227,"topic_slug":"animations-with-translation","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://imgur.com/MmGKaSM","internal":false,"reflection":false,"title":"Imgur: The most awesome images on the Internet","clicks":10}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":30,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":13481,"name":"Sir Nate","username":"Sir_Nate","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png","created_at":"2016-09-04T01:58:55.000Z","cooked":"\u003cp\u003eI don’t know about an “Industry standard”, but to deal with the collision shapes and such you could always have them parented to a sub-root (e.g. the hips bone).\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:14:03.225Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":19,"readers_count":18,"score":8.8,"yours":false,"topic_id":2227,"topic_slug":"animations-with-translation","display_username":"Sir Nate","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":242,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":13494,"name":"","username":"Lumak","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","created_at":"2016-09-05T17:23:00.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI’ve been talking to some artist friends of mine, who all say that when creating an animation sequence for, say, a walk cycle they like to compose the animation in their 3D modeler of choice with the translations per frame “baked in”. That is, they synchronize the translation of the skeleton to animate the forward motion of the character throughout the duration of the cycle, in order to more tightly control pacing and motion.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eWhat you’re describing is called “Root Motion.” Unity has this feature to enable translation in-game, but unfortunately, we don’t have it.\u003cbr\u003e\nYou can, however, implement it. I described it here, \u003ca href=\"http://discourse.urho3d.io/t/character-animation-and-movement-test/1852/1\" data-bbcode=\"true\"\u003ehttp://discourse.urho3d.io/t/character-animation-and-movement-test/1852/1\u003c/a\u003e sometime ago.\u003c/p\u003e\n\u003cp\u003eGist of how to do it:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eacquire (or dump) Transform (key) animations, i.e. translation, rotation, and scale every frame.\u003c/li\u003e\n\u003cli\u003eat run time, retain previous and current Transform(T)\u003c/li\u003e\n\u003cli\u003einterpolate and find delta T for current time in the animation from previous and current T and calculate linearVelocity = dT/timeStep\u003c/li\u003e\n\u003cli\u003eapply linearVelocity to your rigid body (opposed to applying impulse or force).\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eHope this helps.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:14:04.157Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":3.8,"yours":false,"topic_id":2227,"topic_slug":"animations-with-translation","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://discourse.urho3d.io/t/character-animation-and-movement-test/1852","internal":true,"reflection":false,"title":"Character animation and movement test","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":256,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":13496,"name":"","username":"Lumak","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","created_at":"2016-09-05T17:57:06.000Z","cooked":"\u003cp\u003eer, 4) should be – set new linearVelocity, not apply.\u003c/p\u003e\n\u003cp\u003eOne thing to note is that for constant movements such as walk and run, it’s better to calculate the average dT for the entire animation duration opposed to dT per frame to reduce jitter in the movement.\u003c/p\u003e\n\u003cp\u003eEdit: the two videos shown in the linked thread applies average dT for the run animation.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:14:04.301Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":17,"readers_count":16,"score":8.4,"yours":false,"topic_id":2227,"topic_slug":"animations-with-translation","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":256,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[13478,13481,13494,13496]},"timeline_lookup":[[1,2271],[3,2269]],"suggested_topics":[{"id":7160,"title":"RayCast trouble","fancy_title":"RayCast trouble","slug":"raycast-trouble","posts_count":17,"reply_count":9,"highest_post_number":19,"image_url":null,"created_at":"2022-01-29T00:06:00.367Z","last_posted_at":"2022-01-30T00:29:39.356Z","bumped":true,"bumped_at":"2022-01-30T00:29:39.356Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":260,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7297,"title":"GetDrawables() can only return 1 result","fancy_title":"GetDrawables() can only return 1 result","slug":"getdrawables-can-only-return-1-result","posts_count":9,"reply_count":6,"highest_post_number":9,"image_url":null,"created_at":"2022-07-18T19:01:06.052Z","last_posted_at":"2022-07-20T05:17:38.044Z","bumped":true,"bumped_at":"2022-07-20T05:17:38.044Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":143,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1528,"username":"cqrtxwd","name":"QR C","avatar_template":"/user_avatar/discourse.urho3d.io/cqrtxwd/{size}/3814_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7210,"title":"Shadow Map Coverage Skewed to the Side","fancy_title":"Shadow Map Coverage Skewed to the Side","slug":"shadow-map-coverage-skewed-to-the-side","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/640dc6184f3d70ce00e656555c22db772ea941a4_2_1024x545.jpeg","created_at":"2022-02-28T15:02:02.662Z","last_posted_at":"2022-03-06T04:51:22.096Z","bumped":true,"bumped_at":"2022-03-06T04:51:22.096Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":211,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7212,"title":"Shadow Gap between Feet and Plane","fancy_title":"Shadow Gap between Feet and Plane","slug":"shadow-gap-between-feet-and-plane","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/8/897538cff25de49fafa7aa77574f822e99576b67_2_1024x686.jpeg","created_at":"2022-03-07T00:04:17.351Z","last_posted_at":"2022-03-07T00:17:57.413Z","bumped":true,"bumped_at":"2022-03-07T00:17:57.413Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}]},{"id":7313,"title":"RenderPaths and depth texture","fancy_title":"RenderPaths and depth texture","slug":"renderpaths-and-depth-texture","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/4/4115352ee634066092d24dcacacc24d2ec90206d.png","created_at":"2022-08-15T03:31:55.300Z","last_posted_at":"2022-08-19T11:32:37.386Z","bumped":true,"bumped_at":"2022-08-19T11:32:37.386Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":136,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1404,"username":"shifttab","name":"shifttab","avatar_template":"/user_avatar/discourse.urho3d.io/shifttab/{size}/3250_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":2227,"title":"Animations with translation","fancy_title":"Animations with translation","posts_count":4,"created_at":"2016-09-03T17:39:48.000Z","views":675,"reply_count":0,"like_count":1,"last_posted_at":"2016-09-05T17:57:06.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"animations-with-translation","category_id":10,"word_count":735,"deleted_at":null,"user_id":30,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2227","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":256,"username":"Lumak","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":30,"username":"JTippetts","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":242,"username":"Sir_Nate","name":"Sir Nate","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":30,"username":"JTippetts","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png"},"last_poster":{"id":256,"username":"Lumak","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/8491ac/{size}.png"},"links":[{"url":"http://imgur.com/MmGKaSM","title":"Imgur: The most awesome images on the Internet","internal":false,"attachment":false,"reflection":false,"clicks":10,"user_id":30,"domain":"imgur.com","root_domain":"imgur.com"}]}}