{"post_stream": {"posts": [{"id": 34974, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-19T17:43:15.521Z", "cooked": "<p>I made a new thread for this instead of posting in another one with a different topic.</p>\n<p>The issue I am having is when my ai reach there destination and huddle around their destination. The frame-rate starts to bomb depending on how many agents there are.</p>\n<p>About the ai used. They are the same model and all use the same animation. Not a whole bunch of different models and animations to rule out this as a bottle neck.</p>\n<p>Here is my code to spawn the ai. It is straight from the crowd navigation sample.</p>\n<pre><code>void CharacterDemo::SpawnZombie(const Vector3&amp; pos, Node* jackGroup)\n{\n\n\tResourceCache* cache = GetSubsystem&lt;ResourceCache&gt;();\n\tSharedPtr&lt;Node&gt;jackNode(jackGroup-&gt;CreateChild(\"Jack\"));\n\tjackNode-&gt;SetScale(Vector3(0.025f, 0.025f, 0.025f));\n\tjackNode-&gt;SetRotation(Quaternion(-90, Vector3(0, 1, 0)));\n\tjackNode-&gt;SetPosition(pos);\n\n\tAnimatedModel* modelObject2 = jackNode-&gt;CreateComponent&lt;AnimatedModel&gt;();\n\tmodelObject2-&gt;SetModel(cache-&gt;GetResource&lt;Model&gt;(\"Models/masterchief.mdl\"));\n\tmodelObject2-&gt;ApplyMaterialList(\"Materials/zombie.txt\");\n\tmodelObject2-&gt;SetCastShadows(false);\n\tmodelObject2-&gt;SetOccludee(true);\n\tmodelObject2-&gt;SetUpdateInvisible(false);\n\n\t\n\thandBoneNodeAI = jackNode-&gt;GetChild(\"right_hand_marker\", true);\n\n\tAnimatedModel* sword = handBoneNodeAI-&gt;CreateComponent&lt;AnimatedModel&gt;();\n\tsword-&gt;SetModel(cache-&gt;GetResource&lt;Model&gt;(\"Models/plasma_sword.mdl\"));\n\tsword-&gt;ApplyMaterialList(\"Materials/plasma_sword.txt\");\n\n\tjackNode-&gt;CreateComponent&lt;AnimationController&gt;();\n\n // Commented this out. This may be an issue as well. Not sure how else to apply an animation.\n\n    //\tAnimationController* swordIdle = jackNode-&gt;CreateComponent&lt;AnimationController&gt;();\n    //\tswordIdle-&gt;PlayExclusive(\"Models/combat_sword_idle.ani\", 0, false, 0.5);\n\n\n    \tMaterial* sentinel = cache-&gt;GetResource&lt;Material&gt;(\"Materials/zombie_armor.xml\"); // Was tutorial ground material\n\n\n    \tsentinel-&gt;SetTexture(TU_MULTI, multi);\n    \tsentinel-&gt;SetTexture(TU_DETAIL, metalDirty);\n    \tsentinel-&gt;SetTexture(TU_SHIELD, plasmaShield);\n\n    \t//Color(0.122f, 0.537f, 0.122f, 1.0f)\n    \tsentinel-&gt;SetShaderParameter(\"MatDiffColor\", Color(0.25f, 0.25f, 0.25f, 1.0f));\n\n\n    \t// Create a CrowdAgent component and set its height and realistic max speed/acceleration. Use default radius\n    \tCrowdAgent* agent = jackNode-&gt;CreateComponent&lt;CrowdAgent&gt;();\n    \tagent-&gt;SetHeight(1.0f);\n    \tagent-&gt;SetMaxSpeed(7.0f);\n    \tagent-&gt;SetMaxAccel(7.0f);\n    }\n</code></pre>\n<p>I have not tried weitjong idea yet.</p>", "post_number": 1, "post_type": 1, "updated_at": "2020-01-19T17:46:15.964Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 43, "readers_count": 42, "score": 8.6, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34977, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-20T00:48:04.317Z", "cooked": "<p>I also tried <a class=\"mention\" href=\"/u/weitjong\">@weitjong</a> idea. Hopefully this is what he meant.</p>\n<pre><code>const unsigned NUM_ZOMBIES = 2;\n\tfor (unsigned i = 0; i &lt; NUM_ZOMBIES; ++i)\n\t{\n\t\tNode* zombie = scene_-&gt;CreateChild(\"Zombie\");\n\t\tzombie-&gt;SetScale(Vector3(0.025f, 0.025f, 0.025f));\n\t\tzombie-&gt;SetRotation(Quaternion(-90, Vector3(0, 1, 0)));\n\t\tzombie-&gt;SetPosition(Vector3(205.84f, 1.0f, -293.97f));\n\n\t\tAnimatedModel* modelObject2 = zombie-&gt;CreateComponent&lt;AnimatedModel&gt;();\n\t\tmodelObject2-&gt;SetModel(cache-&gt;GetResource&lt;Model&gt;(\"Models/masterchief.mdl\"));\n\t\tmodelObject2-&gt;ApplyMaterialList(\"Materials/zombie.txt\");\n\t\tmodelObject2-&gt;SetCastShadows(false);\n\t\tmodelObject2-&gt;SetOccludee(true);\n\t\tmodelObject2-&gt;SetUpdateInvisible(false);\n\n\n\t\thandBoneNodeAI = zombie-&gt;GetChild(\"right_hand_marker\", true);\n\n\t\tAnimatedModel* sword = handBoneNodeAI-&gt;CreateComponent&lt;AnimatedModel&gt;();\n\t\tsword-&gt;SetModel(cache-&gt;GetResource&lt;Model&gt;(\"Models/plasma_sword.mdl\"));\n\t\tsword-&gt;ApplyMaterialList(\"Materials/plasma_sword.txt\");\n\n\t\tzombie-&gt;CreateComponent&lt;AnimationController&gt;();\n\n\t\tAnimationController* swordIdle = zombie-&gt;CreateComponent&lt;AnimationController&gt;();\n\t\tswordIdle-&gt;PlayExclusive(\"Models/combat_sword_idle.ani\", 0, false, 0.5);\n\n\n\t\tMaterial* zombie_armor = cache-&gt;GetResource&lt;Material&gt;(\"Materials/zombie_armor.xml\"); // Was tutorial ground material\n\n\n\t\tzombie_armor-&gt;SetTexture(TU_MULTI, multi);\n\t\tzombie_armor-&gt;SetTexture(TU_DETAIL, metalDirty);\n\t\tzombie_armor-&gt;SetTexture(TU_SHIELD, plasmaShield);\n\n\t\t//Color(0.122f, 0.537f, 0.122f, 1.0f)\n\t\tzombie_armor-&gt;SetShaderParameter(\"MatDiffColor\", Color(0.25f, 0.5f, 0.25f, 1.0f));\n\n\n\t\t// Create a CrowdAgent component and set its height and realistic max speed/acceleration. Use default radius\n\t\tCrowdAgent* agent = zombie-&gt;CreateComponent&lt;CrowdAgent&gt;();\n\t\tagent-&gt;SetHeight(1.0f);\n\t\tagent-&gt;SetMaxSpeed(7.0f);\n\t\tagent-&gt;SetMaxAccel(7.0f);\n\n\t} \n</code></pre>\n<p>I did see some improvement, but not a huge difference. The above code tries to split the agents instead of making them all one big group. Assuming I did it correctly.</p>\n<p>Here is a screenshot. Only 10 AI\u2019s if they huddle at their destination the update stats climbs as high as 15 and 16. Frame-rate drops to the 40s.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/3/3dc01bc1028b6c3357e1dfa1e9db61c6ff6cf595.jpeg\" data-download-href=\"/uploads/short-url/8OgIoAV1l2PAkgY3KFlLJUmw7OZ.jpeg?dl=1\" title=\"Screenshot_Sun_Jan_19_19_05_04_2020\" rel=\"nofollow noopener\"><img src=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/3dc01bc1028b6c3357e1dfa1e9db61c6ff6cf595_2_690x291.jpeg\" alt=\"Screenshot_Sun_Jan_19_19_05_04_2020\" data-base62-sha1=\"8OgIoAV1l2PAkgY3KFlLJUmw7OZ\" width=\"690\" height=\"291\" srcset=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/3dc01bc1028b6c3357e1dfa1e9db61c6ff6cf595_2_690x291.jpeg, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/3dc01bc1028b6c3357e1dfa1e9db61c6ff6cf595_2_1035x436.jpeg 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/3dc01bc1028b6c3357e1dfa1e9db61c6ff6cf595_2_1380x582.jpeg 2x\" data-small-upload=\"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/3/3dc01bc1028b6c3357e1dfa1e9db61c6ff6cf595_2_10x10.png\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot_Sun_Jan_19_19_05_04_2020</span><span class=\"informations\">2560\u00d71080 1.53 MB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>\n<p>UPDATE: I just tested the urho3d crowd sample and spawn 10 of the default character. It has the same problem. Once the agents reach their destination and huddle there. The frame-rate plummets. I was getting 40 fps. This is all in debug mode though. I\u2019m not sure if it goes away in release mode.</p>", "post_number": 2, "post_type": 1, "updated_at": "2020-01-20T01:27:33.115Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 40, "readers_count": 39, "score": 13.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 3, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "link_counts": [{"url": "https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/3/3dc01bc1028b6c3357e1dfa1e9db61c6ff6cf595.jpeg", "internal": false, "reflection": false, "title": "3dc01bc1028b6c3357e1dfa1e9db61c6ff6cf595.jpeg", "clicks": 0}], "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34982, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2020-01-20T14:05:41.863Z", "cooked": "<p>Pathfinding in general is an \u2018expensive\u2019 operation, so you should probably be using states to manage when it happens it a little better. If an agent doesn\u2019t need to be actively seeking a path, it shouldn\u2019t be seeking a path. When an agent is at or near its destination, disable it\u2019s agent component so it doesn\u2019t keep recalculating and moving or attempting to move. Last year, I did an ARPG for a game jam and was able to handle a couple hundred enemy mobs in a crowd, through mob state handling, disabling mobs that were too far away to need to act, disabling agent components of mobs that were near their approach target, etc\u2026</p>", "post_number": 3, "post_type": 1, "updated_at": "2020-01-20T14:05:41.863Z", "reply_count": 0, "reply_to_post_number": 2, "quote_count": 0, "incoming_link_count": 0, "reads": 35, "readers_count": 34, "score": 67.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 2}], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34986, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-20T18:09:21.502Z", "cooked": "<p><a class=\"mention\" href=\"/u/jtippetts\">@JTippetts</a> Great answer. I looked through the docs to see how to disable the agents once they get to their destination. I did not see anything on this. I had looked at this option in the past.</p>", "post_number": 4, "post_type": 1, "updated_at": "2020-01-20T18:09:21.502Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 33, "readers_count": 32, "score": 11.6, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34989, "name": "Yao Wei Tjong", "username": "weitjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "created_at": "2020-01-20T21:36:10.362Z", "cooked": "<p>For the crowd navigation demo you can press the \u2018space\u2019 key to toggle the debug geometry. If you do that you will know what I meant by agent not able to \u201csettle down\u201d as it cannot possibly reach its designated target position because it is overcrowded. Pay attention to the color of the debug geometry of the agent. Start with one agent and move it around and slowly increase the number to two, then three, and four. When you click to choose a target area, notice each agent got one spot assigned from the target area. But if the target area is too small then there bound to be overlapped and that\u2019s when agent get stuck and not able to settle down.</p>", "post_number": 5, "post_type": 1, "updated_at": "2020-01-20T21:48:42.025Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 30, "readers_count": 29, "score": 6.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "Yao Wei Tjong", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": "Admin", "title_is_group": false, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": true, "staff": true, "user_id": 4, "hidden": false, "trust_level": 4, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34990, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2020-01-20T21:50:41.580Z", "cooked": "<p>Well, you can use the SetEnabled method at the Component level to enable/disable the crowd agent, however that has the effect of actually removing the agent from the crowd, which is fine for faraway agents, but probably not what you want to do for agents that are nearby. In the case of nearby agents, you can use CrowdAgent::ResetTarget() to reset the agent\u2019s target, meaning it shouldn\u2019t look for a path again until you call CrowdAgent::SetTargetPosition with a new position to path to. So if an agent is \u201cclose enough\u201d to where it should be, call ResetTarget and it shouldn\u2019t try to path until it needs to move again.</p>", "post_number": 6, "post_type": 1, "updated_at": "2020-01-20T21:50:41.580Z", "reply_count": 0, "reply_to_post_number": 4, "quote_count": 0, "incoming_link_count": 0, "reads": 30, "readers_count": 29, "score": 21.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34991, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-20T22:39:39.084Z", "cooked": "<p><a class=\"mention\" href=\"/u/weitjong\">@weitjong</a> I will take a look again. I did view it in debug mode. That may be one of the issues. I did notice they try to occupy one quad that is in the ground. I tried adjust some of the agent params, but nothing really changed.</p>\n<p><a class=\"mention\" href=\"/u/jtippetts\">@JTippetts</a> I added this to the HandleCrowdAgentReposition event:</p>\n<pre><code class=\"lang-auto\">if (arrived)\n{\n    agent-&gt;ResetTarget(); \n    return;\n} \n</code></pre>\n<p>This works, but I noticed the ai will start to randomly walk out to the edges of the navmesh. Looks kinda neat actually LOL. I I call agent-&gt;Remove(); It works great. Only downside is I can\u2019t tell them to move to another location later because I removed the agent.</p>", "post_number": 7, "post_type": 1, "updated_at": "2020-01-20T23:09:56.549Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 31, "readers_count": 30, "score": 11.2, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34992, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2020-01-20T22:43:26.551Z", "cooked": "<p>If you use agent-&gt;SetEnabled(false) instead of Remove, then when you re-enable the agent component with SetEnabled(true) it gets re-added to the crowd. Otherwise, you remove the component entirely with Remove, and have to add/create another agent component to get it going again.</p>\n<p>AI randomly walking after you reset target sounds buggy. You might try calling agent-&gt;SetTargetVelocity with Vector3(0,0,0) to see if maybe it has some residual velocity that it shouldn\u2019t have. To be extra safe, call SetTargetPosition() with the object\u2019s current position, to ensure it doesn\u2019t have a target position elsewhere, before you call ResetTarget(). This shouldn\u2019t be necessary, but you just never know right?</p>", "post_number": 8, "post_type": 1, "updated_at": "2020-01-20T22:45:56.329Z", "reply_count": 0, "reply_to_post_number": 7, "quote_count": 0, "incoming_link_count": 0, "reads": 29, "readers_count": 28, "score": 50.8, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 2, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34996, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-21T02:50:34.217Z", "cooked": "<p>Okay so I tried some of the ideas posted. The setEnabled() does not seem to improve anything. I tried the rest target with velocity of zero. They do stay in place now. However not real performance increase. If I remove the agent my Update stats stay at their default ranges and no frame-rate bombs.</p>\n<p>If I choose to remove the agent what is the best way to add it back for them to move again?</p>", "post_number": 9, "post_type": 1, "updated_at": "2020-01-21T02:50:34.217Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 30, "readers_count": 29, "score": 6.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 34997, "name": "Jonathan", "username": "Sinoid", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/{size}.png", "created_at": "2020-01-21T06:46:58.102Z", "cooked": "<p>What hardware are you running on for this case?</p>\n<blockquote>\n<p>The setEnabled() does not seem to improve anything.</p>\n</blockquote>\n<p>It won\u2019t, not for anything but the most extreme differences.</p>\n<blockquote>\n<p>If I choose to remove the agent what is the best way to add it back for them to move again?</p>\n</blockquote>\n<p>The agent position is on-nav-mesh, you can use that so long as it\u2019s a real on mesh position. The multispace stuff is mostly bullshit.</p>", "post_number": 10, "post_type": 1, "updated_at": "2020-01-21T06:46:58.102Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 30, "readers_count": 29, "score": 11.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "Jonathan", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 669, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35005, "name": "SirNate0", "username": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png", "created_at": "2020-01-21T14:26:35.052Z", "cooked": "<aside class=\"quote no-group quote-modified\" data-username=\"Sinoid\" data-post=\"10\" data-topic=\"5825\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/40.png\" class=\"avatar\"> Sinoid:</div>\n<blockquote>\n<blockquote>\n<p>The setEnabled() does not seem to improve anything.</p>\n</blockquote>\n<p>It won\u2019t, not for anything but the most extreme differences.</p>\n</blockquote>\n</aside>\n<p>Having never used the navigation stuff before, why would SetEnabled(false) result in different performance than removing the component? It seems to me they should be effectively the same except for memory usage.</p>", "post_number": 11, "post_type": 1, "updated_at": "2020-01-21T14:26:35.052Z", "reply_count": 1, "reply_to_post_number": 10, "quote_count": 1, "incoming_link_count": 0, "reads": 28, "readers_count": 27, "score": 10.6, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "SirNate0", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 628, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35006, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2020-01-21T15:22:47.257Z", "cooked": "<p>SetEnabled removes the agent from the crowd, the same as removing the component altogether. So in that respect, they\u2019re essentially identical.</p>\n<p>Performance benefits from either are probably going to be fairly marginal. An agent with no target that is not walking amounts to a <code>continue;</code> inside the various loops in dtCrowd::update, so removing the agent altogether really only amounts to removing the small bit of overhead each agent adds to iterating the collection of agents, plus the overhead of steering calculations for moving agents that need to steer around them. However, for nearby agents, you want the agent to remain in the crowd, because that steering behavior is the whole point.</p>", "post_number": 12, "post_type": 1, "updated_at": "2020-01-21T15:22:47.257Z", "reply_count": 1, "reply_to_post_number": 11, "quote_count": 0, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 10.2, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35007, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-21T20:26:56.043Z", "cooked": "<p><a class=\"mention\" href=\"/u/sinoid\">@Sinoid</a> I\u2019m not sure what you mean?</p>\n<p>I did see some benefits with the setenabled option. It was not as much as removing the agent.</p>\n<p>I don\u2019t mind removing the agent. I just don\u2019t know the most efficient way to re-enable it again.</p>", "post_number": 13, "post_type": 1, "updated_at": "2020-01-21T20:26:56.043Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 5.2, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35008, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-21T21:46:49.096Z", "cooked": "<aside class=\"quote no-group\" data-post=\"12\" data-topic=\"5825\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/jtippetts/40/357_2.png\" class=\"avatar\"> JTippetts:</div>\n<blockquote>\n<p>SetEnabled removes the agent from the crowd, the same as removing the component altogether. So in that respect, they\u2019re essentially identical.</p>\n</blockquote>\n</aside>\n<p>I don\u2019t think that is true. I compared disabling it versus removing it, and removing the agent shows a noticeable difference. The Update stats in debug view return to normal range before the agents were used. However if I disable the agent once they reach their destination the stats seem to higher. Then if I later send the agents to a new destination once they arrive and the agent is disabled again the stats will start to climb up even more. Closer to the original problem.</p>", "post_number": 14, "post_type": 1, "updated_at": "2020-01-21T21:46:49.096Z", "reply_count": 1, "reply_to_post_number": 12, "quote_count": 1, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 10.2, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35009, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2020-01-21T23:08:04.331Z", "cooked": "<p>You might be right about that, I\u2019m operating a lot on what <em>should</em> be the case, but since working on that ARPG project I haven\u2019t really dug into it. CrowdAgent::OnSetEnabled() indicates that it adds/removes the agent from the crowd, so theoretically it should be about the same as removing the agent altogether, but I should know better than to operate on theoretically since I don\u2019t actually know all the details that well.</p>", "post_number": 15, "post_type": 1, "updated_at": "2020-01-21T23:08:04.331Z", "reply_count": 1, "reply_to_post_number": 14, "quote_count": 0, "incoming_link_count": 0, "reads": 25, "readers_count": 24, "score": 10.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35010, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-22T00:21:12.969Z", "cooked": "<p>I appreciate the help.</p>\n<p>I just don\u2019t know how to re-enable the agent after removal. Should I just recreate it again? I just feel like my methods are not very efficient.</p>", "post_number": 16, "post_type": 1, "updated_at": "2020-01-22T00:21:12.969Z", "reply_count": 1, "reply_to_post_number": 15, "quote_count": 0, "incoming_link_count": 0, "reads": 27, "readers_count": 26, "score": 10.4, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "JTippetts", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35011, "name": "", "username": "JTippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "created_at": "2020-01-22T03:56:32.870Z", "cooked": "<p>Well, if you remove the CrowdAgent component then the only way is to re-create another agent component in its place. Remove() physically removes it from the node.</p>", "post_number": 17, "post_type": 1, "updated_at": "2020-01-22T03:56:32.870Z", "reply_count": 0, "reply_to_post_number": 16, "quote_count": 0, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 5.2, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 30, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35012, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-22T04:59:07.997Z", "cooked": "<p>Yes I know. My thoughts are what is the most efficient way to recreate the agent again.</p>", "post_number": 18, "post_type": 1, "updated_at": "2020-01-22T04:59:07.997Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 26, "readers_count": 25, "score": 5.2, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35150, "name": "Jonathan", "username": "Sinoid", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/{size}.png", "created_at": "2020-01-30T07:50:10.545Z", "cooked": "<p><a class=\"mention\" href=\"/u/godman\">@GodMan</a> some of what you describe could be an agent leak. Do you have any obvious artifical holes in your crowds like there\u2019s some sort of empty void they refuse to enter?</p>\n<p>Crowds are never expected to perform well past 100 agents, that\u2019s the generic engine trade-off for the amount of events Urho raises (which is far too many). If you need to do something like Dynasty-Warriors/KUF then you need to roll it yourself.</p>", "post_number": 19, "post_type": 1, "updated_at": "2020-01-30T07:50:10.545Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 25, "readers_count": 24, "score": 5.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "Jonathan", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 669, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35162, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-30T18:03:57.413Z", "cooked": "<p><a class=\"mention\" href=\"/u/sinoid\">@Sinoid</a> I am not using a large number of agents. I think maybe 15 at most.<br>\nWhen you say void. Do you mean does the mesh that is used to generate the navmesh have holes? Meaning holes that were designed into the mesh?</p>", "post_number": 20, "post_type": 1, "updated_at": "2020-01-30T18:03:57.413Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 23, "readers_count": 22, "score": 4.6, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35169, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-01-31T00:11:24.226Z", "cooked": "<p><a class=\"mention\" href=\"/u/sinoid\">@Sinoid</a> I thought about this. Would that assumption be wrong though? It has the same problem in the demo that ships with Urho. If you have lets say 12 - 15 agents. The frame-rate bombs just like the issue I am having. If I remove the agent once they reach their destination everything is fine.</p>\n<p>I believe the demo mesh is just a simple plane.</p>", "post_number": 21, "post_type": 1, "updated_at": "2020-01-31T00:11:24.226Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 23, "readers_count": 22, "score": 9.6, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35187, "name": "", "username": "lezak", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/b38774/{size}.png", "created_at": "2020-02-01T12:03:08.870Z", "cooked": "<p>I don\u2019t think that removing or disabling agents is a good solution - let\u2019s take for an example situation where You don\u2019t need to move whole crowd, but only some selected agents and since You\u2019ve removed others, they won\u2019t be used in path calculation, so You\u2019ll loose collision avoidance with them.<br>\nAnother thing is that adding/removing components (agents) on every move/stop will trigger lot of \u2018component added\u2019 \u2018component removed\u2019 events which will also affect performance with bigger number of agents. If don\u2019t care much about avoidance, You can try setting navigation pushiness of agents to none - this should help with a problem with agents not being able to reach their destination, yet still - only to some point - they will avoid eachother when moving.<br>\nFinally, 12-15 agents seems extremely low, so I must ask the obvious - are You having this problem in release build? Because there is a big difference in crowd performance between debug and release.</p>", "post_number": 22, "post_type": 1, "updated_at": "2020-02-01T12:03:08.870Z", "reply_count": 0, "reply_to_post_number": 21, "quote_count": 0, "incoming_link_count": 0, "reads": 21, "readers_count": 20, "score": 19.2, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 688, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35192, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-02-01T17:13:31.788Z", "cooked": "<p><a class=\"mention\" href=\"/u/lezak\">@lezak</a> I stated in an earlier post that I have not tested this issue in release mode. I have been testing the add and remove component and it\u2019s been working great. What I do is set this on a delay so Urho does not add or remove the component each loop.</p>", "post_number": 23, "post_type": 1, "updated_at": "2020-02-01T17:13:31.788Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 20, "readers_count": 19, "score": 9.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35193, "name": "J Tippetts", "username": "JTippetts1", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png", "created_at": "2020-02-01T17:30:18.915Z", "cooked": "<p>You really need to do your performance testing in release mode.</p>", "post_number": 24, "post_type": 1, "updated_at": "2020-02-02T00:26:32.306Z", "reply_count": 1, "reply_to_post_number": 23, "quote_count": 0, "incoming_link_count": 0, "reads": 19, "readers_count": 18, "score": 23.8, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "J Tippetts", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 631, "hidden": false, "trust_level": 0, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": true}, {"id": 35195, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-02-01T17:36:35.748Z", "cooked": "<p>I plan on testing it soon.</p>", "post_number": 25, "post_type": 1, "updated_at": "2020-02-01T17:36:35.748Z", "reply_count": 1, "reply_to_post_number": 24, "quote_count": 0, "incoming_link_count": 0, "reads": 19, "readers_count": 18, "score": 8.8, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35197, "name": "J Tippetts", "username": "JTippetts1", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png", "created_at": "2020-02-01T17:51:04.308Z", "cooked": "<p>I suggest doing it before you do anything else to try to fix your problem. It\u2019s hard to overstate how important it is, because there can be a LOT of perf-stealing bullshit added to a debug build.</p>", "post_number": 26, "post_type": 1, "updated_at": "2020-02-01T17:51:04.308Z", "reply_count": 0, "reply_to_post_number": 25, "quote_count": 0, "incoming_link_count": 0, "reads": 20, "readers_count": 19, "score": 19.0, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "J Tippetts", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [{"id": 2, "count": 1}], "moderator": false, "admin": false, "staff": false, "user_id": 631, "hidden": false, "trust_level": 0, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35198, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-02-01T18:38:35.591Z", "cooked": "<p>Okay. I will post here with results.</p>", "post_number": 27, "post_type": 1, "updated_at": "2020-02-01T18:38:35.591Z", "reply_count": 0, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 19, "readers_count": 18, "score": 3.8, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35202, "name": "", "username": "GodMan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "created_at": "2020-02-02T00:12:46.095Z", "cooked": "<p>Okay so I compiled in release mode and tested the crowd navigation sample. Everything seems rock solid. The update stats got to only 2.0 and then goes back down. Frame-rate never budged. Guess all my issues were debug info. I spawned 15 of them no issues. Did not even drop one frame. <img src=\"https://emoji.discourse-cdn.com/twitter/smile.png?v=9\" title=\":smile:\" class=\"emoji\" alt=\":smile:\"> <img src=\"https://emoji.discourse-cdn.com/twitter/smile.png?v=9\" title=\":smile:\" class=\"emoji\" alt=\":smile:\"> <img src=\"https://emoji.discourse-cdn.com/twitter/smile.png?v=9\" title=\":smile:\" class=\"emoji\" alt=\":smile:\"></p>", "post_number": 28, "post_type": 1, "updated_at": "2020-02-02T00:26:32.015Z", "reply_count": 1, "reply_to_post_number": null, "quote_count": 0, "incoming_link_count": 0, "reads": 18, "readers_count": 17, "score": 68.6, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "bookmarked": false, "actions_summary": [{"id": 2, "count": 4}], "moderator": false, "admin": false, "staff": false, "user_id": 861, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}, {"id": 35344, "name": "Jonathan", "username": "Sinoid", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/{size}.png", "created_at": "2020-02-06T01:34:23.482Z", "cooked": "<p>Yeah, debug build will do that. Debug builds are super slow, this explains why your issues felt so weird.</p>\n<p>I strongly recommend that you use <code>RelWithDebInfo</code> builds for everything except deployment.</p>\n<p>That tends to be good enough for 75% of debugging.</p>\n<p>Sometimes you\u2019ll get garbage info from the debugger you can then wrap the functions that are problems with <code>#pragma optimize(\"\", off)</code> and <code>#pragma optimize(\"\", on)</code> to see them in full debug-build detail.</p>\n<p>Or just wrap the whole .cpp file staring from inside the namespace.</p>\n<p>Here\u2019s an example of what I mean from my render-library (see how the function is wrapped in <span class=\"hashtag\">#pragma</span>):</p>\n<pre><code class=\"lang-auto\">#pragma optimize(\"\", off)\nvoid DX11StateCache::SetBlendState(ID3D11BlendState* s)\n{\n\tif (s == blendState_)\n\t\treturn;\n\n\tblendState_ = s;\n\tfloat blendFactor[4] = { 1.0f, 1.0f, 1.0f, 1.0f };\n\tdevice_-&gt;GetD3DContext()-&gt;OMSetBlendState(s, blendFactor, 0xFFFFFFFF);\n}\n#pragma optimize(\"\", on)\n</code></pre>", "post_number": 29, "post_type": 1, "updated_at": "2020-02-06T01:37:35.079Z", "reply_count": 0, "reply_to_post_number": 28, "quote_count": 0, "incoming_link_count": 0, "reads": 19, "readers_count": 18, "score": 3.8, "yours": false, "topic_id": 5825, "topic_slug": "crowd-navigation-performance", "display_username": "Jonathan", "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_bg_color": null, "flair_color": null, "version": 1, "can_edit": false, "can_delete": false, "can_recover": false, "can_wiki": false, "read": true, "user_title": null, "reply_to_user": {"username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "bookmarked": false, "actions_summary": [], "moderator": false, "admin": false, "staff": false, "user_id": 669, "hidden": false, "trust_level": 2, "deleted_at": null, "user_deleted": false, "edit_reason": null, "can_view_edit_history": true, "wiki": false, "can_accept_answer": false, "can_unaccept_answer": false, "accepted_answer": false}], "stream": [34974, 34977, 34982, 34986, 34989, 34990, 34991, 34992, 34996, 34997, 35005, 35006, 35007, 35008, 35009, 35010, 35011, 35012, 35150, 35162, 35169, 35187, 35192, 35193, 35195, 35197, 35198, 35202, 35344]}, "timeline_lookup": [[1, 1038], [4, 1037], [13, 1036], [19, 1028], [20, 1027], [22, 1026], [23, 1025], [29, 1021]], "tags_descriptions": {}, "id": 5825, "title": "Crowd Navigation Performance", "fancy_title": "Crowd Navigation Performance", "posts_count": 29, "created_at": "2020-01-19T17:43:15.466Z", "views": 588, "reply_count": 14, "like_count": 11, "last_posted_at": "2020-02-06T01:34:23.482Z", "visible": true, "closed": false, "archived": false, "has_summary": false, "archetype": "regular", "slug": "crowd-navigation-performance", "category_id": 10, "word_count": 2552, "deleted_at": null, "user_id": 861, "featured_link": null, "pinned_globally": false, "pinned_at": null, "pinned_until": null, "image_url": null, "slow_mode_seconds": 0, "draft": null, "draft_key": "topic_5825", "draft_sequence": null, "unpinned": null, "pinned": false, "current_post_number": 1, "highest_post_number": 29, "deleted_by": null, "actions_summary": [{"id": 4, "count": 0, "hidden": false, "can_act": false}, {"id": 8, "count": 0, "hidden": false, "can_act": false}, {"id": 7, "count": 0, "hidden": false, "can_act": false}], "chunk_size": 20, "bookmarked": false, "bookmarks": [], "topic_timer": null, "message_bus_last_id": 0, "participant_count": 7, "show_read_indicator": false, "thumbnails": null, "slow_mode_enabled_until": null, "tags_disable_ads": false, "accepted_answer": {"post_number": 24, "username": "JTippetts1", "excerpt": "You really need to do your performance testing in release mode."}, "details": {"can_edit": false, "notification_level": 1, "participants": [{"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png", "post_count": 15, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 30, "username": "JTippetts", "name": "", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png", "post_count": 6, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 669, "username": "Sinoid", "name": "Jonathan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/{size}.png", "post_count": 3, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 631, "username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png", "post_count": 2, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 0}, {"id": 4, "username": "weitjong", "name": "Yao Wei Tjong", "avatar_template": "/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "admin": true, "trust_level": 4}, {"id": 688, "username": "lezak", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/b38774/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}, {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png", "post_count": 1, "primary_group_name": null, "flair_name": null, "flair_url": null, "flair_color": null, "flair_bg_color": null, "trust_level": 2}], "created_by": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}, "last_poster": {"id": 669, "username": "Sinoid", "name": "Jonathan", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/{size}.png"}}, "suggested_topics": [{"id": 7146, "title": "How create affordable comfortable and modern terrain?", "fancy_title": "How create affordable comfortable and modern terrain?", "slug": "how-create-affordable-comfortable-and-modern-terrain", "posts_count": 5, "reply_count": 1, "highest_post_number": 5, "image_url": null, "created_at": "2022-01-21T15:20:08.910Z", "last_posted_at": "2022-01-21T21:51:58.799Z", "bumped": true, "bumped_at": "2022-01-21T22:03:14.896Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 4, "views": 193, "category_id": 10, "featured_link": null, "has_accepted_answer": false, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 1497, "username": "timob256", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 1304, "username": "lebrewer", "name": "lebrewer", "avatar_template": "/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}, {"extras": "latest", "description": "Most Recent Poster", "user": {"id": 230, "username": "Nerrik", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]}, {"id": 7160, "title": "RayCast trouble", "fancy_title": "RayCast trouble", "slug": "raycast-trouble", "posts_count": 17, "reply_count": 9, "highest_post_number": 19, "image_url": null, "created_at": "2022-01-29T00:06:00.367Z", "last_posted_at": "2022-01-30T00:29:39.356Z", "bumped": true, "bumped_at": "2022-01-30T00:29:39.356Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 3, "views": 260, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster, Accepted Answer", "user": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 627, "username": "George1", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 1038, "username": "dertom", "name": "Thomas Trocha", "avatar_template": "/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]}, {"id": 7181, "title": "StaticModelGroup - Are ShaderParameters Shared?", "fancy_title": "StaticModelGroup - Are ShaderParameters Shared?", "slug": "staticmodelgroup-are-shaderparameters-shared", "posts_count": 3, "reply_count": 1, "highest_post_number": 3, "image_url": null, "created_at": "2022-02-02T09:31:19.658Z", "last_posted_at": "2022-02-02T17:06:24.059Z", "bumped": true, "bumped_at": "2022-02-02T17:06:24.059Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 2, "views": 120, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 1334, "username": "najak3d", "name": "Brian Knox", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}, {"extras": null, "description": "Frequent Poster, Accepted Answer", "user": {"id": 631, "username": "JTippetts1", "name": "J Tippetts", "avatar_template": "/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}, {"id": 7182, "title": "How install landscape in the format (.tor or .obj)?", "fancy_title": "How install landscape in the format (.tor or .obj)?", "slug": "how-install-landscape-in-the-format-tor-or-obj", "posts_count": 4, "reply_count": 1, "highest_post_number": 4, "image_url": null, "created_at": "2022-02-03T16:58:20.976Z", "last_posted_at": "2022-02-04T16:34:09.663Z", "bumped": true, "bumped_at": "2022-02-04T16:34:09.663Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 2, "views": 151, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": null, "description": "Original Poster", "user": {"id": 1497, "username": "timob256", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}}, {"extras": "latest", "description": "Most Recent Poster, Accepted Answer", "user": {"id": 1317, "username": "Lys0gen", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}, {"id": 7097, "title": "View Physics event for ConvexCast", "fancy_title": "View Physics event for ConvexCast", "slug": "view-physics-event-for-convexcast", "posts_count": 11, "reply_count": 5, "highest_post_number": 11, "image_url": null, "created_at": "2021-12-09T23:56:27.507Z", "last_posted_at": "2021-12-12T20:20:02.788Z", "bumped": true, "bumped_at": "2021-12-12T20:20:02.788Z", "archetype": "regular", "unseen": false, "pinned": false, "unpinned": null, "visible": true, "closed": false, "archived": false, "bookmarked": null, "liked": null, "tags_descriptions": {}, "like_count": 6, "views": 206, "category_id": 10, "featured_link": null, "has_accepted_answer": true, "posters": [{"extras": "latest", "description": "Original Poster, Most Recent Poster", "user": {"id": 861, "username": "GodMan", "name": "", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}, {"extras": null, "description": "Frequent Poster, Accepted Answer", "user": {"id": 192, "username": "Modanung", "name": "\u9b54\u5927\u519c \ud835\udf8d\ud835\udf8e\ud835\udf73 \u73fe\u62db\u870d", "avatar_template": "/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}, {"extras": null, "description": "Frequent Poster", "user": {"id": 628, "username": "SirNate0", "name": "SirNate0", "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}]}