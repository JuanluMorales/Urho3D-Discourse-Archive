{"post_stream":{"posts":[{"id":37449,"name":"evol","username":"evolgames","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png","created_at":"2020-04-20T05:08:26.369Z","cooked":"\u003cp\u003eHey guys, it’s been a while. I hope everyone is doing well. I’m working on something cool in U3d.\u003cbr\u003e\nAre there any examples of fileselector implementation? I haven’t found any in the Samples. I have a couple questions:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDoes FileSelector do any native file selecting, like a browser does when you do “Choose File”? Or, is it merely a way to get information on files in a directory, to which an Urho UI needs to be built around? (I’m assuming the latter)\u003c/li\u003e\n\u003cli\u003eHow do I approach files in the GetList?\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eI’m assuming I get the list of files from the directory and then I will be able to perform my operations with them. In my case, it’s very simple. I just am reading and writing one-line string text files. I’ve already implemented that, though that’s a hardcoded filename. What I’m aiming for is the user goes to save/load and then they can see the contents of the folder. This could help especially if they did their own backups and the filenames were not just the game’s preset slots.\u003c/p\u003e\n\u003cp\u003eSo far I have the following:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003elocal fsel = FileSelector:new()\nfsel:SetPath(fileSystem:GetProgramDir()..\"Data/Scenes/\")\nlocal list = fsel:GetFileList()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSo now I have list, which is a userdata value. I took a look here, \u003ca href=\"https://urho3d.github.io/documentation/1.7/class_urho3_d_1_1_list_view.html\" rel=\"nofollow noopener\"\u003ehttps://urho3d.github.io/documentation/1.7/class_urho3_d_1_1_list_view.html\u003c/a\u003e\u003cbr\u003e\nbut I’m not sure I understand how this list works.\u003c/p\u003e\n\u003cp\u003eI could easily make a little UI with a scrollbar and display this list contents. And once I have the filename, since I’m only doing simple text file read/write, that’s all I need. Just not sure how it’s getting the filenames. Is there a way to get a string/table of these filenames?\u003c/p\u003e\n\u003cp\u003eI notice there are SetSelection and SetHighlight, which I assume I would use to build this interface…\u003c/p\u003e\n\u003cp\u003eEDIT: got it. The relevant code was in EditorUI.as, and it wasn’t hard to track down some of the other functions. Looking at this in practice makes much more sense than the documentation. I think all examples do. It wasn’t hard to translate to lua. There are a few instances that use the fileselector in the editor, like saving scenes and picking models. Lastly, the reason my above code did nothing is because the style must be set. Using the below example, if you remove everything except the first two lines in the function, it will still create a fileselector window. Otherwise, if you don’t set the style nothing will show up.\u003cbr\u003e\nFound on line 1071:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid CreateFileSelector(const String\u0026amp;in title, const String\u0026amp;in ok, const String\u0026amp;in cancel, const String\u0026amp;in initialPath, Array\u0026lt;String\u0026gt;@ filters,\n    uint initialFilter, bool autoLocalizeTitle = true)\n{\n    // Within the editor UI, the file selector is a kind of a \"singleton\". When the previous one is overwritten, also\n    // the events subscribed from it are disconnected, so new ones are safe to subscribe.\n    uiFileSelector = FileSelector();\n    uiFileSelector.defaultStyle = uiStyle;\n    uiFileSelector.title = title;\n    uiFileSelector.titleText.autoLocalizable = autoLocalizeTitle;\n    uiFileSelector.path = initialPath;\n    uiFileSelector.SetButtonTexts(ok, cancel);\n    Text@ okText = cast\u0026lt;Text\u0026gt;(uiFileSelector.okButton.children[0]);\n    okText.autoLocalizable = true;\n    Text@ cancelText = cast\u0026lt;Text\u0026gt;(uiFileSelector.cancelButton.children[0]);\n    cancelText.autoLocalizable = true;\n    uiFileSelector.SetFilters(filters, initialFilter);\n    CenterDialog(uiFileSelector.window);\n}\n\u003c/code\u003e\u003c/pre\u003e","post_number":1,"post_type":1,"updated_at":"2020-04-20T13:27:24.350Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":20,"reads":27,"readers_count":26,"score":105.4,"yours":false,"topic_id":6105,"topic_slug":"any-examples-of-fileselector","display_username":"evol","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://urho3d.github.io/documentation/1.7/class_urho3_d_1_1_list_view.html","internal":false,"reflection":false,"title":"Urho3D - Documentation - Urho3D::ListView Class Reference","clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1292,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37452,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2020-04-20T11:32:20.452Z","cooked":"\u003cp\u003eI think the Editor uses the file selector. It’s written in AngelScript, but if you understand c++ you should be able to read it easily enough.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2020-04-20T12:33:00.597Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":24,"readers_count":23,"score":24.8,"yours":false,"topic_id":6105,"topic_slug":"any-examples-of-fileselector","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":37453,"name":"evol","username":"evolgames","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png","created_at":"2020-04-20T11:54:16.162Z","cooked":"\u003cp\u003eoh man I can’t believe I didn’t think about that. of course the editor uses it. Thanks, I’m taking a look!\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2020-04-20T11:54:16.162Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":19.4,"yours":false,"topic_id":6105,"topic_slug":"any-examples-of-fileselector","display_username":"evol","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1292,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[37449,37452,37453]},"timeline_lookup":[[1,947]],"suggested_topics":[{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7123,"title":"Character hitboxes","fancy_title":"Character hitboxes","slug":"character-hitboxes","posts_count":24,"reply_count":16,"highest_post_number":24,"image_url":null,"created_at":"2022-01-10T19:34:24.617Z","last_posted_at":"2022-01-12T22:44:20.744Z","bumped":true,"bumped_at":"2022-01-12T22:44:20.744Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}}]},{"id":7129,"title":"Best Model Import Pipeline as of Jan 2022?","fancy_title":"Best Model Import Pipeline as of Jan 2022?","slug":"best-model-import-pipeline-as-of-jan-2022","posts_count":7,"reply_count":0,"highest_post_number":7,"image_url":null,"created_at":"2022-01-17T09:27:23.432Z","last_posted_at":"2022-01-17T20:37:59.458Z","bumped":true,"bumped_at":"2022-01-17T20:37:59.458Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":170,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}}]},{"id":7112,"title":"What is the proper way to add more source files(.cpp and .h) to a project?","fancy_title":"What is the proper way to add more source files(.cpp and .h) to a project?","slug":"what-is-the-proper-way-to-add-more-source-files-cpp-and-h-to-a-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-27T18:18:21.946Z","last_posted_at":"2021-12-28T12:19:43.514Z","bumped":true,"bumped_at":"2021-12-28T12:19:43.514Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":195,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1498,"username":"Tryout","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/85f322/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}],"tags_descriptions":{},"id":6105,"title":"Any examples of FileSelector?","fancy_title":"Any examples of FileSelector?","posts_count":3,"created_at":"2020-04-20T05:08:26.302Z","views":309,"reply_count":1,"like_count":2,"last_posted_at":"2020-04-20T11:54:16.162Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"any-examples-of-fileselector","category_id":10,"word_count":600,"deleted_at":null,"user_id":1292,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6105","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":2,"username":"SirNate0","excerpt":"I think the Editor uses the file selector. It’s written in AngelScript, but if you understand c++ you should be able to read it easily enough."},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"},"last_poster":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"},"links":[{"url":"https://urho3d.github.io/documentation/1.7/class_urho3_d_1_1_list_view.html","title":"Urho3D - Documentation - Urho3D::ListView Class Reference","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":1292,"domain":"urho3d.github.io","root_domain":"urho3d.github.io"}]}}