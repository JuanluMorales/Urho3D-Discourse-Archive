{"post_stream":{"posts":[{"id":23377,"name":"","username":"slapin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/dfb087/{size}.png","created_at":"2018-02-22T06:40:51.695Z","cooked":"\u003cp\u003eHi all!\u003c/p\u003e\n\u003cp\u003eI have large set of mechanical objects - doors/windows, cars (with openable doors, hod, trunk), etc. What is the best way to implement these for best performance -\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eset of StaticModel controlled by nodes\u003c/li\u003e\n\u003cli\u003eAnimatedModel with bones\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eModels are all mechanical and visually look the same both ways.  No organic shapes.\u003cbr\u003e\nAnimations of open-close are occasional (on event), not persistent.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2018-02-22T06:40:51.695Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":5,"reads":39,"readers_count":38,"score":32.8,"yours":false,"topic_id":4034,"topic_slug":"performance-question","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":554,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":23386,"name":"Jonathan","username":"Sinoid","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/{size}.png","created_at":"2018-02-22T11:30:57.008Z","cooked":"\u003cp\u003eTL;DR: use whichever is more convenient for you until you see an actual problem. Need it to be able to easily detach? Use scene nodes and attribute animation. Prefer to do as much as possible in max/maya? Use animated model.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eYou’ll have to try both and measure if you really want to know for actual performance, there isn’t that much extra that happens to bones as opposed to Nodes. Transforming a skeleton only differs from transforming a scene-graph in that a skeleton has to do more book-keeping for weights and state - otherwise it’s the same stuff just potentially done many times and mixed.\u003c/p\u003e\n\u003cp\u003eAlthough skeletal animations involve some more work in AnimationController, attribute animations potentially have to evaluate curves instead of just lerp/slerp - which may be worse or it may mean even fewer keys.\u003c/p\u003e\n\u003cp\u003eFor rendering it really depends on your modeling habits but when using nodes and static meshes things are more likely to be ad-hoc pieces and that means more draws … though if many parts are the same (manufacturing robotics arms comes to mind) instancing will make that fairly moot and the vertex shader will be lighter to boot.\u003c/p\u003e\n\u003cp\u003eThere’s also the case where you use an AnimatedModel but not an AnimationController, using attribute animation to control the bone nodes.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eBut for memory footprint which you can actually look at AOT …\u003c/p\u003e\n\u003cp\u003eYou have mesh data regardless. For an animated model you’ll have an extra 20 bytes per vertex compared to the static (if shadowed). Each Urho3D::Node is 368 bytes and with an animated model each joint will be reproduced in the scene-graph as a node per instance plus the 168 bytes for the shared bone data and a skeleton is 24 bytes … so seperate meshes on nodes is a little fatter due to multiple StaticModel components (456 bytes) vs 1 AnimatedModel (696 bytes).\u003c/p\u003e\n\u003cp\u003eAttribute animation is larger than skeletal animation.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFor skeletal animation a 44 byte keyframe covers position, rotation, scale, and time\u003c/li\u003e\n\u003cli\u003eFor attribute animation each attribute has a 44 byte keyframe for the Variant and time (variant has become really obese with value type bloat)\n\u003cul\u003e\n\u003cli\u003ex3 if animating position + rotation + scale\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eSkeletal animation track is 40 bytes\u003c/li\u003e\n\u003cli\u003eAttribute animation \u003cem\u003etrack\u003c/em\u003e is 160 bytes\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSo, just footprint wise - the difference isn’t big enough to warrant choosing anything but the most convenient one for you to work with. Attribute animation is definitely fatter, but not enough to really care for something like a door.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eThe save/load APIs for both model animations and attribute animations are equally complete so there really isn’t a \u003cem\u003e“well I could write a little keyframe editor for doing this ad-hoc in the editor”\u003c/em\u003e difference between them either.\u003c/p\u003e\n\u003cp\u003eIf you’re concerned about a future \u003cem\u003e“OMG! I’ve screwed up! I need to switch to bones!”\u003c/em\u003e you can follow the OBJ export code and write a dump for an MD5 model (or other easy format) based on that with absolute (1.0) bone weights mapped to each mesh’s node to get a skeletal model back out for import into an animation tool. Similiarly the .uani format is simple enough to convert to-from skeletal-attribute animation.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2018-02-22T11:30:57.008Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":38,"readers_count":37,"score":12.6,"yours":false,"topic_id":4034,"topic_slug":"performance-question","display_username":"Jonathan","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":669,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":23391,"name":"","username":"slapin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/dfb087/{size}.png","created_at":"2018-02-22T17:36:39.354Z","cooked":"\u003cp\u003eThanks a lot for your answer. I think writing a small benchmark is a good idea.\u003cbr\u003e\nIt will be sad if I will need to change established asset pipeline because one or other way can’t handle 200-300 cars + 100 people + 200 boats on something like android because of incorrect choise at the beginning…\u003c/p\u003e\n\u003cp\u003eI do not use attribute animation or any animation files, I just control nodes directly\u003cbr\u003e\n(procedural approach) for door animations.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-02-22T17:36:39.354Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":32,"readers_count":31,"score":6.4,"yours":false,"topic_id":4034,"topic_slug":"performance-question","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Sinoid","name":"Jonathan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":554,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[23377,23386,23391]},"timeline_lookup":[[1,1735],[3,1734]],"suggested_topics":[{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7112,"title":"What is the proper way to add more source files(.cpp and .h) to a project?","fancy_title":"What is the proper way to add more source files(.cpp and .h) to a project?","slug":"what-is-the-proper-way-to-add-more-source-files-cpp-and-h-to-a-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-27T18:18:21.946Z","last_posted_at":"2021-12-28T12:19:43.514Z","bumped":true,"bumped_at":"2021-12-28T12:19:43.514Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":195,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1498,"username":"Tryout","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/85f322/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7123,"title":"Character hitboxes","fancy_title":"Character hitboxes","slug":"character-hitboxes","posts_count":24,"reply_count":16,"highest_post_number":24,"image_url":null,"created_at":"2022-01-10T19:34:24.617Z","last_posted_at":"2022-01-12T22:44:20.744Z","bumped":true,"bumped_at":"2022-01-12T22:44:20.744Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}],"tags_descriptions":{},"id":4034,"title":"Performance question","fancy_title":"Performance question","posts_count":3,"created_at":"2018-02-22T06:40:51.599Z","views":456,"reply_count":1,"like_count":0,"last_posted_at":"2018-02-22T17:36:39.354Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"performance-question","category_id":10,"word_count":678,"deleted_at":null,"user_id":554,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_4034","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":554,"username":"slapin","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/dfb087/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":669,"username":"Sinoid","name":"Jonathan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/f19dbf/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":554,"username":"slapin","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/dfb087/{size}.png"},"last_poster":{"id":554,"username":"slapin","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/dfb087/{size}.png"}}}