{"post_stream":{"posts":[{"id":2213,"name":"Jimmy Gass","username":"ghidra","avatar_template":"/user_avatar/discourse.urho3d.io/ghidra/{size}/69_2.png","created_at":"2014-09-02T02:15:23.000Z","cooked":"\u003cp\u003eSo, I cam trying to call a function on a script object from not inside that script object. Anglescript.\u003c/p\u003e\n\u003cp\u003eBasically, I have come across 2 scenarios where this is something i have failed on so far.\u003c/p\u003e\n\u003cp\u003eOnce, When I wanted to kind of make a controller. I was trying to put the functions to move the node inside the script object, but I couldnt find a way to call those function from a controller class I made. I ended up using a second class to move the node, instead of using the script object to move it.\u003c/p\u003e\n\u003cp\u003eSecond, now I am trying to assign a enemy target. Currently have two layers of classes. One that holds data like this, and one that is the script object just to handle the update calls, and collision detection, but then it refers to the class that created it. I pass it that class when created, and just refer to it in the scriptobject, and grab any data I want. So if I want to set a target, I set it on that parent class, then look for it from my script object…\u003c/p\u003e\n\u003cp\u003eDoes that make sense? Is that acceptable? What would be cool, If I could just say something like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003ePawn@ pawn = cast\u0026lt;Pawn\u0026gt;(some_node.scriptObject);\npawn.set_enemy(someother_node);\u003c/code\u003e\u003c/pre\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:00:13.693Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":12,"reads":7,"readers_count":6,"score":61.4,"yours":false,"topic_id":412,"topic_slug":"calling-function-on-a-scriptobject-solved","display_username":"Jimmy Gass","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":109,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":2214,"name":"","username":"friesencr","avatar_template":"/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png","created_at":"2014-09-02T04:08:33.000Z","cooked":"\u003cp\u003eFor your first scenario I use a little trick.  the node method is actually a kind of odd.  it is a global method that automatically binds to the caller but is not a member of the script object.  to get around this i make a method on the script object Node();\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eclass Pawn {\n  Node@ Node() { return node; }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor your second scenario the concept does work.  There are some possible problems.  If the objects are not pare of the same scriptfile this will result in an error.  the pawn variable would be null from a bad cast or a compile error from the constant not being found.  The angelscript compiler is pretty good but its error messages aren’t always the most helpful.  If you have multiple scriptfiles Urho will only report errors on the main entry scriptfile.  You would have to check the logfile to get the errors for subsequent scriptfiles.\u003c/p\u003e\n\u003cp\u003eAnother posibility is that the receiver needs store using the handle.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\npawn.set_enemy(@someother_node);\n\nclass Pawn {\nNode@ _enemyNode;\nset_enemy(Node@ enemyNode_)\n{\n_enemyNode = @enemyNode_;\n}\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUrho does something kind of out of the ordinary where it will always pass Urho defined objects by reference/handle, so my advice might be not helpful.   Its’ worth a shot if you are stuck though \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:00:13.760Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.4,"yours":false,"topic_id":412,"topic_slug":"calling-function-on-a-scriptobject-solved","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":15,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":2220,"name":"Jimmy Gass","username":"ghidra","avatar_template":"/user_avatar/discourse.urho3d.io/ghidra/{size}/69_2.png","created_at":"2014-09-03T00:41:04.000Z","cooked":"\u003cp\u003eYou’ve mentioned that first trick to me before. I went ahead and put it in my base class just incase i find myself scrathcing my head about  a related issue.\u003cbr\u003e\nMy fix was actually exactly what I was trying before, I must have just had a syntax problem. So to set on my controller I give it what script object I want to control i do something like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eclass InputPlayer{\n\n     Node@ node_;\n\n     void set_control(Node@ control_node){\n          Pawn@ pawn = cast\u0026lt;Pawn\u0026gt;(control_node.scriptObject);\n          if (pawn !is null)\n               node_ = control_node;\n     }\n     void move( Vector3 direction, float timeStep){\n          if(node_ !is null){\n               Pawn@ pawn = cast\u0026lt;Pawn\u0026gt;(node_.scriptObject);\n               pawn.move( direction, timeStep);\n          }\n     }\n\n}\u003c/code\u003e\u003c/pre\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:00:14.240Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":412,"topic_slug":"calling-function-on-a-scriptobject-solved","display_username":"Jimmy Gass","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":109,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[2213,2214,2220]},"timeline_lookup":[[1,3004],[3,3003]],"suggested_topics":[{"id":7086,"title":"Handling CrowdAgents that get stuck","fancy_title":"Handling CrowdAgents that get stuck","slug":"handling-crowdagents-that-get-stuck","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-04T01:26:23.062Z","last_posted_at":"2021-12-05T04:37:54.143Z","bumped":true,"bumped_at":"2021-12-05T04:37:54.143Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7087,"title":"Android how to get error message sometimes little change gives me just crash","fancy_title":"Android how to get error message sometimes little change gives me just crash","slug":"android-how-to-get-error-message-sometimes-little-change-gives-me-just-crash","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-05T16:59:59.376Z","last_posted_at":"2021-12-05T18:17:02.335Z","bumped":true,"bumped_at":"2021-12-05T18:17:02.335Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":153,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1436,"username":"Maco","name":"Maco","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/90ced4/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","slug":"view-physics-event-for-convexcast","posts_count":11,"reply_count":5,"highest_post_number":11,"image_url":null,"created_at":"2021-12-09T23:56:27.507Z","last_posted_at":"2021-12-12T20:20:02.788Z","bumped":true,"bumped_at":"2021-12-12T20:20:02.788Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":206,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7105,"title":"Multiple Application.UI Roots?","fancy_title":"Multiple Application.UI Roots?","slug":"multiple-application-ui-roots","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/74b10ce575f1b69fe43be4abcb07605d74a1d27c_2_1024x544.jpeg","created_at":"2021-12-20T08:55:14.707Z","last_posted_at":"2021-12-22T02:33:05.795Z","bumped":true,"bumped_at":"2021-12-22T02:33:05.795Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":243,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7074,"title":"First Person and 3rd person camera and water reflections","fancy_title":"First Person and 3rd person camera and water reflections","slug":"first-person-and-3rd-person-camera-and-water-reflections","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-01T18:37:28.669Z","last_posted_at":"2021-12-01T21:19:51.519Z","bumped":true,"bumped_at":"2021-12-01T21:19:51.519Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":158,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":412,"title":"Calling function on a scriptobject [SOLVED]","fancy_title":"Calling function on a scriptobject [SOLVED]","posts_count":3,"created_at":"2014-09-02T02:15:23.000Z","views":203,"reply_count":0,"like_count":0,"last_posted_at":"2014-09-03T00:41:04.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"calling-function-on-a-scriptobject-solved","category_id":10,"word_count":545,"deleted_at":null,"user_id":109,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_412","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":109,"username":"ghidra","name":"Jimmy Gass","avatar_template":"/user_avatar/discourse.urho3d.io/ghidra/{size}/69_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":3},{"id":15,"username":"friesencr","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/friesencr/{size}/827_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":109,"username":"ghidra","name":"Jimmy Gass","avatar_template":"/user_avatar/discourse.urho3d.io/ghidra/{size}/69_2.png"},"last_poster":{"id":109,"username":"ghidra","name":"Jimmy Gass","avatar_template":"/user_avatar/discourse.urho3d.io/ghidra/{size}/69_2.png"}}}