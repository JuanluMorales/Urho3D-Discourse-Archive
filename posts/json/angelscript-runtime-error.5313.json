{"post_stream":{"posts":[{"id":30848,"name":"Fernando Nadal Testa","username":"fnadalt","avatar_template":"/user_avatar/discourse.urho3d.io/fnadalt/{size}/2113_2.png","created_at":"2019-07-18T15:37:23.502Z","cooked":"\u003cp\u003eHi everyone. I’m having trouble with an angelscript runtime error. I can’t find where it is generated exactly, since I didn’t find a way to reproduce it. It happens on scene change, after Scene::LoadXML. I change scenes back and forth until it takes place. The entire app is run from a Main.as. This scripts receives the “SwitchScene” event and loads the new scene. The error does not happen after switching to a particular scene. The engine if compiled from git 3be92ea61e39d8a31999ab5a0833473ea220e6ca (2019-07-17), but the error started from an one moth old git pull. gdb backtrace including some app log \u003ca href=\"https://pastebin.com/KT3fH5FT\" rel=\"nofollow noopener\"\u003ehttps://pastebin.com/KT3fH5FT\u003c/a\u003e. Would anyone please help me at least suggesting where to continue the search from? If full source needed I can push it to github.\u003c/p\u003e\n\u003cp\u003eThe game consists of a flying transporter that lands on platforms and picks people and goods to carry to some other location. There are local and replicated nodes since it supports single player mode as well as client and server functionality. I observed that there seems to be a problem with the avatar (ship) to call its ScriptObject::Stop function, and, that seems to be underlying the issue. From time to time it reports [Thu Jul 18 12:57:27 2019] ERROR: :0,0 Failed in call to function ‘Prepare’ with ‘void Ship::Stop()’ (Code: asCONTEXT_ACTIVE, -2)… …?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-07-18T16:04:06.087Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":21,"reads":31,"readers_count":30,"score":111.2,"yours":false,"topic_id":5313,"topic_slug":"angelscript-runtime-error","display_username":"Fernando Nadal Testa","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://pastebin.com/KT3fH5FT","internal":false,"reflection":false,"title":"[Thu Jul 18 12:06:06 2019] INFO: GamePlay.SpanwCoal: at 182.996 64.1058 291.819 - Pastebin.com","clicks":5}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":863,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":30853,"name":"","username":"Avagrande","avatar_template":"/user_avatar/discourse.urho3d.io/avagrande/{size}/2686_2.png","created_at":"2019-07-18T18:10:01.132Z","cooked":"\u003cp\u003eMight not be exactly what you are facing…\u003cbr\u003e\nbut I have been dealing with runtime errors in LUA for quite a bit now and I got the hang of whats going on ( I think )  Urho3d handles is pointers based on scenes so each scene has control over its resources such that if you create a texture in code ( without the cache ) and assign it to a scene and then delete the node that holds that resource, the resource itself will be deleted as-well and any further attempts to use it will cause either a SIGABRT or SIGSEGV. This can also occur if you double delete the resource by deleting it via the garbage collector and then the shared_ptr c++ wise.\u003c/p\u003e\n\u003cp\u003eSo if you are transferring objects between scenes you may wish to create a “transition” scene where you will place those resources as the first scene is being deleted this will assure that the assets are not deleted and then once the next scene has completed loading you can delete the transition scene.  Note that this applies mainly to resources generated in the scripting world and not via the asset cache.\u003c/p\u003e\n\u003cp\u003ehope that helps.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2019-07-18T18:10:01.132Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":31,"readers_count":30,"score":6.2,"yours":false,"topic_id":5313,"topic_slug":"angelscript-runtime-error","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1201,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":30856,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-07-19T02:04:03.482Z","cooked":"\u003cp\u003eWhat I noticed about your stack dump was the calls to angelscript GarbageCollection - which is meant to be disabled (at least for script objects!) This occurs at around line 96 in the dump you provided.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2019-07-19T03:15:45.558Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":5313,"topic_slug":"angelscript-runtime-error","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":30872,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-07-20T05:48:24.282Z","cooked":"\u003cp\u003eDid you get this issue resolved? I’d be happy to take a crack at debugging the issue if you still want help. I used to be great at ASM, on 8, 16 and 32 bit platforms. When we went to 64 bit, I chose not to pursue assembly language, but I learned a crapload about debugging from my time in asm, which holds me in good stead today. I can recognize the registers which hold input arguments, and I can recognize which pointers are bad. I can step asm and set breakpoints intelligently to track down issues in code, and even without appropriate debug symbols being available in the code I am debugging. Also, I like puzzles.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2019-07-20T05:52:26.448Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":23.8,"yours":false,"topic_id":5313,"topic_slug":"angelscript-runtime-error","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":30883,"name":"Fernando Nadal Testa","username":"fnadalt","avatar_template":"/user_avatar/discourse.urho3d.io/fnadalt/{size}/2113_2.png","created_at":"2019-07-21T01:07:55.072Z","cooked":"\u003cp\u003eLittle embarrasing I think. Just when I thought I had been quite “neat and clean” on setting object references to null in every ScriptObject::Stop(), I figured out I hadn’t set null the very Node@ avatarNode in GamePlay scene Stop method. That seemed to have solved the thing, at least so far.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2019-07-21T01:07:55.072Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":18,"readers_count":17,"score":33.6,"yours":false,"topic_id":5313,"topic_slug":"angelscript-runtime-error","display_username":"Fernando Nadal Testa","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":863,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[30848,30853,30856,30872,30883]},"timeline_lookup":[[1,1224],[2,1223],[4,1222],[5,1221]],"suggested_topics":[{"id":7193,"title":"Can Z-Axis Feasibly be \"Up\"?","fancy_title":"Can Z-Axis Feasibly be \u0026ldquo;Up\u0026rdquo;?","slug":"can-z-axis-feasibly-be-up","posts_count":4,"reply_count":2,"highest_post_number":4,"image_url":null,"created_at":"2022-02-14T05:17:28.054Z","last_posted_at":"2022-02-14T07:26:53.817Z","bumped":true,"bumped_at":"2022-02-14T07:26:53.817Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":161,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7182,"title":"How install landscape in the format (.tor or .obj)?","fancy_title":"How install landscape in the format (.tor or .obj)?","slug":"how-install-landscape-in-the-format-tor-or-obj","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-02-03T16:58:20.976Z","last_posted_at":"2022-02-04T16:34:09.663Z","bumped":true,"bumped_at":"2022-02-04T16:34:09.663Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":"latest","description":"Most Recent Poster, Accepted Answer","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7296,"title":"What is the purpose of LitBase?","fancy_title":"What is the purpose of LitBase?","slug":"what-is-the-purpose-of-litbase","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-07-15T17:46:35.168Z","last_posted_at":"2022-07-15T18:00:02.695Z","bumped":true,"bumped_at":"2022-07-15T18:00:02.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":93,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":745,"username":"ChunFengTsin","name":"Chun Feng Tsin","avatar_template":"/user_avatar/discourse.urho3d.io/chunfengtsin/{size}/450_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":5313,"title":"AngelScript runtime error","fancy_title":"AngelScript runtime error","posts_count":5,"created_at":"2019-07-18T15:37:23.445Z","views":369,"reply_count":1,"like_count":3,"last_posted_at":"2019-07-21T01:07:55.072Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"angelscript-runtime-error","category_id":10,"word_count":632,"deleted_at":null,"user_id":863,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_5313","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":863,"username":"fnadalt","name":"Fernando Nadal Testa","avatar_template":"/user_avatar/discourse.urho3d.io/fnadalt/{size}/2113_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":1201,"username":"Avagrande","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/avagrande/{size}/2686_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":863,"username":"fnadalt","name":"Fernando Nadal Testa","avatar_template":"/user_avatar/discourse.urho3d.io/fnadalt/{size}/2113_2.png"},"last_poster":{"id":863,"username":"fnadalt","name":"Fernando Nadal Testa","avatar_template":"/user_avatar/discourse.urho3d.io/fnadalt/{size}/2113_2.png"},"links":[{"url":"https://pastebin.com/KT3fH5FT","title":"[Thu Jul 18 12:06:06 2019] INFO: GamePlay.SpanwCoal: at 182.996 64.1058 291.819 - Pastebin.com","internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":863,"domain":"pastebin.com","root_domain":"pastebin.com"}]}}