{"post_stream":{"posts":[{"id":12617,"name":"","username":"dakilla","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","created_at":"2016-06-21T13:39:52.000Z","cooked":"\u003cp\u003eAny way to also clone subscribed events for components and nodes when cloning ?\u003c/p\u003e\n\u003cp\u003eI have some components and nodes that subscribes to events, when cloning them, clones have lost events.\u003cbr\u003e\nThanks.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:13:00.062Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":17,"reads":13,"readers_count":12,"score":87.6,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":394,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12618,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-06-21T14:09:08.000Z","cooked":"\u003cp\u003eCloning uses the exact same method as load/save, attribute serialization. Event subscription status is separate from this.\u003c/p\u003e\n\u003cp\u003eIf possible, I’d just recommend making the event connections in OnNodeSet() or Start() / DelayedStart() functions, as appropriate.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:13:00.127Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":15,"readers_count":14,"score":3.0,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12624,"name":"","username":"dakilla","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","created_at":"2016-06-22T08:42:23.000Z","cooked":"\u003cp\u003eok.\u003cbr\u003e\nAnd what about to send a cloned event with the clone ptr in map to trigger actions for clones when a object is cloned ? maybe usefull for lot of things like auto registering to some other events  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/confused.png?v=5\" title=\":confused:\" class=\"emoji\" alt=\":confused:\"\u003e\u003c/p\u003e\n\u003cp\u003eI added :\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e/// A component has been cloned.\nURHO3D_EVENT(E_COMPONENTCLONED, ComponentCloned)\n{\n    URHO3D_PARAM(P_SCENE, Scene);                  // Scene pointer\n    URHO3D_PARAM(P_NODE, Node);                    // Node pointer\n    URHO3D_PARAM(P_COMPONENT, Component);          // Component pointer\n}\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eand at end of Node::CloneComponent()\u003c/p\u003e\n\u003cp\u003e[code]\u003cbr\u003e\n// Send component cloned event\u003cbr\u003e\nusing namespace ComponentCloned;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eVariantMap\u0026amp; eventData = GetEventDataMap();\neventData[P_SCENE] = scene_;\neventData[P_NODE] = this;\neventData[P_COMPONENT] = cloneComponent;\nSendEvent(E_COMPONENTCLONED, eventData);[/code]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt works for cloned components, but I’m not sure for cloned Node where to send a similar event.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:13:00.492Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":394,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12625,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-06-22T08:51:21.000Z","cooked":"\u003cp\u003eEvents are often used for when something happens that you can’t directly anticipate. For example screen resize. The scene already sends node and component creation/deletion events, which are used by the editor for keeping the hierarchy window up to date. But that doesn’t differentiate between cloning and other methods of creating new nodes.\u003c/p\u003e\n\u003cp\u003eSince the engine doesn’t ever call Clone() on its own, but it’s always your application logic and you know when it’s called, you could follow with any post-cloning setup imperatively, just by calling some function in the cloned component(s). So I don’t see a separate engine-defined event necessary here. Or if you wish, you could send an event yourself at the same time when cloning.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:13:00.564Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12626,"name":"","username":"dakilla","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","created_at":"2016-06-22T09:35:54.000Z","cooked":"\u003cp\u003eok right. E_COMPONENTADDED should be sufficiant.\u003cbr\u003e\nhowever I get some crash using the component ptr from E_COMPONENTADDED after cloning.\u003c/p\u003e\n\u003cp\u003eWhen I look the CloneComponent code, SafeCreateComponent (who call addComponent and then trigger the event E_COMPONENTADDED), the sended component does not have yet attributes applied by CloneComponent, this event shouldn’t be sended only after ? (when I move the send event code after it fix the crash)\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:13:00.623Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":394,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12628,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-06-22T12:56:02.000Z","cooked":"\u003cp\u003eThe meaning of the event is exactly what it says (component added). It doesn’t tell anything of the attribute contents, which could be populated some time after, or possibly never (In case it’s a node/component creation outside serialization or cloning.)\u003c/p\u003e\n\u003cp\u003eAt the time when the component is added, and the event is sent, Node code cannot know what case it is.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:13:00.771Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12637,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-06-23T07:02:53.000Z","cooked":"\u003cp\u003eOn second thoughts, the Node::Clone() function knows best when it’s done with setting each components’ (and its own) attributes, and also the mappings to new and old component. Therefore it could in fact make sense to have events sent from the engine code. Cloning shouldn’t be a high-frequency operation (not any more frequent than instantiation of prefabs) and furthermore the events should be cheap performance-wise if no-one is listening to them.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:13:01.422Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12640,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-06-23T11:52:48.000Z","cooked":"\u003cp\u003eAdded in master branch.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:13:01.618Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12646,"name":"","username":"dakilla","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","created_at":"2016-06-24T07:47:29.000Z","cooked":"\u003cp\u003egreat thanks.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:13:02.009Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":11,"readers_count":10,"score":2.2,"yours":false,"topic_id":2092,"topic_slug":"clone-and-events","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":394,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[12617,12618,12624,12625,12626,12628,12637,12640,12646]},"timeline_lookup":[[1,2346],[3,2345],[7,2344],[9,2343]],"suggested_topics":[{"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","slug":"view-physics-event-for-convexcast","posts_count":11,"reply_count":5,"highest_post_number":11,"image_url":null,"created_at":"2021-12-09T23:56:27.507Z","last_posted_at":"2021-12-12T20:20:02.788Z","bumped":true,"bumped_at":"2021-12-12T20:20:02.788Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":206,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7136,"title":"Open-source ocean shader system","fancy_title":"Open-source ocean shader system","slug":"open-source-ocean-shader-system","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-19T23:11:15.784Z","last_posted_at":"2022-01-19T23:11:15.858Z","bumped":true,"bumped_at":"2022-01-19T23:11:15.858Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":177,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7178,"title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","fancy_title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","slug":"medium-quality-technique-for-semi-reflective-specular-glass-in-urho","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/51408fe152ba02eb8b92237cc9a9411c8ee922e6.jpeg","created_at":"2022-01-31T22:57:50.134Z","last_posted_at":"2022-02-01T04:32:37.418Z","bumped":true,"bumped_at":"2022-02-01T04:32:37.418Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":154,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7184,"title":"Hardware mouse cursor","fancy_title":"Hardware mouse cursor","slug":"hardware-mouse-cursor","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-02-04T15:42:52.888Z","last_posted_at":"2022-02-05T04:26:17.621Z","bumped":true,"bumped_at":"2022-02-05T04:26:17.621Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":132,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7212,"title":"Shadow Gap between Feet and Plane","fancy_title":"Shadow Gap between Feet and Plane","slug":"shadow-gap-between-feet-and-plane","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/8/897538cff25de49fafa7aa77574f822e99576b67_2_1024x686.jpeg","created_at":"2022-03-07T00:04:17.351Z","last_posted_at":"2022-03-07T00:17:57.413Z","bumped":true,"bumped_at":"2022-03-07T00:17:57.413Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}]}],"tags_descriptions":{},"id":2092,"title":"Clone and events","fancy_title":"Clone and events","posts_count":9,"created_at":"2016-06-21T13:39:52.000Z","views":747,"reply_count":0,"like_count":0,"last_posted_at":"2016-06-24T07:47:29.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"clone-and-events","category_id":11,"word_count":523,"deleted_at":null,"user_id":394,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2092","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":9,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":5,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":394,"username":"dakilla","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":394,"username":"dakilla","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png"},"last_poster":{"id":394,"username":"dakilla","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/a87d85/{size}.png"}}}