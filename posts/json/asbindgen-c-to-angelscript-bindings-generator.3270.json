{"post_stream":{"posts":[{"id":18848,"name":"Konstantin Tomashevich","username":"KonstantTom","avatar_template":"/user_avatar/discourse.urho3d.io/konstanttom/{size}/203_2.png","created_at":"2017-06-19T10:43:54.675Z","cooked":"\u003cp\u003eHi!  IMHO, AngelScript bindings writing is so boring and trivial, but I couldn’t find tool for \u003cstrong\u003eautomatic\u003c/strong\u003e bindings generation. So I created tool for it myself. \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003ch2\u003eGitHub repository\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/KonstantinTomashevich/as-bind-gen\" rel=\"nofollow noopener\"\u003ehttps://github.com/KonstantinTomashevich/as-bind-gen\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eShort overview\u003c/h2\u003e\n\u003cp\u003eASBindGen is lua script (from several files). It reads project configuration from special file (\u003ca href=\"https://github.com/KonstantinTomashevich/as-bin-gen-sample-project/blob/master/ASBindGenConfiguration.lua.cmake\" rel=\"nofollow noopener\"\u003eexample file cmake template\u003c/a\u003e), then parses specified headers, then writes bindings for them. It \u003cstrong\u003edoesn’t\u003c/strong\u003e generates AST, parsing is ruled by special command-comments.\u003c/p\u003e\n\u003cp\u003eExample header:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e#pragma once\n#include \u0026lt;Urho3D/Core/Object.h\u0026gt;\n#include \u0026lt;SampleProject/SampleObject.hpp\u0026gt;\n\n//@ASBindGen Class ObjectType=Ref\nclass SampleContainer : public Urho3D::Object\n{\nURHO3D_OBJECT (SampleContainer, Object)\nprotected:\n    Urho3D::Vector \u0026lt;Urho3D::SharedPtr \u0026lt;SampleObject\u0026gt; \u0026gt; objects_;\n\npublic:\n    //@ASBindGen Constructor UseUrho3DScriptContext_arg0\n    SampleContainer (Urho3D::Context *context);\n    virtual ~SampleContainer ();\n\n    //@ASBindGen Function ReturnHandleArray\n        Urho3D::Vector \u0026lt;Urho3D::SharedPtr \u0026lt;SampleObject\u0026gt; \u0026gt; GetObjects () const;\n        //@ASBindGen Function OverrideName=get_objectsCount\n        unsigned GetObjectsCount () const;\n        //@ASBindGen Function AddRef_arg0\n        void AddObject (SampleObject *object);\n        //@ASBindGen Function AddRef_arg-1\n        SampleObject *GetObjectByIndex (unsigned index) const;\n        //@ASBindGen Function AddRef_arg0\n        bool RemoveObject (SampleObject *object);\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBindings code, generated from this header:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e#pragma once\n#include \u0026lt;Urho3D/AngelScript/Script.h\u0026gt;\n#include \u0026lt;Urho3D/ThirdParty/AngelScript/angelscript.h\u0026gt;\n#include \u0026lt;Urho3D/AngelScript/APITemplates.h\u0026gt;\n#include \u0026lt;SampleProject/SampleContainer.hpp\u0026gt;\n\nnamespace Bindings\n{\nSampleContainer * wrapper_SampleContainer_constructor ()\n{\n    return new SampleContainer (Urho3D::GetScriptContext ());\n}\n\nUrho3D::CScriptArray * wrapper_SampleContainer_GetObjects (SampleContainer* objectPtr)\n{\n    Urho3D::Vector \u0026lt;Urho3D::SharedPtr \u0026lt;SampleObject\u0026gt; \u0026gt; result = objectPtr-\u0026gt;GetObjects ();\n    return Urho3D::VectorToHandleArray \u0026lt;SampleObject\u0026gt; (result, \"Array \u0026lt;SampleObject @\u0026gt;\");\n}\n\ntemplate \u0026lt;class T\u0026gt; void RegisterSampleContainer (asIScriptEngine *engine, const char *className, bool registerConstructors)\n{\n    Urho3D::RegisterObject \u0026lt;T\u0026gt; (engine, className);\n\n    if (registerConstructors)\n        {\n\n            engine-\u0026gt;RegisterObjectBehaviour (className, asBEHAVE_FACTORY, (Urho3D::String (className) + \"@+ f ()\").CString (), asFUNCTION (wrapper_SampleContainer_constructor), asCALL_CDECL);\n        }\n\n        engine-\u0026gt;RegisterObjectMethod (className, \"Array \u0026lt;SampleObject @\u0026gt; @ GetObjects () const\", asFUNCTION (wrapper_SampleContainer_GetObjects), asCALL_CDECL_OBJFIRST);\n        engine-\u0026gt;RegisterObjectMethod (className, \"uint get_objectsCount () const\", asMETHOD (T, GetObjectsCount), asCALL_THISCALL);\n        engine-\u0026gt;RegisterObjectMethod (className, \"void AddObject (SampleObject @+ object) \", asMETHOD (T, AddObject), asCALL_THISCALL);\n        engine-\u0026gt;RegisterObjectMethod (className, \"SampleObject @+ GetObjectByIndex (uint index) const\", asMETHOD (T, GetObjectByIndex), asCALL_THISCALL);\n        engine-\u0026gt;RegisterObjectMethod (className, \"bool RemoveObject (SampleObject @+ object) \", asMETHOD (T, RemoveObject), asCALL_THISCALL);\n}\n\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAlso it generates bindings hub like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e#include \u0026lt;Urho3D/ThirdParty/AngelScript/angelscript.h\u0026gt;\n#include \u0026lt;Urho3D/AngelScript/APITemplates.h\u0026gt;\n#include \"Bindings.hpp\"\n#include \u0026lt;SampleProject/AngelScriptBindings/SampleContainer.hpp\u0026gt;\n#include \u0026lt;SampleProject/AngelScriptBindings/SampleObject.hpp\u0026gt;\n\nnamespace Bindings\n{\nvoid RegisterAnything (asIScriptEngine *engine)\n{\n    RegisterClassesForwardDeclarations (engine);\n    RegisterEnums (engine);\n    RegisterConstants (engine);\n    RegisterFreeFunctions (engine);\n    RegisterUrho3DSubsystems (engine);\n    RegisterClasses (engine);\n}\n\nvoid RegisterClassesForwardDeclarations (asIScriptEngine *engine)\n{\n    engine-\u0026gt;RegisterObjectType (\"SampleContainer\", 0, asOBJ_REF);\n    engine-\u0026gt;RegisterObjectType (\"SampleObject\", 0, asOBJ_REF);\n}\n\nvoid RegisterEnums (asIScriptEngine *engine)\n{\n}\n\nvoid RegisterConstants (asIScriptEngine *engine)\n{\n}\n\nvoid RegisterFreeFunctions (asIScriptEngine *engine)\n{\n}\n\nvoid RegisterUrho3DSubsystems (asIScriptEngine *engine)\n{\n}\n\nvoid RegisterClasses (asIScriptEngine *engine)\n{\n    RegisterSampleContainer \u0026lt;SampleContainer\u0026gt; (engine, \"SampleContainer\", true);\n    RegisterSampleObject \u0026lt;SampleObject\u0026gt; (engine, \"SampleObject\", true);\n}\n\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExample CMake project\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/KonstantinTomashevich/as-bin-gen-sample-project\" rel=\"nofollow noopener\"\u003ehttps://github.com/KonstantinTomashevich/as-bin-gen-sample-project\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAlso it perfectly works in my game:\u003cbr\u003e\n\u003ca href=\"https://github.com/KonstantinTomashevich/colonization\" rel=\"nofollow noopener\"\u003ehttps://github.com/KonstantinTomashevich/colonization\u003c/a\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-06-19T10:43:54.675Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":236,"reads":57,"readers_count":56,"score":1403.4,"yours":false,"topic_id":3270,"topic_slug":"asbindgen-c-to-angelscript-bindings-generator","display_username":"Konstantin Tomashevich","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/KonstantinTomashevich/as-bind-gen","internal":false,"reflection":false,"title":"GitHub - KonstantinTomashevich/as-bind-gen: Tool for C++ to AngelScript bindings generation. Oriented to work with Urho3D game engine.","clicks":41},{"url":"https://github.com/KonstantinTomashevich/colonization","internal":false,"reflection":false,"title":"GitHub - KonstantinTomashevich/colonization: [WIP] Multiplayer RTS game in colonization setting.","clicks":30},{"url":"https://github.com/KonstantinTomashevich/as-bin-gen-sample-project","internal":false,"reflection":false,"title":"GitHub - KonstantinTomashevich/as-bin-gen-sample-project: ASBindGen sample project. Illustrates simple bindings generation and use.","clicks":13},{"url":"https://github.com/KonstantinTomashevich/as-bin-gen-sample-project/blob/master/ASBindGenConfiguration.lua.cmake","internal":false,"reflection":false,"title":"as-bin-gen-sample-project/ASBindGenConfiguration.lua.cmake at master · KonstantinTomashevich/as-bin-gen-sample-project · GitHub","clicks":2},{"url":"https://discourse.urho3d.io/t/changes-in-urho3d-contribution-checklist/3722/14","internal":true,"reflection":true,"title":"Changes in Urho3D Contribution Checklist","clicks":1},{"url":"https://discourse.urho3d.io/t/script-binding-automation/5921/36","internal":true,"reflection":true,"title":"Script binding automation","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":9}],"moderator":false,"admin":false,"staff":false,"user_id":333,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":18934,"name":"","username":"coldev","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/73ab20/{size}.png","created_at":"2017-06-24T22:06:40.212Z","cooked":"\u003cp\u003ethanks for share nice asset\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-06-24T22:06:40.212Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":35,"readers_count":34,"score":12.0,"yours":false,"topic_id":3270,"topic_slug":"asbindgen-c-to-angelscript-bindings-generator","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":588,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[18848,18934]},"timeline_lookup":[[1,1983],[2,1977]],"suggested_topics":[{"id":7099,"title":":fallen_leaf: Polynomials \u0026 Harmonics","fancy_title":":fallen_leaf: Polynomials \u0026amp; Harmonics","slug":"polynomials-harmonics","posts_count":6,"reply_count":0,"highest_post_number":7,"image_url":null,"created_at":"2021-12-13T05:06:04.641Z","last_posted_at":"2021-12-27T23:27:39.489Z","bumped":true,"bumped_at":"2021-12-27T23:27:39.489Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🍂 Polynomials \u0026 Harmonics","tags_descriptions":{},"like_count":6,"views":392,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7103,"title":":test_tube: DebugRenderer as GUI","fancy_title":":test_tube: DebugRenderer as GUI","slug":"debugrenderer-as-gui","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-17T02:25:06.606Z","last_posted_at":"2021-12-18T01:09:27.738Z","bumped":true,"bumped_at":"2021-12-18T01:09:27.738Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"🧪 DebugRenderer as GUI","tags_descriptions":{},"like_count":4,"views":267,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7209,"title":"Need Compute Shader for Heightmap Normals Calculation","fancy_title":"Need Compute Shader for Heightmap Normals Calculation","slug":"need-compute-shader-for-heightmap-normals-calculation","posts_count":14,"reply_count":5,"highest_post_number":14,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/f/f3699392311fc006b02311f4ac539017ce2ba760.jpeg","created_at":"2022-02-26T04:46:13.776Z","last_posted_at":"2022-03-10T00:07:52.127Z","bumped":true,"bumped_at":"2022-03-10T00:07:52.127Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":410,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7224,"title":"\u003cemittertype value=\"Ring\" /\u003ewhat mean?and how to has this ring effect?","fancy_title":"\u0026lt;emittertype value=\u0026ldquo;Ring\u0026rdquo; /\u0026gt;what mean?and how to has this ring effect?","slug":"emittertype-value-ring-what-mean-and-how-to-has-this-ring-effect","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5e12d695b638d912650cd1fb0ca61d6f1db7658b.png","created_at":"2022-03-29T07:06:27.986Z","last_posted_at":"2022-03-31T10:56:19.908Z","bumped":true,"bumped_at":"2022-03-31T10:56:19.908Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":177,"category_id":14,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1503,"username":"tianlv777","name":"zerrrrr","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/a4c791/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7085,"title":"Blender 3 Asset Browser","fancy_title":"Blender 3 Asset Browser","slug":"blender-3-asset-browser","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2021-12-03T17:39:10.192Z","last_posted_at":"2021-12-03T17:39:10.252Z","bumped":true,"bumped_at":"2021-12-03T17:39:10.252Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":149,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]}],"tags_descriptions":{},"id":3270,"title":"ASBindGen (C++ To AngelScript Bindings Generator)","fancy_title":"ASBindGen (C++ To AngelScript Bindings Generator)","posts_count":2,"created_at":"2017-06-19T10:43:54.598Z","views":1199,"reply_count":0,"like_count":9,"last_posted_at":"2017-06-24T22:06:40.212Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"asbindgen-c-to-angelscript-bindings-generator","category_id":17,"word_count":462,"deleted_at":null,"user_id":333,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3270","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":2,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":333,"username":"KonstantTom","name":"Konstantin Tomashevich","avatar_template":"/user_avatar/discourse.urho3d.io/konstanttom/{size}/203_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":588,"username":"coldev","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/73ab20/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":333,"username":"KonstantTom","name":"Konstantin Tomashevich","avatar_template":"/user_avatar/discourse.urho3d.io/konstanttom/{size}/203_2.png"},"last_poster":{"id":588,"username":"coldev","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/73ab20/{size}.png"},"links":[{"url":"https://github.com/KonstantinTomashevich/as-bind-gen","title":"GitHub - KonstantinTomashevich/as-bind-gen: Tool for C++ to AngelScript bindings generation. Oriented to work with Urho3D game engine.","internal":false,"attachment":false,"reflection":false,"clicks":41,"user_id":333,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/KonstantinTomashevich/colonization","title":"GitHub - KonstantinTomashevich/colonization: [WIP] Multiplayer RTS game in colonization setting.","internal":false,"attachment":false,"reflection":false,"clicks":30,"user_id":333,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/KonstantinTomashevich/as-bin-gen-sample-project","title":"GitHub - KonstantinTomashevich/as-bin-gen-sample-project: ASBindGen sample project. Illustrates simple bindings generation and use.","internal":false,"attachment":false,"reflection":false,"clicks":13,"user_id":333,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/KonstantinTomashevich/as-bin-gen-sample-project/blob/master/ASBindGenConfiguration.lua.cmake","title":"as-bin-gen-sample-project/ASBindGenConfiguration.lua.cmake at master · KonstantinTomashevich/as-bin-gen-sample-project · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":333,"domain":"github.com","root_domain":"github.com"},{"url":"https://discourse.urho3d.io/t/changes-in-urho3d-contribution-checklist/3722/14","title":"Changes in Urho3D Contribution Checklist","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":333,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"}]}}