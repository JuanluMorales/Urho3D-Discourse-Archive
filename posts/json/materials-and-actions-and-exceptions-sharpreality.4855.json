{"post_stream":{"posts":[{"id":27582,"name":"","username":"I3DB","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png","created_at":"2019-01-23T22:55:49.815Z","cooked":"\u003cp\u003eIf I setup a box using:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evar boxNode = Node.CreateChild();\nvar box = boxNode.CreateComponent\u0026lt;Box\u0026gt;(CreateMode.Local);\nbox.ViewMask = (uint)Masks.Hidden;\nbox.Color = Color.Magenta; \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen call two actions on it\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eboxNode.RunActionsAsync(new FadeOut(2f));\nboxNode.RunActionsAsync(new TintTo(2f,Color.Next());\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis often, but not always, throws this exception:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eUnderlying native object was deleted for Handle=268256240. Material.SetShaderParameter\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThere are a couple items of interest that I observe.\u003cbr\u003e\nIf the boxNode.TintTo is called with no duration/delay, there is almost never an exception.\u003cbr\u003e\nThe boxNode.FadeIn, boxNode.FadeOut don‚Äôt recognize the new Color even with no exception, and upon invocation, the box reverts to the original color.\u003c/p\u003e\n\u003cp\u003eEven when the actions are called entirely separately (via time) and the box is tinted to an entirely different color, calling either fadein or fadeout will revert the box to its original color.\u003c/p\u003e\n\u003cp\u003eIt seems to me the TintTo sets a new material on the box, and FadeOut then throws the exception as the material it was using has been cleaned while the action was in progress.\u003c/p\u003e\n\u003cp\u003eThis thread is a new thread that arose from the \u003ca href=\"https://discourse.urho3d.io/t/is-the-resourcecache-known-to-be-buggy/4813/6\"\u003elast post on this previous thread\u003c/a\u003e, but it is a new topic so here is a new thread.\u003c/p\u003e\n\u003cp\u003eJust trying to figure out what‚Äôs happening, and to see if anyone who reads this might offer a clue, but can understand if no one does.\u003c/p\u003e\n\u003cp\u003eAnyway, it would seem to me there is an aggressive cleanup of materials occurring, too aggressive. In this case, I‚Äôm not sure how to handle it as I can‚Äôt manually control the material deletion without significant re-coding effort, and using code that makes it all much more messy. Alternatively to never ever use those actions nearby each other.\u003c/p\u003e\n\u003cp\u003eThe too aggressive cleanup, or the lack of reference detected by the cleanup mechanism, seems the issue here.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-01-23T22:55:49.815Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":15,"reads":23,"readers_count":22,"score":79.6,"yours":false,"topic_id":4855,"topic_slug":"materials-and-actions-and-exceptions-sharpreality","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/is-the-resourcecache-known-to-be-buggy/4813/6","internal":true,"reflection":false,"title":"Is the ResourceCache known to be buggy?","clicks":2}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1086,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[27582]},"timeline_lookup":[[1,1399]],"suggested_topics":[{"id":7185,"title":"Update Ray ray direction","fancy_title":"Update Ray ray direction","slug":"update-ray-ray-direction","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-02-05T00:28:45.414Z","last_posted_at":"2022-02-05T20:19:51.238Z","bumped":true,"bumped_at":"2022-02-05T20:19:51.238Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7087,"title":"Android how to get error message sometimes little change gives me just crash","fancy_title":"Android how to get error message sometimes little change gives me just crash","slug":"android-how-to-get-error-message-sometimes-little-change-gives-me-just-crash","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-05T16:59:59.376Z","last_posted_at":"2021-12-05T18:17:02.335Z","bumped":true,"bumped_at":"2021-12-05T18:17:02.335Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":153,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1436,"username":"Maco","name":"Maco","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/90ced4/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7181,"title":"StaticModelGroup - Are ShaderParameters Shared?","fancy_title":"StaticModelGroup - Are ShaderParameters Shared?","slug":"staticmodelgroup-are-shaderparameters-shared","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-02-02T09:31:19.658Z","last_posted_at":"2022-02-02T17:06:24.059Z","bumped":true,"bumped_at":"2022-02-02T17:06:24.059Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":120,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7200,"title":"Urho3D just building if I check \"use SHARED libraries\"","fancy_title":"Urho3D just building if I check \u0026ldquo;use SHARED libraries\u0026rdquo;","slug":"urho3d-just-building-if-i-check-use-shared-libraries","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-02-22T20:02:48.835Z","last_posted_at":"2022-02-23T15:38:33.698Z","bumped":true,"bumped_at":"2022-02-23T15:54:07.879Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":165,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]}],"tags_descriptions":{},"id":4855,"title":"Materials and Actions and Exceptions ... SharpReality","fancy_title":"Materials and Actions and Exceptions \u0026hellip; SharpReality","posts_count":1,"created_at":"2019-01-23T22:55:49.729Z","views":263,"reply_count":0,"like_count":0,"last_posted_at":"2019-01-23T22:55:49.815Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"materials-and-actions-and-exceptions-sharpreality","category_id":10,"word_count":328,"deleted_at":null,"user_id":1086,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_4855","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":1,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":1,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1086,"username":"I3DB","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1086,"username":"I3DB","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png"},"last_poster":{"id":1086,"username":"I3DB","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png"},"links":[{"url":"https://discourse.urho3d.io/t/is-the-resourcecache-known-to-be-buggy/4813/6","title":"Is the ResourceCache known to be buggy?","internal":true,"attachment":false,"reflection":false,"clicks":2,"user_id":1086,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"}]}}