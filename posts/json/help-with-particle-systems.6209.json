{"post_stream":{"posts":[{"id":37923,"name":"Bill Tschumy","username":"btschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","created_at":"2020-06-16T21:07:38.022Z","cooked":"\u003cp\u003eI am making slow progress moving an app I have written using Apple’s SceneKit to Urho3D.\u003c/p\u003e\n\u003cp\u003eI’m having problems getting particle systems to do the same thing in Urho3D as I do in SceneKit.\u003c/p\u003e\n\u003cp\u003eThe app is a visualization of our galaxy.  I use particle systems for the galactic bulge and the stars and duct that make up the disk.\u003c/p\u003e\n\u003cp\u003eThis movie shows what the app looks like in SceneKit.\u003cbr\u003e\n          \u003c/p\u003e\u003cdiv class=\"onebox video-onebox\"\u003e\n            \u003cvideo width=\"100%\" height=\"100%\" controls=\"\"\u003e\n              \u003csource src=\"http://www.otherwise.com/movies/OurGalaxy.mov\"\u003e\n              \u003ca href=\"http://www.otherwise.com/movies/OurGalaxy.mov\" rel=\"nofollow noopener\"\u003ehttp://www.otherwise.com/movies/OurGalaxy.mov\u003c/a\u003e\n            \u003c/video\u003e\n          \u003c/div\u003e\n\n\u003cp\u003eThis shows where I’m currently at in Urho3D.\u003cbr\u003e\n          \u003c/p\u003e\u003cdiv class=\"onebox video-onebox\"\u003e\n            \u003cvideo width=\"100%\" height=\"100%\" controls=\"\"\u003e\n              \u003csource src=\"http://www.otherwise.com/movies/OurGalaxyX.mov\"\u003e\n              \u003ca href=\"http://www.otherwise.com/movies/OurGalaxyX.mov\" rel=\"nofollow noopener\"\u003ehttp://www.otherwise.com/movies/OurGalaxyX.mov\u003c/a\u003e\n            \u003c/video\u003e\n          \u003c/div\u003e\n\n\u003cp\u003eI have several concerns (I can include any code upon request):\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eI don’t seem to be able to change the color or alpha of the particle system.  In the SceneKit version I change these thing subtly on the fly as you pan around.  As far as I can tell the ParticleEffect class doesn’t have a color property (although the documentation implies it does).\u003c/li\u003e\n\u003c/ol\u003e\n\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n\u003cp\u003eI’ve tried setting the “color” tag in the xml, but it has no effect.  If this worked, I could change the color and alpha as needed.\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e\n\u003cp\u003eIf you look at the Urho3D movie, obviously there is something wrong with the drawing order or the merging of the galaxy node and the bulge particle system.  Any thoughts on that?\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eI also need to be able to change the alpha of the galaxy node on the fly.  Is that possible?\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","post_number":1,"post_type":1,"updated_at":"2020-06-16T21:07:38.022Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":4,"reads":35,"readers_count":34,"score":27.0,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Bill Tschumy","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.otherwise.com/movies/OurGalaxy.mov","internal":false,"reflection":false,"clicks":0},{"url":"http://www.otherwise.com/movies/OurGalaxyX.mov","internal":false,"reflection":false,"clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1341,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37924,"name":"Bill Tschumy","username":"btschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","created_at":"2020-06-16T22:31:33.002Z","cooked":"\u003cp\u003eI did make progress on getting the coloring of the particle system working.  If I use DiffUnlitParticleAlpha.xml as the technique, then the color is used and I can get something close to what I need.\u003c/p\u003e\n\u003cp\u003eI am still having problems with the particles flickering in and out as I pan around.  Sometimes the PS is drawn fully behind the galaxy node and sometimes fully in front of it.  Any thoughts on how to fix?  Both node are using the default drawing order.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2020-06-16T22:31:33.002Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":34,"readers_count":33,"score":11.8,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Bill Tschumy","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1341,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37925,"name":"Pencheff","username":"Pencheff","avatar_template":"/user_avatar/discourse.urho3d.io/pencheff/{size}/259_2.png","created_at":"2020-06-16T22:35:16.338Z","cooked":"\u003cp\u003eYou can change the render order of the galaxy’s material to be always on top of other objects  - \u003ca href=\"https://discourse.urho3d.io/t/how-to-control-render-order/1240/4\" class=\"inline-onebox\"\u003eHow to control render order?\u003c/a\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2020-06-16T22:35:46.632Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":11,"reads":34,"readers_count":33,"score":61.8,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Pencheff","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/how-to-control-render-order/1240/4","internal":true,"reflection":false,"title":"How to control render order?","clicks":3}],"read":true,"user_title":null,"reply_to_user":{"username":"btschumy","name":"Bill Tschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":691,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37930,"name":"Bill Tschumy","username":"btschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","created_at":"2020-06-17T13:56:42.970Z","cooked":"\u003cp\u003eI don’t want them to be always “on top” or “behind”.  The galactic bulge is embedded in the disk of the galaxy.  Some parts need to be rendered in from and other parts behind.  I assume that if this were not a particle system, but say a textured ovoid, the two would be rendered correctly.  I will do that test in a bit to see.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2020-06-17T13:56:42.970Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":5.8,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Bill Tschumy","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1341,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37931,"name":"Bill Tschumy","username":"btschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","created_at":"2020-06-17T14:47:07.352Z","cooked":"\u003cp\u003eWell, I’m not even able to get a solid object to display correctly.  Here is the galaxyNode’s material.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;?xml version=\"1.0\"?\u0026gt;\n\u0026lt;material\u0026gt;\n    \u0026lt;technique name=\"Techniques/DiffUnlitAlpha.xml\" /\u0026gt;\n\t\u0026lt;texture unit=\"diffuse\" name=\"Textures/Galaxy-North.dds\" /\u0026gt;\n    \u0026lt;cull value = \"none\"/\u0026gt;\n\u0026lt;/material\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHere is the galacticBulge’s material:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?\u0026gt;\n\u0026lt;material\u0026gt;\n    \u0026lt;technique name=\"Techniques/DiffUnlit.xml\" /\u0026gt;\n    \u0026lt;texture unit=\"diffuse\" name=\"Textures/SolidColor.jpg\" /\u0026gt;\n    \u0026lt;cull value = \"none\"/\u0026gt;\n\u0026lt;/material\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI am not using a particle system here and just want to see if I can display a sphere embedded in the disk of the galaxy.  The sphere flickers with various parts either being drawn or not as I pan the view around.\u003c/p\u003e\n\u003cp\u003eSurely there is some secret sauce to make this work.  Can anyone help?\u003c/p\u003e\n\u003cp\u003eThanks.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2020-06-17T14:47:07.352Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":10.8,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Bill Tschumy","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1341,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37932,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2020-06-17T16:10:05.630Z","cooked":"\u003cp\u003eIt’s a problem with using transparency. When it renders, whichever one is closer to the camera will render first (based on the origin of the nose, I think), so when they overlap like you suggested one ends up in front of the other. If you need some particles in front and some behind I would suggest just having two particle emitters, one with a higher priority than the Galaxy and one with a lower priority. The other option I can think of that might work is to make every single particle have it’s own node, but that would probably be a lot slower. For your sphere, you can probably just force it to be drawn after the Galaxy and have the Galaxy write to the depth buffer (I don’t remember whether transparent materials do that by default or not - I think maybe the alpha mask ones do but there normal ones don’t).\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2020-06-17T16:10:05.630Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":26,"readers_count":25,"score":5.2,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"btschumy","name":"Bill Tschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37933,"name":"Bill Tschumy","username":"btschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","created_at":"2020-06-17T16:56:15.813Z","cooked":"\u003cp\u003eThanks for continuing to help me.\u003c/p\u003e\n\u003cp\u003eEven using a material without transparency, the sphere bisected by a plane doesn’t draw correctly.  In some orientations the sphere disappears completely even though half is in front of the plane.\u003c/p\u003e\n\u003cp\u003eI an using this material for both plane and sphere:\u003c/p\u003e\n\u0026lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?\u0026gt;\n\n    \n    \n    \n\n\u003cp\u003eI will try different Techniques, but I’ve tried a few already and none seem to work,\u003c/p\u003e\n\u003cp\u003eI’m obviously not a 3D game programmer, just a scientist.  Should this be that difficult?\u003c/p\u003e\n\u003cp\u003eHow do you have the galaxy (or plane) write to the depth buffer?\u003c/p\u003e\n\u003cp\u003eThanks.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2020-06-17T16:56:15.813Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":10.0,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Bill Tschumy","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1341,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37934,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2020-06-17T21:52:58.339Z","cooked":"\u003cp\u003eIs the plane set as an occluder or something? (Which may or may not cause your problem, but in any case) I don’t think what you describe should be happening. But also, I’m not sure that a completely empty material will actually do what you want (it may, but I’m not certain). In any case, when I tried with the following setup it worked fine, the sphere was always visible where it was in front of the plane and not visible where it was behind it.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eMaterials/Unlit.xml\u003c/em\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u0026lt;?xml version=\"1.0\"?\u0026gt;\n\u0026lt;material\u0026gt;\n\t\u0026lt;technique name=\"Techniques/NoTextureUnlit.xml\" quality=\"0\" loddistance=\"0\" /\u0026gt;\n\t\u0026lt;parameter name=\"UOffset\" value=\"1 0 0 0\" /\u0026gt;\n\t\u0026lt;parameter name=\"VOffset\" value=\"0 1 0 0\" /\u0026gt;\n\t\u0026lt;parameter name=\"MatDiffColor\" value=\"0.2 0.5 1 1\" /\u0026gt;\n\t\u0026lt;parameter name=\"MatEmissiveColor\" value=\"0 0 0\" /\u0026gt;\n\t\u0026lt;parameter name=\"MatEnvMapColor\" value=\"1 1 1\" /\u0026gt;\n\t\u0026lt;parameter name=\"MatSpecColor\" value=\"0 0 0 1\" /\u0026gt;\n\t\u0026lt;parameter name=\"Roughness\" value=\"0.5\" /\u0026gt;\n\t\u0026lt;parameter name=\"Metallic\" value=\"0\" /\u0026gt;\n\t\u0026lt;cull value=\"none\" /\u0026gt;\n\t\u0026lt;shadowcull value=\"none\" /\u0026gt;\n\t\u0026lt;fill value=\"solid\" /\u0026gt;\n\t\u0026lt;depthbias constant=\"0\" slopescaled=\"0\" /\u0026gt;\n\t\u0026lt;alphatocoverage enable=\"false\" /\u0026gt;\n\t\u0026lt;lineantialias enable=\"false\" /\u0026gt;\n\t\u0026lt;renderorder value=\"128\" /\u0026gt;\n\t\u0026lt;occlusion enable=\"false\" /\u0026gt;\n\u0026lt;/material\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cem\u003eMaterials/Unlit2.xml\u003c/em\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u0026lt;?xml version=\"1.0\"?\u0026gt;\n\u0026lt;material\u0026gt;\n\t\u0026lt;technique name=\"Techniques/NoTextureUnlit.xml\" quality=\"0\" loddistance=\"0\" /\u0026gt;\n\t\u0026lt;parameter name=\"UOffset\" value=\"1 0 0 0\" /\u0026gt;\n\t\u0026lt;parameter name=\"VOffset\" value=\"0 1 0 0\" /\u0026gt;\n\t\u0026lt;parameter name=\"MatDiffColor\" value=\"1 0.5 0 1\" /\u0026gt;\n\t\u0026lt;parameter name=\"MatEmissiveColor\" value=\"0 0 0\" /\u0026gt;\n\t\u0026lt;parameter name=\"MatEnvMapColor\" value=\"1 1 1\" /\u0026gt;\n\t\u0026lt;parameter name=\"MatSpecColor\" value=\"0 0 0 1\" /\u0026gt;\n\t\u0026lt;parameter name=\"Roughness\" value=\"0.5\" /\u0026gt;\n\t\u0026lt;parameter name=\"Metallic\" value=\"0\" /\u0026gt;\n\t\u0026lt;cull value=\"none\" /\u0026gt;\n\t\u0026lt;shadowcull value=\"none\" /\u0026gt;\n\t\u0026lt;fill value=\"solid\" /\u0026gt;\n\t\u0026lt;depthbias constant=\"0\" slopescaled=\"0\" /\u0026gt;\n\t\u0026lt;alphatocoverage enable=\"false\" /\u0026gt;\n\t\u0026lt;lineantialias enable=\"false\" /\u0026gt;\n\t\u0026lt;renderorder value=\"128\" /\u0026gt;\n\t\u0026lt;occlusion enable=\"false\" /\u0026gt;\n\u0026lt;/material\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cem\u003eScene.xml\u003c/em\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u0026lt;?xml version=\"1.0\"?\u0026gt;\n\u0026lt;scene id=\"1\"\u0026gt;\n\t\u0026lt;attribute name=\"Name\" value=\"\" /\u0026gt;\n\t\u0026lt;attribute name=\"Time Scale\" value=\"1\" /\u0026gt;\n\t\u0026lt;attribute name=\"Smoothing Constant\" value=\"50\" /\u0026gt;\n\t\u0026lt;attribute name=\"Snap Threshold\" value=\"5\" /\u0026gt;\n\t\u0026lt;attribute name=\"Elapsed Time\" value=\"0\" /\u0026gt;\n\t\u0026lt;attribute name=\"Next Replicated Node ID\" value=\"5\" /\u0026gt;\n\t\u0026lt;attribute name=\"Next Replicated Component ID\" value=\"6\" /\u0026gt;\n\t\u0026lt;attribute name=\"Next Local Node ID\" value=\"16777217\" /\u0026gt;\n\t\u0026lt;attribute name=\"Next Local Component ID\" value=\"16777228\" /\u0026gt;\n\t\u0026lt;attribute name=\"Variables\" /\u0026gt;\n\t\u0026lt;attribute name=\"Variable Names\" value=\"\" /\u0026gt;\n\t\u0026lt;component type=\"Octree\" id=\"1\" /\u0026gt;\n\t\u0026lt;component type=\"DebugRenderer\" id=\"2\" /\u0026gt;\n\t\u0026lt;node id=\"2\"\u0026gt;\n\t\t\u0026lt;attribute name=\"Is Enabled\" value=\"true\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Name\" value=\"\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Tags\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Position\" value=\"0 0 0\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Rotation\" value=\"1 0 0 0\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Scale\" value=\"1 1 1\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Variables\" /\u0026gt;\n\t\t\u0026lt;component type=\"AnimatedModel\" id=\"3\"\u0026gt;\n\t\t\t\u0026lt;attribute name=\"Model\" value=\"Model;Models/Sphere.mdl\" /\u0026gt;\n\t\t\t\u0026lt;attribute name=\"Material\" value=\"Material;Materials/Unlit.xml\" /\u0026gt;\n\t\t\t\u0026lt;attribute name=\"Animation States\"\u0026gt;\n\t\t\t\t\u0026lt;variant type=\"Int\" value=\"0\" /\u0026gt;\n\t\t\t\u0026lt;/attribute\u0026gt;\n\t\t\u0026lt;/component\u0026gt;\n\t\u0026lt;/node\u0026gt;\n\t\u0026lt;node id=\"3\"\u0026gt;\n\t\t\u0026lt;attribute name=\"Is Enabled\" value=\"true\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Name\" value=\"\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Tags\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Position\" value=\"0 3.35477 0\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Rotation\" value=\"1 0 0 0\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Scale\" value=\"1 1 1\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Variables\" /\u0026gt;\n\t\t\u0026lt;component type=\"Light\" id=\"4\"\u0026gt;\n\t\t\t\u0026lt;attribute name=\"Light Type\" value=\"Directional\" /\u0026gt;\n\t\t\u0026lt;/component\u0026gt;\n\t\u0026lt;/node\u0026gt;\n\t\u0026lt;node id=\"4\"\u0026gt;\n\t\t\u0026lt;attribute name=\"Is Enabled\" value=\"true\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Name\" value=\"\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Tags\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Position\" value=\"0 0 0\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Rotation\" value=\"1 0 0 0\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Scale\" value=\"10 10 10\" /\u0026gt;\n\t\t\u0026lt;attribute name=\"Variables\" /\u0026gt;\n\t\t\u0026lt;component type=\"StaticModel\" id=\"5\"\u0026gt;\n\t\t\t\u0026lt;attribute name=\"Model\" value=\"Model;Models/Plane.mdl\" /\u0026gt;\n\t\t\t\u0026lt;attribute name=\"Material\" value=\"Material;Materials/Unlit2.xml\" /\u0026gt;\n\t\t\u0026lt;/component\u0026gt;\n\t\u0026lt;/node\u0026gt;\n\u0026lt;/scene\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e","post_number":8,"post_type":1,"updated_at":"2020-06-17T21:53:37.689Z","reply_count":0,"reply_to_post_number":7,"quote_count":0,"incoming_link_count":1,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"btschumy","name":"Bill Tschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37936,"name":"Bill Tschumy","username":"btschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","created_at":"2020-06-17T22:22:32.540Z","cooked":"\u003cp\u003eI’ll look at what you did tomorrow and see if I can use it.\u003c/p\u003e\n\u003cp\u003eI did get it working with a solid sphere embedded in the plane.  Turns out most of my issues were do to using the iPhone simulator rather than a real device.  I installed it on a real device in order to make a screen recording, and to my surprise it worked there.  On the simulator, chunks of the sphere would come and go as I viewer the scene from different perspectives.\u003c/p\u003e\n\u003cp\u003eI still don’t have it working with an actual particle system, but maybe I’ll get it figure out tomorrow.  The particles are sometimes drawn with the transparent part as black and sometimes transparent, depending on the orientation.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2020-06-17T22:22:32.540Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Bill Tschumy","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1341,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37946,"name":"Bill Tschumy","username":"btschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","created_at":"2020-06-18T16:41:50.139Z","cooked":"\u003cp\u003eI think I’m getting close.  It is the case that I need to turn on “depthwrite” for the galaxy image and turn it off for the particle system.  If I turn on “depthwrite” for the PS, the clear parts are drawn black in some orientations.\u003c/p\u003e\n\u003cp\u003eSirNate0 was correct that there is a problem with having part of the particle system above the plane and part below.  With that configuration the particle system flickers in and out depending on the orientation.  If I move the PS to be totally above the plane then it works in all orientations.\u003c/p\u003e\n\u003cp\u003eI would show my Techniques and ParticleEffects but using Preformatted Text doesn’t seem to work.  The xml disappears in the rendered message.  SirNate, how do you do that?\u003c/p\u003e\n\u003cp\u003eSo now the question is how to split the particle system with half above the galaxy and half below.  I need a dome shape and the only shapes for the emitter is sphere or box.\u003c/p\u003e\n\u003cp\u003eI don’t really understand the emittersize and emitterradius elements in the particle effect file.  I have changed them to various values but they have no effect.  Right now I’m using a sphere and in the node I’ve attached the emitter to is scaled to make it ovoid (although it is not perfect).\u003c/p\u003e\n\u003cp\u003eIs there any way to get more control of the shape of the particle system?  How do I get half above and half below?\u003c/p\u003e\n\u003cp\u003eHere is what is is looking like currently:\u003cbr\u003e\n                    \u003ca href=\"http://www.otherwise.com/images/GalaxyX_Bulge.jpg\" target=\"_blank\" rel=\"nofollow noopener\" class=\"onebox\"\u003e\n            \u003cimg src=\"http://www.otherwise.com/images/GalaxyX_Bulge.jpg\" width=\"666\" height=\"500\"\u003e\n          \u003c/a\u003e\n\n\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2020-06-18T16:46:43.058Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":20,"readers_count":19,"score":9.0,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Bill Tschumy","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.otherwise.com/images/GalaxyX_Bulge.jpg","internal":false,"reflection":false,"title":"GalaxyX_Bulge.jpg","clicks":2}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1341,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37947,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2020-06-18T18:36:01.092Z","cooked":"\u003cp\u003eTo get the xml to show use three backticks (```) on either side of the code (line before and line after, or just one backtick to the left and right to do it `\u003ccode\u003einline\u003c/code\u003e`, and use a backslash \\ before the ` to actually write backticks). Some sites also allow specifying the type of code for syntax highlighting by putting a label at the very start after the backticks (e.g. ```cpp for c++code).\u003c/p\u003e\n\u003cp\u003eMy suggestion to get it to appear in both sides would be too have one PS sphere rendered before the galaxy (not writing to the depth buffer). Then render the galaxy (if it’s transparent you should then see some particles “behind” it). The Galaxy will write to the depth buffer (maybe using an alpha mask to get an oval shape). Lastly, render another sphere PS over the galaxy, testing against but not writing to the depth buffer to get the hemisphere “over” the galaxy.\u003c/p\u003e\n\u003cp\u003eThere may be more ways to control the particle system (I think someone came up with code to use model vertices as an emitter), but over all I would describe Urho’s particle system as pretty minimally featured. You may want to look into the integrations of the Spark particle engine, which may have more features.\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2020-06-18T18:37:22.728Z","reply_count":0,"reply_to_post_number":10,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":3.8,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"btschumy","name":"Bill Tschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37948,"name":"Bill Tschumy","username":"btschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","created_at":"2020-06-18T22:20:41.631Z","cooked":"\u003cp\u003eNate,\u003c/p\u003e\n\u003cp\u003eThanks again for the help.  It looks like it just works if you set the RenderOrder to draw the bulge particle system after the galaxy.  The galaxy is writing to the depth buffer but the PS doesn’t.  I don’t seem to need the two particle systems, but maybe I’ll find a flaw in this later.\u003c/p\u003e\n\u003cp\u003eHere is what I have:\u003cbr\u003e\n          \u003c/p\u003e\u003cdiv class=\"onebox video-onebox\"\u003e\n            \u003cvideo width=\"100%\" height=\"100%\" controls=\"\"\u003e\n              \u003csource src=\"http://www.otherwise.com/movies/OurGalaxyX_2.mov\"\u003e\n              \u003ca href=\"http://www.otherwise.com/movies/OurGalaxyX_2.mov\" rel=\"nofollow noopener\"\u003ehttp://www.otherwise.com/movies/OurGalaxyX_2.mov\u003c/a\u003e\n            \u003c/video\u003e\n          \u003c/div\u003e\n\n\u003cp\u003eThe bulge is a bit too much shaped like a capsule rather than a football, but maybe I can figure something out (or live with it).\u003c/p\u003e\n\u003cp\u003eMy next task is to try the particle systems for the dust and gas in the plane of the Galaxy.\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2020-06-18T22:20:41.631Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":18,"readers_count":17,"score":3.6,"yours":false,"topic_id":6209,"topic_slug":"help-with-particle-systems","display_username":"Bill Tschumy","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.otherwise.com/movies/OurGalaxyX_2.mov","internal":false,"reflection":false,"clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1341,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[37923,37924,37925,37930,37931,37932,37933,37934,37936,37946,37947,37948]},"timeline_lookup":[[1,889],[7,888],[11,887]],"suggested_topics":[{"id":7330,"title":"Is it Possible to Get New Bone Positions Directly After AnimationState.AddTime() Called?","fancy_title":"Is it Possible to Get New Bone Positions Directly After AnimationState.AddTime() Called?","slug":"is-it-possible-to-get-new-bone-positions-directly-after-animationstate-addtime-called","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-09-22T11:18:00.223Z","last_posted_at":"2022-09-22T13:40:17.428Z","bumped":true,"bumped_at":"2022-09-22T13:40:17.428Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":81,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}}]},{"id":7222,"title":"Crowdmanager navigation makes an inexplicable turn after reaching the position","fancy_title":"Crowdmanager navigation makes an inexplicable turn after reaching the position","slug":"crowdmanager-navigation-makes-an-inexplicable-turn-after-reaching-the-position","posts_count":9,"reply_count":6,"highest_post_number":9,"image_url":null,"created_at":"2022-03-21T09:44:00.801Z","last_posted_at":"2022-03-23T06:32:14.846Z","bumped":true,"bumped_at":"2022-03-23T06:32:14.846Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":176,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1503,"username":"tianlv777","name":"zerrrrr","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/a4c791/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7323,"title":"Missing 1.8 release change log?","fancy_title":"Missing 1.8 release change log?","slug":"missing-1-8-release-change-log","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2022-09-06T02:36:19.003Z","last_posted_at":"2022-09-06T11:11:09.921Z","bumped":true,"bumped_at":"2022-09-06T11:11:09.921Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":117,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1490,"username":"Sunc","name":"DoubleSuper","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/df788c/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7181,"title":"StaticModelGroup - Are ShaderParameters Shared?","fancy_title":"StaticModelGroup - Are ShaderParameters Shared?","slug":"staticmodelgroup-are-shaderparameters-shared","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-02-02T09:31:19.658Z","last_posted_at":"2022-02-02T17:06:24.059Z","bumped":true,"bumped_at":"2022-02-02T17:06:24.059Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":120,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7210,"title":"Shadow Map Coverage Skewed to the Side","fancy_title":"Shadow Map Coverage Skewed to the Side","slug":"shadow-map-coverage-skewed-to-the-side","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/640dc6184f3d70ce00e656555c22db772ea941a4_2_1024x545.jpeg","created_at":"2022-02-28T15:02:02.662Z","last_posted_at":"2022-03-06T04:51:22.096Z","bumped":true,"bumped_at":"2022-03-06T04:51:22.096Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":211,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]}],"tags_descriptions":{},"id":6209,"title":"Help with particle systems","fancy_title":"Help with particle systems","posts_count":12,"created_at":"2020-06-16T21:07:37.941Z","views":467,"reply_count":4,"like_count":0,"last_posted_at":"2020-06-18T22:20:41.631Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"help-with-particle-systems","category_id":7,"word_count":2233,"deleted_at":null,"user_id":1341,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6209","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":12,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1341,"username":"btschumy","name":"Bill Tschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png","post_count":8,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":691,"username":"Pencheff","name":"Pencheff","avatar_template":"/user_avatar/discourse.urho3d.io/pencheff/{size}/259_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1341,"username":"btschumy","name":"Bill Tschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png"},"last_poster":{"id":1341,"username":"btschumy","name":"Bill Tschumy","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/ee7513/{size}.png"},"links":[{"url":"https://discourse.urho3d.io/t/how-to-control-render-order/1240/4","title":"How to control render order?","internal":true,"attachment":false,"reflection":false,"clicks":3,"user_id":691,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"}]}}