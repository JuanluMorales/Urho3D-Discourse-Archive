{"post_stream":{"posts":[{"id":6048,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2015-05-06T23:43:00.000Z","cooked":"\u003cp\u003eI’ve been working on implementing a procedural sky I’d like to share when completed (maybe a tutorial), but being a noob at some of this, I’m still missing some thing(s).\u003c/p\u003e\n\u003cp\u003eA technique I’m currently using uses multiple cubemaps as layers - sky, sunlight, sun, etc. The faces are rendered by quad to named rendertargets (‘auxiliary views’ with no camera/scene), which should be sampled later by ‘inner’ cubes. Then I have a Skybox sample that and render to the camera/scene view.\u003c/p\u003e\n\u003cp\u003eThe problem seems to be that nothing is rendered to the quads.\u003c/p\u003e\n\u003cp\u003eHere’s part of the setup for one cube.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003etexCube_.SetSize(128, Graphics::GetRGBAFormat(), TEXTURE_RENDERTARGET);\nString name = \"texcube\";\nString textureName = \"viewport\"; // other cubes use named rendertargets\n\nfor (unsigned i = 0; i \u0026lt; MAX_CUBEMAP_FACES; ++i) {\n  RenderTargetInfo rti;\n  rti.name = name + String(i);\n  rti.tag_ = name;\n  rti.filtered_ = true;\n  rti.persistent_ = true;\n  rti.size_ = Vector2(128, 128);\n  rti.format_ = Graphics::GetRGBAFormat();\n  renderPath-\u0026gt;AddRenderTarget(rti);\n\n  RenderPathCommand rpc;\n  rpc.tag_ = name;\n  rpc.type_ = CMD_QUAD;\n  rpc.pass_ = \"base\";\n  rpc.vertexShadername = \"renderface\";\n  rpc.pixelShadername = \"renderface\";\n  rpc.outputNames_.Push(name + String(i));\n\n  if (textureName != \"viewport\") {\n    textureName += String(i); // sequential \n  }\n  rpc.textureNames_[TU_DIFFUSE] = textureName;\n  renderPath-\u0026gt;AddCommand(rpc);\n\n  RenderSurface* surf = texCube_.GetRenderSurface((CubeMapFace)i);\n  SharedPtr\u0026lt;Viewport\u0026gt; vp(new Viewport(context_, NULL, NULL, renderPath));\n  surf-\u0026gt;SetViewport(0, vp);\n\n  surf-\u0026gt;SetUpdateMode(SURFACE_UPDATEALWAYS); // manual later\n//etc\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eGrateful for any advice.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:05:03.175Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":260,"reads":22,"readers_count":21,"score":1304.4,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6054,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-07T08:06:23.000Z","cooked":"\u003cp\u003eThe renderpath doesn’t currently support rendering a QUAD command to a named texture cubemap face (only 2D textures), so right now you should actually setup the individual cubemap faces as true auxiliary views (similar to the RenderToTexture example) with their own renderpaths, in which case a specific face of the cubemap is referred to as the “viewport” final target surface. This is inconvenient, so the possibility should be added.\u003c/p\u003e\n\u003cp\u003eNote also that if you want the renderpath to find the named texture you have explicitly created in the code, you must add it to the resource cache as a manual resource. This is not necessary if it’s the “viewport” target surface we’re talking about, as that is specified by the Viewport.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:05:03.571Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":165,"reads":24,"readers_count":23,"score":829.8,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6067,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-07T18:56:16.000Z","cooked":"\u003cp\u003eI’m working on a branch “renderpath-cubemap” which improves the flexibility of the renderpath. Using that branch, renderpaths can define cubemap rendertargets, can refer to programmatically created rendertarget textures stored as manual resources (by name) and can set the output face in commands. I cannot guarantee 100% that it will  be merged before next release, as it carries a risk of breaking something.\u003c/p\u003e\n\u003cp\u003eUsing this branch, you could setup a dynamic skybox as follows (AngelScript example, this just demonstrates CLEAR commands for all faces added in the current renderpath, but any command should naturally work)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e    TextureCube@ texCube = TextureCube();\n    texCube.name = \"DynamicSky\";\n    cache.AddManualResource(texCube); // To allow the texture to be found by View to use as a rendertarget\n    texCube.SetSize(256, GetRGBAFormat(), TEXTURE_RENDERTARGET);\n    skybox.materials[0].textures[0] = texCube;\n\n    for (int i = 0; i \u0026lt; 6; ++i)\n    {\n        RenderPathCommand cmd;\n        cmd.type = CMD_CLEAR;\n        cmd.clearFlags = CLEAR_COLOR;\n        cmd.clearColor = Color(Random(), Random(), Random());\n        cmd.SetOutput(0, \"DynamicSky\", CubeMapFace(i)); // This is a new function, sets output name and face at the same time\n        renderer.viewports[0].renderPath.InsertCommand(i, cmd);\n    }\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAlternatively you could setup the dynamic sky render purely in renderpath xml (this requires a sky material that actually does not set the diffuse texture, as it’s set globally for the postopaque pass, but that’s somewhat unreliable so I wouldn’t necessarily recommend it)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u0026lt;renderpath\u0026gt;\n    \u0026lt;rendertarget name=\"sky\" cubemap=\"true\" size=\"128 128\" format=\"rgb\" /\u0026gt;\n    \u0026lt;command type=\"clear\" output=\"sky\" face=\"0\" color=\"1 0 0 1\" /\u0026gt;\n    \u0026lt;command type=\"clear\" output=\"sky\" face=\"1\" color=\"0 1 0 1\" /\u0026gt;\n    \u0026lt;command type=\"clear\" output=\"sky\" face=\"2\" color=\"0 0 1 1\" /\u0026gt;\n    \u0026lt;command type=\"clear\" output=\"sky\" face=\"3\" color=\"1 1 0 1\" /\u0026gt;\n    \u0026lt;command type=\"clear\" output=\"sky\" face=\"4\" color=\"0 1 1 1\" /\u0026gt;\n    \u0026lt;command type=\"clear\" output=\"sky\" face=\"5\" color=\"1 0 1 1\" /\u0026gt;\n    \u0026lt;command type=\"clear\" color=\"fog\" depth=\"1.0\" stencil=\"0\" /\u0026gt;\n    \u0026lt;command type=\"scenepass\" pass=\"base\" vertexlights=\"true\" metadata=\"base\" /\u0026gt;\n    \u0026lt;command type=\"forwardlights\" pass=\"light\" /\u0026gt;\n    \u0026lt;command type=\"scenepass\" pass=\"postopaque\"\u0026gt;\n        \u0026lt;texture unit=\"diffuse\" name=\"sky\" /\u0026gt;\n    \u0026lt;/command\u0026gt;\n    \u0026lt;command type=\"scenepass\" pass=\"alpha\" vertexlights=\"true\" sort=\"backtofront\" metadata=\"alpha\" /\u0026gt;\n    \u0026lt;command type=\"scenepass\" pass=\"postalpha\" sort=\"backtofront\" /\u0026gt;\n\u0026lt;/renderpath\u0026gt;\u003c/code\u003e\u003c/pre\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:05:04.495Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":4,"reads":23,"readers_count":22,"score":69.6,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6070,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2015-05-07T22:17:41.000Z","cooked":"\u003cp\u003eYet another feature added before we can even start simple workarounds.  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e   Much appreciated, as well as your explanations.\u003cbr\u003e\nAlready using the branch so I expect to be doing some testing.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:05:04.696Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6077,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-08T09:43:07.000Z","cooked":"\u003cp\u003eThe branch has been merged to the master, as there were other RenderPath fixes and shader changes as well, so just need testing.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:05:05.206Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":21,"readers_count":20,"score":9.2,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6235,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2015-05-25T04:51:21.000Z","cooked":"\u003cp\u003eMaybe a lost cause, but worth asking if at a glance someone can see how this could be setup in Urho?\u003cbr\u003e\n\u003ca href=\"https://github.com/pyalot/WebGL-City-SSAO/tree/master/sky\"\u003egithub.com/pyalot/WebGL-City-SS … master/sky\u003c/a\u003e\u003cbr\u003e\ncubemap impl \u003ca href=\"https://github.com/pyalot/WebGL-City-SSAO/blob/master/glee/cubemap.js\"\u003egithub.com/pyalot/WebGL-City-SS … cubemap.js\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI have multiple TextureCubes, some of different size, whose faces are rendered by a bunch of quad commands in ‘base’ pass. For performance, these would be updated manually.\u003cbr\u003e\nOne cube is assigned to the Material of a normal Skybox rendered in the postopaque scenepass.\u003c/p\u003e\n\u003cp\u003eHere is an orthographic with ‘clear’ colors used\u003cbr\u003e\n\u003ca href=\"http://ctrlv.in/579081\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://img.ctrlv.in/img/15/05/25/5562a6d03ed68.jpg\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eSeems that the renders are not scaled to the destination textures (which I guess is expected - only viewport?).\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:05:16.828Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/pyalot/WebGL-City-SSAO/tree/master/sky","internal":false,"reflection":false,"title":"WebGL-City-SSAO/sky at master · pyalot/WebGL-City-SSAO · GitHub","clicks":4},{"url":"https://github.com/pyalot/WebGL-City-SSAO/blob/master/glee/cubemap.js","internal":false,"reflection":false,"title":"WebGL-City-SSAO/cubemap.js at master · pyalot/WebGL-City-SSAO · GitHub","clicks":1},{"url":"http://ctrlv.in/579081","internal":false,"reflection":false,"title":"Image #579081 - CtrlV.in Image Hosting","clicks":0}],"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6236,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-25T07:37:40.000Z","cooked":"\u003cp\u003eCan you show the renderpath you have now?\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:05:16.917Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":20,"readers_count":19,"score":4.0,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6238,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2015-05-25T09:33:02.000Z","cooked":"\u003cp\u003eI’m generating the renderpath commands programmatically as shown below; here is a dump.\u003cbr\u003e\n0-6 are the standard Forward.\u003cbr\u003e\n(The image in my last post is with command outputs set to the ‘display’ texcube)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e0 tag= type=CMD_CLEAR pass= vs= ps= vsd= psd= texNames[0]= outputs=viewport/face=0\n1 tag= type=CMD_SCENEPASS pass=base vs= ps= vsd= psd= texNames[0]= outputs=viewport/face=0\n2 tag= type=CMD_FORWARDLIGHTS pass=light vs= ps= vsd= psd= texNames[0]= outputs=viewport/face=0\n3 tag= type=CMD_SCENEPASS pass=postopaque vs= ps= vsd= psd= texNames[0]= outputs=viewport/face=0\n4 tag= type=CMD_SCENEPASS pass=refract vs= ps= vsd= psd= texNames[0]= outputs=viewport/face=0\n5 tag= type=CMD_SCENEPASS pass=alpha vs= ps= vsd= psd= texNames[0]= outputs=viewport/face=0\n6 tag= type=CMD_SCENEPASS pass=postalpha vs= ps= vsd= psd= texNames[0]= outputs=viewport/face=0\n7 tag=clear type=CMD_CLEAR pass=base vs= ps= vsd= psd= texNames[0]= outputs=display/face=0\n8 tag=display type=CMD_QUAD pass=base vs=display ps=display vsd= psd= texNames[0]= outputs=display/face=0\n10 tag=clear type=CMD_CLEAR pass=base vs= ps= vsd= psd= texNames[0]= outputs=display/face=1\n11 tag=display type=CMD_QUAD pass=base vs=display ps=display vsd= psd= texNames[0]= outputs=display/face=1\n13 tag=clear type=CMD_CLEAR pass=base vs= ps= vsd= psd= texNames[0]= outputs=display/face=2\n14 tag=display type=CMD_QUAD pass=base vs=display ps=display vsd= psd= texNames[0]= outputs=display/face=2\n...\n113 tag=diffuse_sun type=CMD_QUAD pass=base vs=cubemap_convolve ps=cubemap_convolve vsd= psd= texNames[0]=level3 outputs=diffuse_sun/face=5\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e// ... AddManualResource(texCube)...\n\nfor (unsigned i = 0; i \u0026lt; MAX_CUBEMAP_FACES; ++i) {\n  // [conditionally add clear command]\n\n  RenderPathCommand cmd;\n  cmd.tag_ = name_;\n  cmd.type_ = CMD_QUAD;\n  cmd.sortMode_ = SORT_BACKTOFRONT;\n  cmd.pass_ = \"base\";\n  cmd.vertexShaderName_ = params[\"vs\"].GetString();\n  cmd.pixelShaderName_ = params[\"ps\"].GetString();\n  Vector\u0026lt;String\u0026gt; outputs = params[\"outputs\"].GetString().Split(';');\n  for (auto j = outputs.Begin(); j != outputs.End(); ++j) {\n    if (!(*j).Empty()) { cmd.outputs_.Push(MakePair(*j, (CubeMapFace)i)); }\n  }\n  cmd.textureNames_[TU_DIFFUSE] = params[\"textures\"].GetString();\n  cmd.shaderParameters_ = shaderParameters_;\n  cmd.enabled_ = true;\n  rPath_-\u0026gt;AddCommand(cmd); // main renderpath\n}\u003c/code\u003e\u003c/pre\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:05:17.050Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":21,"readers_count":20,"score":14.2,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6239,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-25T10:11:07.000Z","cooked":"\u003cp\u003eThanks. Will have to check the viewport size determination logic, or if that can’t be easily fixed, allow viewport to be set explicitly in renderpath commands.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:05:17.124Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":3.8,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6252,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-25T22:35:07.000Z","cooked":"\u003cp\u003eThere was a bug; the backbuffer’s viewport was being used even when rendering to some other rendertarget. Should be fixed in the master branch now. It was undetectable as long as the other texture was smaller or equal in size to the backbuffer.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2017-01-02T01:05:18.127Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":20,"readers_count":19,"score":4.0,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6253,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2015-05-26T01:03:55.000Z","cooked":"\u003cp\u003eI updated but do not notice a change from the posted image.\u003c/p\u003e\n\u003cp\u003eAlso, if I declare RenderTargets with or without AddManualResource, all outputs are black, even clears:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003erti.name_ = name_;\nrti.cubemap_ = true;\nrti.filtered_ = filtered;\nrti.persistent_ = persistent;\nrti.size_ = Vector2(size, size);\nrti.format_ = Graphics::GetRGBAFormat();\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eRenderTarget 0 name=display format=6408 size=128 enabled=1 cubemap=1 filtered=1 persistent=1\nRenderTarget 1 name=irradiance_sun format=6408 size=128 enabled=1 cubemap=1 filtered=0 persistent=1\nRenderTarget 2 name=level1 format=6408 size=64 enabled=1 cubemap=1 filtered=0 persistent=1\nRenderTarget 3 name=level2 format=6408 size=32 enabled=1 cubemap=1 filtered=0 persistent=1\nRenderTarget 4 name=level3 format=6408 size=16 enabled=1 cubemap=1 filtered=0 persistent=1\nRenderTarget 5 name=diffuse_sun format=6408 size=16 enabled=1 cubemap=1 filtered=1 persistent=1\n\u003c/code\u003e\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2017-01-02T01:05:18.184Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":19,"readers_count":18,"score":8.8,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6264,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-26T10:44:14.000Z","cooked":"\u003cp\u003eCan you post some sort of complete or mostly complete test application that shows the problem? Doesn’t need your custom shaders, just using clear commands should be enough to showcase the problem.\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2017-01-02T01:05:18.996Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":18,"readers_count":17,"score":3.6,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6279,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2015-05-26T23:22:26.000Z","cooked":"\u003cp\u003eThanks, your PM shed some light on things.\u003cbr\u003e\nUsing MRT scales to only the first target - noted (I don’t need MRT, just used to see the textures at all).\u003c/p\u003e\n\u003cp\u003eThe shaders seem to be only writing the clear and test colors, but I can hunt down uniform problems myself.\u003c/p\u003e\n\u003cp\u003eThe main question I still have is how the cubemaps can be drawn “over” each other with alpha, when only a couple actually do any sampling.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2017-01-02T01:05:20.167Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":3.4,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6284,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-27T07:18:05.000Z","cooked":"\u003cp\u003eTo sample the previous passes’ cubemaps, set them as texture inputs in quad commands outputting to another cubemap.\u003c/p\u003e\n\u003cp\u003eAs there currently is no blend mode for the QUAD command, you need to set all needed inputs (for one cubemap target) at once and do the blending manually in shader. That will probably be better for performance than hardware blending via multipass, if you’re able to do that. However adding blendmode to quads should not be hard.\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2017-01-02T01:05:20.540Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":3.4,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6317,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-05-28T14:01:02.000Z","cooked":"\u003cp\u003eBlend mode has been added to QUAD commands in the renderpath (default = replace).\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2017-01-02T01:05:22.908Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":16,"readers_count":15,"score":3.2,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6318,"name":"Justin Miller","username":"jmiller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","created_at":"2015-05-28T17:59:45.000Z","cooked":"\u003cp\u003eWow, this is convenient - thanks again. I think we can say Urho3D has excellent cubemap support  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/sunglasses.png?v=5\" title=\":sunglasses:\" class=\"emoji\" alt=\":sunglasses:\"\u003e\u003c/p\u003e","post_number":16,"post_type":1,"updated_at":"2017-01-02T01:05:22.968Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":17,"readers_count":16,"score":3.4,"yours":false,"topic_id":1048,"topic_slug":"texturecube-rendering-questions","display_username":"Justin Miller","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":21,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[6048,6054,6067,6070,6077,6235,6236,6238,6239,6252,6253,6264,6279,6284,6317,6318]},"timeline_lookup":[[1,2757],[3,2756],[6,2739],[10,2738],[13,2737],[15,2736],[16,2735]],"suggested_topics":[{"id":7086,"title":"Handling CrowdAgents that get stuck","fancy_title":"Handling CrowdAgents that get stuck","slug":"handling-crowdagents-that-get-stuck","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2021-12-04T01:26:23.062Z","last_posted_at":"2021-12-05T04:37:54.143Z","bumped":true,"bumped_at":"2021-12-05T04:37:54.143Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":137,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7179,"title":"Need help with cusomized PBR renderpath","fancy_title":"Need help with cusomized PBR renderpath","slug":"need-help-with-cusomized-pbr-renderpath","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-02-01T09:04:58.692Z","last_posted_at":"2022-02-03T17:35:34.174Z","bumped":true,"bumped_at":"2022-02-03T17:35:34.174Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":13,"views":205,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7181,"title":"StaticModelGroup - Are ShaderParameters Shared?","fancy_title":"StaticModelGroup - Are ShaderParameters Shared?","slug":"staticmodelgroup-are-shaderparameters-shared","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-02-02T09:31:19.658Z","last_posted_at":"2022-02-02T17:06:24.059Z","bumped":true,"bumped_at":"2022-02-02T17:06:24.059Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":120,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7185,"title":"Update Ray ray direction","fancy_title":"Update Ray ray direction","slug":"update-ray-ray-direction","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-02-05T00:28:45.414Z","last_posted_at":"2022-02-05T20:19:51.238Z","bumped":true,"bumped_at":"2022-02-05T20:19:51.238Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":1048,"title":"TextureCube rendering questions","fancy_title":"TextureCube rendering questions","posts_count":16,"created_at":"2015-05-06T23:43:00.000Z","views":705,"reply_count":0,"like_count":1,"last_posted_at":"2015-05-28T17:59:45.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"texturecube-rendering-questions","category_id":10,"word_count":1720,"deleted_at":null,"user_id":21,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1048","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":16,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":9,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":21,"username":"jmiller","name":"Justin Miller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png","post_count":7,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":3}],"created_by":{"id":21,"username":"jmiller","name":"Justin Miller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png"},"last_poster":{"id":21,"username":"jmiller","name":"Justin Miller","avatar_template":"/user_avatar/discourse.urho3d.io/jmiller/{size}/2367_2.png"},"links":[{"url":"https://github.com/pyalot/WebGL-City-SSAO/tree/master/sky","title":"WebGL-City-SSAO/sky at master · pyalot/WebGL-City-SSAO · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":21,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/pyalot/WebGL-City-SSAO/blob/master/glee/cubemap.js","title":"WebGL-City-SSAO/cubemap.js at master · pyalot/WebGL-City-SSAO · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":21,"domain":"github.com","root_domain":"github.com"}]}}