{"post_stream":{"posts":[{"id":5355,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-14T17:16:41.000Z","cooked":"\u003cp\u003eI am planning on making a mesh combiner to make rendering even faster by combining models and having them all become a much bigger model…  To do this I clearly will need to be able to select a single “sub-texture” from a big texture that serves as a texture map with UV coordinates.  But I am not sure how I can do this because the Urho3D api doesn’t allow setting start and end UV texture coordinates.\u003c/p\u003e\n\u003cp\u003eMaterials have this function: \tSetUVTransform (const Vector2 \u0026amp;offset, float rotation, float repeat)\u003c/p\u003e\n\u003cp\u003ebut this doesn’t seem like enough… Maybe I just missed something…\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:04:10.610Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":330,"reads":53,"readers_count":52,"score":1675.6,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5358,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2015-03-14T18:22:27.000Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003emesh combiner to make rendering even faster by combining models\u003cbr\u003e\nI think that the some kind of StaticInstasing with pack all static geometry into one VertexBuffer on engine start is good feature for urho in future add, but today the better way I think to reduce count of batches is - manually\u003cbr\u003e\ndo:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col\u003e\n\u003cli\u003eblocking base of level.\u003c/li\u003e\n\u003cli\u003efind or define the static group’s of objects that have an some shared textures, similar texture parts\u003c/li\u003e\n\u003cli\u003efor each of this groups do join textures into one big texture\u003c/li\u003e\n\u003cli\u003emanually merge static mesh in 3d editor with same material into one mesh\u003c/li\u003e\n\u003cli\u003eadjust uv offset\u003cbr\u003e\nthis give you one renderer batch and not several\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003ethere is in urho also exist the StaticMeshGroup for some kind of instancing many objects at one time but it no reduce batches count\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:04:10.797Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":6,"reads":54,"readers_count":53,"score":40.8,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5361,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-14T20:44:17.000Z","cooked":"\u003cp\u003eYou are totally right about that.  In a tool like blender, it would be much easier.  Although, I am planning on making a minecraft cloned designed from the ground up to be modded.  So I cannot premerge any models or textures as they are added at runtime.   \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/confused.png?v=5\" title=\":confused:\" class=\"emoji\" alt=\":confused:\"\u003e\u003c/p\u003e\n\u003cp\u003eI have made some progress on UV texture mapping.  In the UV function I mentioned before the function sets two shader parameters to specify the mapping after doing some matrix math (I don’t really know any matrix math atm).\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e    SetShaderParameter(\"UOffset\", Vector4(transform.m00_, transform.m01_, transform.m02_, transform.m03_));\n    SetShaderParameter(\"VOffset\", Vector4(transform.m10_, transform.m11_, transform.m12_, transform.m13_));\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eUnder default mapping the values are:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e        SetShaderParameter(\"UOffset\", Vector4(1.0f, 0.0f, 0.0f, 0.0f));\n        SetShaderParameter(\"VOffset\", Vector4(0.0f, 1.0f, 0.0f, 0.0f));\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eSummary of my testing for what each value means:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e        SetShaderParameter(\"UOffset\", Vector4(/* how many time repeated x dir */, /* skewing */, /* idk */, /* x offset */));\n        SetShaderParameter(\"VOffset\", Vector4(/* how many time repeated y dir */, /* skewing */, /* idk */, /* y offset */));\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eI think I can figure it out know. \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:04:10.991Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":4,"reads":49,"readers_count":48,"score":29.8,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5367,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2015-03-14T21:25:26.000Z","cooked":"\u003cp\u003eI guess that binding then material for each cube with other uv-offsets is very expensive tech\u003cbr\u003e\nbetter you must think about tech that uses one material binding pre draw all chunks of cubes on the world map\u003cbr\u003e\nI think you need doing some calculation to fill vertexbuffer based on camera view, and then you fill VB you just set some UV-offset in vertexes for cube (choice texture in texture-atlas based on cube type).\u003c/p\u003e\n\u003cp\u003esimplified render\u003c/p\u003e\n\u003cp\u003e-bind texture (static data)\u003cbr\u003e\n-bind shader (most time static parameters)\u003cbr\u003e\n(texture + shader = material in urho terms )\u003c/p\u003e\n\u003cp\u003e-bind vertex buffer with a chunk of cubes 8\u003cem\u003e8 or 16\u003c/em\u003e16… (this data calculate each frame)\u003cbr\u003e\ndraw()\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:04:11.419Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":8,"reads":43,"readers_count":42,"score":48.6,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5368,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-14T22:01:14.000Z","cooked":"\u003cp\u003eI don’t think I am understanding you… are you essentially saying that I should have one material per entire chunk mesh?\u003c/p\u003e\n\u003cp\u003eThis is what I was planning on doing but the only way I can see that this can be done is if the mesh of each block in the chunk is combined to make one big chunk mesh and then the material is assigned.  So the next thing I am going to do is create a texture class that represents a map of textures.  Then I will make a mesh+texture combiner.\u003c/p\u003e\n\u003cp\u003eIs this pretty much what you were saying?  If you have a better/easier idea I definately would love to hear it!  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003cp\u003eEDIT: Marking this solved becase my original question was answered.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:04:11.480Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":3,"reads":36,"readers_count":35,"score":22.2,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5369,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2015-03-14T22:52:05.000Z","cooked":"\u003cp\u003eyes, even more so - for the whole world )\u003cbr\u003e\none texture one material one uber-shader and several dynamic VB with all information(stored in free FFP field) that need in shader to draw all cubes as you needed.\u003cbr\u003e\nYou can even try to use the free std vertex fields for doing selection technique of shading in the own custom shader.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf you have a better/easier idea I definately would love to hear it! \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003cbr\u003e\nno i’m do not had any other easier idea.\u003c/p\u003e\n\u003c/blockquote\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:04:11.551Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":36,"readers_count":35,"score":12.2,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5370,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-15T00:35:14.000Z","cooked":"\u003cp\u003eHmmm as much as I really would like to do the entire world (in fact I was planning on doing just that for a while) I realized just how slow updating a chunk would be… Any time a block is added or removed the chunk mesh will need to be updated and the larger it is the slower the update will be…\u003c/p\u003e\n\u003cp\u003eBut \u003cspan class=\"bbcode-i\"\u003emaybe\u003c/span\u003e I can have a smart update that will only update the portion of the mesh that has been changed.  That would probably be much quicker.  IDK I will see if I can make it work.  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=5\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"\u003e\u003c/p\u003e\n\u003cp\u003eBut you are totally right.  If I can render the entire world in one draw…  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/astonished.png?v=5\" title=\":astonished:\" class=\"emoji\" alt=\":astonished:\"\u003e   That would be so fast! Wow!\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:04:11.611Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":34,"readers_count":33,"score":6.8,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5371,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-15T00:59:34.000Z","cooked":"\u003cp\u003eHmmm back on topic for the feature request section…\u003c/p\u003e\n\u003cp\u003eThe first UV modification line doesn’t do the same thing as the second two… but shouldn’t they be equivalent?  Is this a bug?\u003c/p\u003e\n\u003cp\u003e[code]        Vector2 start(0.5f,0.5f);\u003cbr\u003e\nVector2 end(1.0f,1.0f);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    Vector2 offset = start;\n    Vector2 repeat = end - start;\n\n    // this doesn't do the same thing as the next two statements together...\n    mat-\u0026gt;SetUVTransform(offset, 0, repeat);\n\n    mat-\u0026gt;SetShaderParameter(\"UOffset\", Vector4(repeat.x_, 0.0f, 0.0f, offset.x_));\n    mat-\u0026gt;SetShaderParameter(\"VOffset\", Vector4(0.0f, repeat.y_, 0.0f, offset.y_));[/code]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf this isn’t a bug can we add a function to specify the start and end UV coordinates as a pecentage from 0.0f to 1.0f?\u003c/p\u003e\n\u003cp\u003eSomething like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u003c/code\u003e\u003c/pre\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:04:11.681Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":3,"reads":36,"readers_count":35,"score":22.2,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5497,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-23T01:12:47.000Z","cooked":"\u003cp\u003e[quote=“Sinoid”]I’m having a really tough time following what you’re saying versus what you appear to mean?\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eI realized just how slow updating a chunk would be... Any time a block is added or removed the chunk mesh will need to be updated and the larger it is the slower the update will be...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHow big are your chunks? Updating a 32x32x16 chunk (size I used when doing one of these) of voxels should be instant and as long as you “suspend” updates so that you aren’t building updates for every single block change when doing a flood-fill / ray / radius / etc change to the blocks.[/quote]\u003c/p\u003e\n\u003cp\u003eIf the entire world were one “big” chunk like we were talking about and the update algorithm generated a new from scratch each world mesh generation then the larger the world the longer it would to generate the mesh…  Yes I do know that typically voxels engines divide the world into chunks.  I will be doing a version of this.\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n Sinoid:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eHow are you constructing your voxels? It sounds like you’re using cube models? You should be constructing an entire mesh, no inside faces, etc.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eHeck no!   \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/astonished.png?v=5\" title=\":astonished:\" class=\"emoji\" alt=\":astonished:\"\u003e  That would be bad idea for sure!  For the basic block there will be 31 possible meshes that will represent one block  (2^6 - 1 one for each possible combination of sides of the block missing but minus one to remove the case where there are no sides.)  Sides will be removed that are not displayed and each cube mesh will be combined with neighbouring cube meshes in the entire chunk (or maybe the entire world if I can figure out a nice way to do it)  That way there is only one draw call per chunk or the entire world.\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n Sinoid:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eNo, just update the whole chunk - the most clever thing that’s worth considering is using greedy meshing which will be slower to update the whole mesh\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIn this context I wasn’t talking about chunks I was talking about the entire world.  Generating a new mesh for the entire world on each new block placed/removed would be a really bad idea and it would be screamingly slow especially when there are millions of total blocks.\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n Sinoid:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eYou wouldn’t use SetUVTransform in the case of merging meshes as that’s a material attribute and I’m assuming that by merging meshes you mean combining all vertex/index data into one and merging the textures into an atlas. \u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eHmmm you are totally right.   \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/confused.png?v=5\" title=\":confused:\" class=\"emoji\" alt=\":confused:\"\u003e   I wonder how I didn’t see this at first… Setting the shader variable sets it for the entire material so it won’t work.  So how would I modify the texture coords of a sub mesh so that the same material is used?  Any help would be really appreciated!  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:04:20.994Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":34,"readers_count":33,"score":6.8,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5498,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-23T05:54:08.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n Sinoid:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eDo you have a Github repository (or someplace else) that contains your voxel code?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eNo I don’t… Not sure why that would be very important though… I just need some way to set the texture coords of different verities of a mesh.  I can probably take it from there.  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=5\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"\u003e   When I was using Irrlicht (BTW don’t use Irrlicht to make a game.  It is a bad idea and a waste of time.  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/angry.png?v=5\" title=\":angry:\" class=\"emoji\" alt=\":angry:\"\u003e ) it was pretty simple to do this.  What about Urho3D?  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003cp\u003eI have already written a program that can pack rectangles in a bigger rectangle (for making one big texture): \u003ca href=\"https://github.com/GoogleBot42/StripPacking\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003ehttps://github.com/GoogleBot42/StripPacking\u003c/a\u003e  It may not be the cleanest but it works great. (I just finished it so that will happen later) \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"\u003e\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2017-01-02T01:04:21.076Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":27,"readers_count":26,"score":5.4,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/GoogleBot42/StripPacking","internal":false,"reflection":false,"clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5517,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-24T04:33:21.000Z","cooked":"\u003cp\u003eI found this: \u003ca href=\"http://discourse.urho3d.io/t/solved-how-to-create-mesh/35/1\" data-bbcode=\"true\"\u003ehttp://discourse.urho3d.io/t/solved-how-to-create-mesh/35/1\u003c/a\u003e  I got it working!  The only thing is that light doesn’t seem to work… I am sure it is something simple.  Any thoughts?\u003c/p\u003e\n\u003cp\u003eHere is the modified code from the post linked above for those who want to see. \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003cp\u003e[code]    float dirLightVertexData[] =\u003cbr\u003e\n{\u003cbr\u003e\n-1, 1, 0,   0, 0,\u003cbr\u003e\n1, 1, 0,    0.5f, 0,\u003cbr\u003e\n1, -1, 0,   0.5f, 0.5f,\u003cbr\u003e\n-1, -1, 0,  0, 0.5f,\u003cbr\u003e\n};\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eunsigned short dirLightIndexData[] =\n{\n0, 1, 2,\n2, 3, 0,\n};\n\nSharedPtr\u0026lt;VertexBuffer\u0026gt; dlvb(new VertexBuffer(context_));\ndlvb-\u0026gt;SetShadowed(true);\ndlvb-\u0026gt;SetSize(4, MASK_POSITION | MASK_TEXCOORD1);\ndlvb-\u0026gt;SetData(dirLightVertexData);\n\nSharedPtr\u0026lt;IndexBuffer\u0026gt; dlib(new IndexBuffer(context_));\ndlib-\u0026gt;SetShadowed(true);\ndlib-\u0026gt;SetSize(6, false);\ndlib-\u0026gt;SetData(dirLightIndexData);\n\nGeometry *dirLightGeometry_ = new Geometry(context_);\ndirLightGeometry_-\u0026gt;SetVertexBuffer(0, dlvb);\ndirLightGeometry_-\u0026gt;SetIndexBuffer(dlib);\ndirLightGeometry_-\u0026gt;SetDrawRange(TRIANGLE_LIST, 0, dlib-\u0026gt;GetIndexCount());\n\nSharedPtr\u0026lt;Model\u0026gt; testModel(new Model(context_));\nVector\u0026lt;SharedPtr\u0026lt;VertexBuffer\u0026gt; \u0026gt; dlvbVector;\nVector\u0026lt;SharedPtr\u0026lt;IndexBuffer\u0026gt; \u0026gt; dlibVector;\ndlvbVector.Push(dlvb);\ndlibVector.Push(dlib);\ntestModel-\u0026gt;SetNumGeometries(1);\ntestModel-\u0026gt;SetNumGeometryLodLevels(0, 1);\ntestModel-\u0026gt;SetGeometry(0, 0, dirLightGeometry_);\n\n// Define the model buffers and bounding box\nPODVector\u0026lt;unsigned\u0026gt; emptyMorphRange;\ntestModel-\u0026gt;SetVertexBuffers(dlvbVector, emptyMorphRange, emptyMorphRange);\ntestModel-\u0026gt;SetIndexBuffers(dlibVector);\n//testModel-\u0026gt;SetBoundingBox(BoundingBox(Vector3(-1.0f, -1.0f, 0.0f), Vector3(1.0f, 1.0f, 0.0f)));\n\nNode* testnodea = scene_-\u0026gt;CreateChild(\"testasdasd\");\nStaticModel* testObjecta = testnodea-\u0026gt;CreateComponent\u0026lt;StaticModel\u0026gt;();\ntestObjecta-\u0026gt;SetModel(testModel);\n\nMaterial* mat = new Material(context_);\nmat-\u0026gt;SetNumTechniques(1);\nmat-\u0026gt;SetTechnique(0, cache-\u0026gt;GetResource\u0026lt;Technique\u0026gt;(\"Techniques/Diff.xml\") );\nTexture* tex = cache-\u0026gt;GetResource\u0026lt;Texture2D\u0026gt;(\"Textures/BlueOre.png\");\ntex-\u0026gt;SetFilterMode(FILTER_NEAREST);\nmat-\u0026gt;SetTexture(TU_DIFFUSE, tex);\n\ntestObjecta-\u0026gt;SetMaterial(0,mat);[/code]\u003c/code\u003e\u003c/pre\u003e","post_number":11,"post_type":1,"updated_at":"2017-01-02T01:04:22.463Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":27,"readers_count":26,"score":5.4,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://discourse.urho3d.io/t/solved-how-to-create-mesh/35","internal":true,"reflection":false,"title":"[SOLVED] how to create mesh","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":5570,"name":"","username":"GoogleBot42","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","created_at":"2015-03-27T01:32:26.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n Sinoid:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eProbably just need to add vertex normals for the lighting to use, same deal as you did for tex coords. With hard-voxels like minecraft you’d all four verts of each face will share the same normal.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eYeah I figured it out a while ago… I was just too lazy to post here about it. \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=5\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"\u003e (plus i wanted to avoid a triple post \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=5\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\"\u003e)\u003c/p\u003e\n\u003cp\u003eCustomGeometery components are much easier it turns out…\u003c/p\u003e\n\u003cp\u003e[code]        customGeo-\u0026gt;DefineGeometry(0, TRIANGLE_LIST, 6, true, false, true, false);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    CustomGeometryVertex* ver;\n\n    ver = customGeo-\u0026gt;GetVertex(0,0);\n    ver-\u0026gt;position_ = Vector2::ZERO;\n    ver-\u0026gt;normal_ = Vector3::BACK;\n    ver-\u0026gt;texCoord_ = Vector2::UP;\n\n    ver = customGeo-\u0026gt;GetVertex(0,1);\n    ver-\u0026gt;position_ = Vector2::UP;\n    ver-\u0026gt;normal_ = Vector3::BACK;\n    ver-\u0026gt;texCoord_ = Vector2::ZERO;\n\n    memcpy(customGeo-\u0026gt;GetVertex(0,4),ver,sizeof(CustomGeometryVertex));\n\n    ver = customGeo-\u0026gt;GetVertex(0,2);\n    ver-\u0026gt;position_ = Vector2::RIGHT;\n    ver-\u0026gt;normal_ = Vector3::BACK;\n    ver-\u0026gt;texCoord_ = Vector2::ONE;\n\n    memcpy(customGeo-\u0026gt;GetVertex(0,3),ver,sizeof(CustomGeometryVertex));\n\n    ver = customGeo-\u0026gt;GetVertex(0,5);\n    ver-\u0026gt;position_ = Vector2::ONE;\n    ver-\u0026gt;normal_ = Vector3::BACK;\n    ver-\u0026gt;texCoord_ = Vector2::RIGHT;\n\n    customGeo-\u0026gt;Commit();[/code]\u003c/code\u003e\u003c/pre\u003e","post_number":12,"post_type":1,"updated_at":"2017-01-02T01:04:26.357Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":2,"reads":25,"readers_count":24,"score":15.0,"yours":false,"topic_id":932,"topic_slug":"uv-texture-mapping","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":197,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[5355,5358,5361,5367,5368,5369,5370,5371,5497,5498,5517,5570]},"timeline_lookup":[[1,2810],[9,2802],[11,2801],[12,2798]],"suggested_topics":[{"id":7112,"title":"What is the proper way to add more source files(.cpp and .h) to a project?","fancy_title":"What is the proper way to add more source files(.cpp and .h) to a project?","slug":"what-is-the-proper-way-to-add-more-source-files-cpp-and-h-to-a-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-27T18:18:21.946Z","last_posted_at":"2021-12-28T12:19:43.514Z","bumped":true,"bumped_at":"2021-12-28T12:19:43.514Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":195,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1498,"username":"Tryout","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/85f322/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7120,"title":"Log Error Once Macro","fancy_title":"Log Error Once Macro","slug":"log-error-once-macro","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-04T02:24:37.857Z","last_posted_at":"2022-01-04T02:24:37.925Z","bumped":true,"bumped_at":"2022-01-04T02:24:37.925Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":143,"category_id":13,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7186,"title":"Best way to do Blob Shadows in Urho","fancy_title":"Best way to do Blob Shadows in Urho","slug":"best-way-to-do-blob-shadows-in-urho","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/22e3dc1892512375cae09bf84fd92071a1ae27d8.png","created_at":"2022-02-05T04:59:31.388Z","last_posted_at":"2022-02-05T13:29:22.054Z","bumped":true,"bumped_at":"2022-02-05T13:31:44.299Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":179,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7213,"title":"Urho3D reads data wrong","fancy_title":"Urho3D reads data wrong","slug":"urho3d-reads-data-wrong","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":null,"created_at":"2022-03-08T21:13:42.180Z","last_posted_at":"2022-05-13T01:26:46.126Z","bumped":true,"bumped_at":"2022-05-13T01:26:46.126Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":228,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1507,"username":"Kest","name":"Kest","avatar_template":"/user_avatar/discourse.urho3d.io/kest/{size}/3734_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7284,"title":"[Solved] Moving a Navigation Mesh","fancy_title":"[Solved] Moving a Navigation Mesh","slug":"solved-moving-a-navigation-mesh","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-06-20T20:10:14.786Z","last_posted_at":"2022-06-21T21:25:22.088Z","bumped":true,"bumped_at":"2022-06-21T21:25:22.088Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":138,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":1228,"username":"PsychoCircuitry","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/p/a9a28c/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]}],"tags_descriptions":{},"id":932,"title":"UV Texture Mapping","fancy_title":"UV Texture Mapping","posts_count":12,"created_at":"2015-03-14T17:16:41.000Z","views":1476,"reply_count":0,"like_count":1,"last_posted_at":"2015-03-27T01:32:26.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"uv-texture-mapping","category_id":11,"word_count":2071,"deleted_at":null,"user_id":197,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_932","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":12,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":197,"username":"GoogleBot42","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png","post_count":9,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":197,"username":"GoogleBot42","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png"},"last_poster":{"id":197,"username":"GoogleBot42","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/googlebot42/{size}/62_2.png"},"links":[{"url":"https://github.com/GoogleBot42/StripPacking","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":197,"domain":"github.com","root_domain":"github.com"}]}}