{"post_stream":{"posts":[{"id":4209,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2015-01-19T18:33:46.000Z","cooked":"\u003cp\u003eHi folks!\u003cbr\u003e\nI trying to create something like hitBox for my BigBot and it’s work with visible other static geometry in hitBox-node, but if i turn off static model it not work.\u003cbr\u003e\nnode still have Collision Shape \u0026amp; Rigidbody but raycast with (DRAWABLE_ANY) return false.\u003c/p\u003e\n\u003cp\u003ehitBox is a child-node of some bone in Skeleton\u003cbr\u003e\nit has Rigidbody(mass 0) and CollisionShape(Capsule shape) and StaticModel with std : Cylinder model\u003cbr\u003e\nalso i’m set var for this node “tag” with value “hitbox” for Raycast sorting\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003ebool Character::RaycastAnyByTag(String tag, float maxDistance, Vector3\u0026amp; hitPos, Vector3\u0026amp; hitNormal, Drawable*\u0026amp; hitDrawable) \n{\n\thitDrawable = 0;\n\tNode* gunNode_ = nodeGuns_-\u0026gt;GetChild(\"JointFireFx\", true);\n\tRay gunRay = Ray(gunNode_-\u0026gt;GetWorldPosition(), nodeGuns_-\u0026gt;GetWorldDirection());\n\tPODVector\u0026lt;RayQueryResult\u0026gt; results;\n\tRayOctreeQuery query(results, gunRay, RAY_TRIANGLE, maxDistance, DRAWABLE_ANY, -1); // all\n\t//RayOctreeQuery query(results, gunRay, RAY_TRIANGLE, maxDistance, DRAWABLE_GEOMETRY, 191); // all except 7 bit (layer for fx)\n\n\tOctree* octree = GetScene()-\u0026gt;GetComponent\u0026lt;Octree\u0026gt;();\n\toctree-\u0026gt;Raycast(query);\n\n\tif (results.Size())\n\t{\n\t\tfor (unsigned int i = 0; i \u0026lt; results.Size(); i++)\n\t\t{\n\t\t\tRayQueryResult\u0026amp; result = results[i];\n\n\t\t\tVariant fx = result.node_-\u0026gt;GetVar(\"tag\");\n\t\t\tif (fx.GetString() != tag) continue;\n\n\t\t\thitPos = result.position_;\n\t\t\thitNormal = result.normal_;\n\t\t\thitDrawable = result.drawable_;\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ein this video as first static model is - on ( hitBox - works), then i turn off it from view (and hitBox not work).\u003cbr\u003e\n[video]\u003ca href=\"http://www.youtube.com/watch?v=JvVnHyX8zso%5B/video%5D\"\u003ehttp://www.youtube.com/watch?v=JvVnHyX8zso[/video]\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003emaybe i’m doing something wrong, but how to make hitBox without visible shapes / model for hit ?\u003cbr\u003e\nIs it possible use for Raycast only CollisionShape w Rigidbody ?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:02:46.494Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":541,"reads":48,"readers_count":47,"score":2716.6,"yours":false,"topic_id":768,"topic_slug":"solved-how-to-do-raycast-for-hitbox-node","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.youtube.com/watch?v=JvVnHyX8zso%5B/video%5D","internal":false,"reflection":false,"title":"Urho3D Raycast Drawable with and without StaticModel in hitBox","clicks":20}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4215,"name":"","username":"devrich","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/ba9def/{size}.png","created_at":"2015-01-20T07:18:22.000Z","cooked":"\u003cp\u003eI agree with you that there should be a way to do it and I hope someone explains how \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003cp\u003eHowever for a cheap work-around; you could use 100% transparent texture for any mesh/sub-mesh you want to be invisible…  My only concern on this work-around would be if shadows would ignore the invisiblly-textured sub-meshes or if they would be shown from or on them as if they were non-transparent textured?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:02:46.997Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":43,"readers_count":42,"score":13.6,"yours":false,"topic_id":768,"topic_slug":"solved-how-to-do-raycast-for-hitbox-node","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":188,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4216,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-01-20T12:16:37.000Z","cooked":"\u003cp\u003eAnimatedModel raycast already supports returning the hit bone index in the subObject variable of the raycast result, so you should not need to create new (drawable) components for bone hitboxes. The bone bounding boxes are automatically generated from skinned geometry, but you could adjust them if necessary (access Bone from Skeleton from AnimatedModel)\u003c/p\u003e\n\u003cp\u003eWhen you have RigidBody / CollisionShape components in the bone node, you can also choose to use PhysicsWorld raycast instead of Octree raycast; in this case the raycast is not depending on drawables at all but only checks against physics shapes.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:02:47.066Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":7,"reads":43,"readers_count":42,"score":43.6,"yours":false,"topic_id":768,"topic_slug":"solved-how-to-do-raycast-for-hitbox-node","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4222,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2015-01-20T14:04:52.000Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eyou can also choose to use PhysicsWorld raycast instead of Octree raycast\u003cbr\u003e\nThank’s guys!\u003cbr\u003e\nI added to character the opportunity to let the rays through the physical world.\u003cbr\u003e\nNow, all works without any fully-aplha transparent objects on the back of the robot )\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003ebool Character::PhysicRaycastRigidBodyByNodeTag(String tag, float maxDistance, Vector3\u0026amp; hitPos, Vector3\u0026amp; hitNormal, Node*\u0026amp; hitNode)\n{\n\thitNode = NULL;\n\thitPos = Vector3::ZERO;\n\thitNormal = Vector3::ZERO;\n\n\tPhysicsWorld* pw = GetScene()-\u0026gt;GetComponent\u0026lt;PhysicsWorld\u0026gt;();\n\n\tNode* gunNode_ = nodeGuns_-\u0026gt;GetChild(\"JointFireFx\", true);\n\tRay gunRay = Ray(gunNode_-\u0026gt;GetWorldPosition(), nodeGuns_-\u0026gt;GetWorldDirection());\n\tPhysicsRaycastResult result;\n\t\n\tpw-\u0026gt;RaycastSingle(result, gunRay, maxDistance);\n\n\tif (result.body_) {\n\t\tNode* parentNode = result.body_-\u0026gt;GetNode();\n\n\t\tif (parentNode) {\n\t\t\tVariant v = parentNode-\u0026gt;GetVar(\"tag\");\n\t\t\tif (v.GetString() == tag) \n\t\t\t{\n\t\t\t\thitPos = result.position_;\n\t\t\t\thitNormal = result.normal_;\n\t\t\t\thitNode = parentNode;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn false;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eyou could use 100% transparent texture for any mesh/sub-mesh you want to be invisible\u003cbr\u003e\nYes, I tried so those: NoTextureAlpha with MatDiffColor (1,1,1) and alpha (0.0f) it also work but it consume fillrate of gpu for non-visible things )\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eif they would be shown from or on them as if they were non-transparent textured?\u003cbr\u003e\nI think if you turn off all the shadow masks, shadows will not be visible from this invisible object.\u003cbr\u003e\nThat’s what I did before disabled all  shadows mask and other masks of static model.\u003c/p\u003e\n\u003c/blockquote\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:02:47.506Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":12,"reads":38,"readers_count":37,"score":67.6,"yours":false,"topic_id":768,"topic_slug":"solved-how-to-do-raycast-for-hitbox-node","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":4223,"name":"","username":"devrich","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/ba9def/{size}.png","created_at":"2015-01-20T14:54:25.000Z","cooked":"\u003cp\u003e[quote=“codingmonkey”]\u0026gt;you could use 100% transparent texture for any mesh/sub-mesh you want to be invisible\u003cbr\u003e\nYes, I tried so those: NoTextureAlpha with MatDiffColor (1,1,1) and alpha (0.0f) it also work but it consume fillrate of gpu for non-visible things )[/quote]\u003c/p\u003e\n\u003cp\u003eAhhhh i didn’t think about the fillrate, I’ll have to keep that in mind thanks for that  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/smiley.png?v=5\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"\u003e\u003c/p\u003e\n\u003cp\u003e[quote=“codingmonkey”]\u0026gt; if they would be shown from or on them as if they were non-transparent textured?\u003cbr\u003e\nI think if you turn off all the shadow masks, shadows will not be visible from this invisible object.\u003cbr\u003e\nThat’s what I did before disabled all  shadows mask and other masks of static model.[/quote]\u003c/p\u003e\n\u003cp\u003eThanks for that too, I’m still getting used to how Urho3D works compared to other engines I have used  \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:02:47.570Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":2,"reads":30,"readers_count":29,"score":16.0,"yours":false,"topic_id":768,"topic_slug":"solved-how-to-do-raycast-for-hitbox-node","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":188,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[4209,4215,4216,4222,4223]},"timeline_lookup":[[1,2864]],"suggested_topics":[{"id":7083,"title":"Using custom models in Xamarin.Forms shared project","fancy_title":"Using custom models in Xamarin.Forms shared project","slug":"using-custom-models-in-xamarin-forms-shared-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-03T08:34:21.895Z","last_posted_at":"2021-12-03T11:40:30.983Z","bumped":true,"bumped_at":"2021-12-03T11:40:30.983Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":198,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1493,"username":"Nikolai","name":"Nikolai Miroshnichenko","avatar_template":"/user_avatar/discourse.urho3d.io/nikolai/{size}/3632_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7129,"title":"Best Model Import Pipeline as of Jan 2022?","fancy_title":"Best Model Import Pipeline as of Jan 2022?","slug":"best-model-import-pipeline-as-of-jan-2022","posts_count":7,"reply_count":0,"highest_post_number":7,"image_url":null,"created_at":"2022-01-17T09:27:23.432Z","last_posted_at":"2022-01-17T20:37:59.458Z","bumped":true,"bumped_at":"2022-01-17T20:37:59.458Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":170,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}}]},{"id":7176,"title":"Orthographic scene slowing down when zooming out","fancy_title":"Orthographic scene slowing down when zooming out","slug":"orthographic-scene-slowing-down-when-zooming-out","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-30T10:05:50.218Z","last_posted_at":"2022-01-30T10:05:50.294Z","bumped":true,"bumped_at":"2022-01-30T10:05:50.294Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":127,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1351,"username":"Haukinger","name":"Haukinger","avatar_template":"/user_avatar/discourse.urho3d.io/haukinger/{size}/3670_2.png"}}]},{"id":7178,"title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","fancy_title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","slug":"medium-quality-technique-for-semi-reflective-specular-glass-in-urho","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/51408fe152ba02eb8b92237cc9a9411c8ee922e6.jpeg","created_at":"2022-01-31T22:57:50.134Z","last_posted_at":"2022-02-01T04:32:37.418Z","bumped":true,"bumped_at":"2022-02-01T04:32:37.418Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":154,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]}],"tags_descriptions":{},"id":768,"title":"[SOLVED] How to do Raycast for hitBox-node?","fancy_title":"[SOLVED] How to do Raycast for hitBox-node?","posts_count":5,"created_at":"2015-01-19T18:33:46.000Z","views":1138,"reply_count":0,"like_count":0,"last_posted_at":"2015-01-20T14:54:25.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"solved-how-to-do-raycast-for-hitbox-node","category_id":10,"word_count":779,"deleted_at":null,"user_id":148,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_768","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":188,"username":"devrich","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/ba9def/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2}],"created_by":{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"},"last_poster":{"id":188,"username":"devrich","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/ba9def/{size}.png"},"links":[{"url":"http://www.youtube.com/watch?v=JvVnHyX8zso%5B/video%5D","title":"Urho3D Raycast Drawable with and without StaticModel in hitBox","internal":false,"attachment":false,"reflection":false,"clicks":20,"user_id":148,"domain":"www.youtube.com","root_domain":"youtube.com"}]}}