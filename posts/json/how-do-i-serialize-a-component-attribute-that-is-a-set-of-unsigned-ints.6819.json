{"post_stream":{"posts":[{"id":42479,"name":"","username":"Batch","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/f17d59/{size}.png","created_at":"2021-04-20T00:32:59.571Z","cooked":"\u003cp\u003eI have a Component that has a member of type set\u0026lt;unsigned int\u0026gt; which holds a bunch of Component IDs from the scene. I’m trying to serialize this such that I can use the Scene’s SaveXML() and LoadXML() functions, but I’m not having any luck figuring out how to get the macros to work. It seems that they rely on Variant having an operator=(const set\u0026lt;unsigned int\u0026gt;\u0026amp; rhs) which it doesn’t, and I can’t figure out how to add it.\u003c/p\u003e\n\u003cp\u003eHow do I serialize attributes that are of a type Variant wont accept? Thanks.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2021-04-20T00:36:44.147Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":6819,"topic_slug":"how-do-i-serialize-a-component-attribute-that-is-a-set-of-unsigned-ints","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1447,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42481,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2021-04-20T02:06:33.357Z","cooked":"\u003cp\u003eHello, welcome to the forum!\u003c/p\u003e\n\u003cp\u003eI’m not certain there is a way to serialize other types directly that aren’t supported by Variant. It might be possible now with the addition of support for user types in Variant, but I haven’t done anything with that so I’m not sure.\u003c/p\u003e\n\u003cp\u003eIn any case, since node IDs can change when loading the scene (refer to the Scene resolver class for how this works) you may need to convert to a VariantVector containing a series of unsigned integers for your serialization. I think it is possible to write an accessor that would do the conversion for you. Make sure you mark the attribute as AM_NODEIDVECTOR so the IDs are converted properly though.\u003c/p\u003e\n\u003cp\u003eIf you need more help feel free to ask, though I’m not sure I specifically could provide that much more assistance.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-04-20T02:06:33.357Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":6819,"topic_slug":"how-do-i-serialize-a-component-attribute-that-is-a-set-of-unsigned-ints","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42482,"name":"","username":"Batch","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/f17d59/{size}.png","created_at":"2021-04-20T02:37:19.783Z","cooked":"\u003cp\u003eThere doesn’t seem to be any way to add custom types to Variant that can be serialized, but I think I can just edit the Variant.h/Variant.cpp files to support my types. It should be easy enough to add support for any type to the Variant interface, then behind the scenes just use json to turn it into a string.\u003c/p\u003e\n\u003cp\u003eI’m really surprised there’s no standard way of serializing a list of references to Nodes. It seems like a common task people would want to do in a game world that can be saved and loaded.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-04-20T02:37:19.783Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":4.4,"yours":false,"topic_id":6819,"topic_slug":"how-do-i-serialize-a-component-attribute-that-is-a-set-of-unsigned-ints","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1447,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42483,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2021-04-20T04:30:31.467Z","cooked":"\u003cp\u003eThere is an existing way of serializing such a list of Node IDs. It’s used by Spline and StaticModelGroup, so I guess you could call it standardized? I certainly wouldn’t call it particularly user friendly, though. That aspect can certainly be improved.\u003c/p\u003e\n\u003cp\u003eIn any case, I think your approach of adding it to Variant is suitable. It should be more efficient in the end implementation than copying to a VariantVector, though I will warn you that it might take slightly longer to write the code (by my own very tentative estimate). That’s one of the best advantages of having an open source engine, though - being able to modify it as is convenient to you.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2021-04-20T04:30:31.467Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":6819,"topic_slug":"how-do-i-serialize-a-component-attribute-that-is-a-set-of-unsigned-ints","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42484,"name":"","username":"Batch","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/f17d59/{size}.png","created_at":"2021-04-20T04:48:08.519Z","cooked":"\u003cp\u003eThanks, I’ll take a look, although what I put together so far is working very well so far. Now that I have a bunch of new types working with Variant, everything else fell together nicely.\u003c/p\u003e\n\u003cp\u003eLinking Nodes/Components together is a big part of my designs, so being able to reliably do that across saves is important, but I’m sure it’ll be relatively easy in the end. So far the IDs of Components and Nodes have remained the same after saving/loading. Overall the engine has been fantastic so far.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2021-04-20T04:48:08.519Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":19.6,"yours":false,"topic_id":6819,"topic_slug":"how-do-i-serialize-a-component-attribute-that-is-a-set-of-unsigned-ints","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1447,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[42479,42481,42482,42483,42484]},"timeline_lookup":[[1,582]],"suggested_topics":[{"id":7245,"title":"Custom memory allocation","fancy_title":"Custom memory allocation","slug":"custom-memory-allocation","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-04-29T12:59:26.211Z","last_posted_at":"2022-04-29T23:01:14.486Z","bumped":true,"bumped_at":"2022-04-29T23:01:14.486Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":193,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1386,"username":"mohamed.chit","name":"Mohamed Chit","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/d6d6ee/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1363,"username":"vmost","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/5f9b8f/{size}.png"}}]},{"id":7222,"title":"Crowdmanager navigation makes an inexplicable turn after reaching the position","fancy_title":"Crowdmanager navigation makes an inexplicable turn after reaching the position","slug":"crowdmanager-navigation-makes-an-inexplicable-turn-after-reaching-the-position","posts_count":9,"reply_count":6,"highest_post_number":9,"image_url":null,"created_at":"2022-03-21T09:44:00.801Z","last_posted_at":"2022-03-23T06:32:14.846Z","bumped":true,"bumped_at":"2022-03-23T06:32:14.846Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":176,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1503,"username":"tianlv777","name":"zerrrrr","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/a4c791/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]},{"id":7071,"title":"Is there a Technique that supports surface displacement?","fancy_title":"Is there a Technique that supports surface displacement?","slug":"is-there-a-technique-that-supports-surface-displacement","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":null,"created_at":"2021-11-30T07:14:21.455Z","last_posted_at":"2021-12-05T01:20:34.514Z","bumped":true,"bumped_at":"2021-12-05T01:20:34.514Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":326,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}}]},{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7208,"title":"ScreenSpace Y - Inverted for View3D and RTT","fancy_title":"ScreenSpace Y - Inverted for View3D and RTT","slug":"screenspace-y-inverted-for-view3d-and-rtt","posts_count":14,"reply_count":11,"highest_post_number":15,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/506273b200a2f3337a69438a7989218d599e587b_2_823x1024.png","created_at":"2022-02-24T23:11:35.590Z","last_posted_at":"2022-03-09T12:27:07.577Z","bumped":true,"bumped_at":"2022-03-09T12:27:07.577Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":268,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1004,"username":"GoldenThumbs","name":"Golden Thumbs","avatar_template":"/user_avatar/discourse.urho3d.io/goldenthumbs/{size}/1669_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1335,"username":"justanotherdev","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/e8c25b/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":6819,"title":"How do I serialize a Component attribute that is a set of unsigned ints?","fancy_title":"How do I serialize a Component attribute that is a set of unsigned ints?","posts_count":5,"created_at":"2021-04-20T00:32:59.486Z","views":164,"reply_count":1,"like_count":1,"last_posted_at":"2021-04-20T04:48:08.519Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"how-do-i-serialize-a-component-attribute-that-is-a-set-of-unsigned-ints","category_id":7,"word_count":557,"deleted_at":null,"user_id":1447,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6819","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1447,"username":"Batch","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/f17d59/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1447,"username":"Batch","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/f17d59/{size}.png"},"last_poster":{"id":1447,"username":"Batch","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/f17d59/{size}.png"}}}