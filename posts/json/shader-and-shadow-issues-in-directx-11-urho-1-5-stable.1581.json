{"post_stream":{"posts":[{"id":9043,"name":"gawag AKA damu","username":"gawag","avatar_template":"/user_avatar/discourse.urho3d.io/gawag/{size}/68_2.png","created_at":"2015-12-15T04:51:59.000Z","cooked":"\u003cp\u003eMaybe this is already known:\u003cbr\u003e\n\u003cimg src=\"http://i.imgur.com/iyKDi3y.jpg\" alt=\"\" width=\"652\" height=\"498\"\u003e\u003cbr\u003e\nThose black lines are only there in DirectX 11. OpenGL and DX9 work fine.\u003c/p\u003e\n\u003cp\u003eSometimes this is accompanied by errors such as:\u003c/p\u003e\n\u003cp\u003e[quote][Mon Dec 14 14:20:25 2015] ERROR: Failed to create input layout for shader Shadow(), missing element mask 8\u003cbr\u003e\n[Mon Dec 14 14:20:25 2015] ERROR: Failed to create input layout for shader Shadow(SKINNED), missing element mask 8\u003cbr\u003e\n[Mon Dec 14 14:20:26 2015] ERROR: Failed to create input layout for shader level_1_terrain(DIRLIGHT PERPIXEL SHADOW VERTEXCOLOR), missing element mask 8[/quote]\u003cbr\u003e\n(these errors are from a different project with custom shaders)\u003c/p\u003e\n\u003cp\u003eThe black line appear in this project: \u003ca href=\"https://github.com/gawag/UrhoSampleProject\" rel=\"nofollow noopener\"\u003egithub.com/gawag/UrhoSampleProject\u003c/a\u003e\u003cbr\u003e\nIt only uses default shaders\u0026amp;techniques.\u003cbr\u003e\nThat terrain is the default Urho terrain (same material\u0026amp;textures).\u003c/p\u003e\n\u003cp\u003eThe printed errors seem to depend on the Urho version. Some GitHub pulls have them, some not. There seems to be some activity in that area in the last days.\u003cbr\u003e\nBut what about the lines?\u003c/p\u003e\n\u003cp\u003eThe Urho samples look fine.\u003cbr\u003e\nThe lines are also there when removing the skybox, the planet, the torch (with it’s light source and effects), the postprocess effects and the sun billboard.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:08:40.416Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":171,"reads":15,"readers_count":14,"score":858.0,"yours":false,"topic_id":1581,"topic_slug":"shader-and-shadow-issues-in-directx-11-urho-1-5-stable","display_username":"gawag AKA damu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/gawag/UrhoSampleProject","internal":false,"reflection":false,"title":"GitHub - damu/UrhoSampleProject","clicks":13}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":206,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":9044,"name":"Lasse Öörni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-12-15T07:39:54.000Z","cooked":"\u003cp\u003eThis will need to be documented (I thought it already was), but it’s a limitation of D3D11. A model will not render if the shader uses vertex attributes it doesn’t have. The error tells you which element is missing.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003estatic const unsigned MASK_TEXCOORD1 = 0x8;\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eE.g. the LitSolid shader allows the NOUV define to prevent reading texture coords, and this is defined by the NoTexture family of techniques, but the shadow shader presently doesn’t have this.\u003c/p\u003e\n\u003cp\u003eThose lines look like shadow acne, which would point to shadow bias not being strong enough.\u003c/p\u003e\n\u003cp\u003eEDIT: use of NOUV is added to Shadow \u0026amp; Depth shaders in the master branch.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:08:40.480Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":11,"readers_count":10,"score":7.2,"yours":false,"topic_id":1581,"topic_slug":"shader-and-shadow-issues-in-directx-11-urho-1-5-stable","display_username":"Lasse Öörni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":9054,"name":"gawag AKA damu","username":"gawag","avatar_template":"/user_avatar/discourse.urho3d.io/gawag/{size}/68_2.png","created_at":"2015-12-15T23:51:39.000Z","cooked":"\u003cp\u003eAh the shadow bias again. Didn’t think of that due to OpenGL and D3D9 being fine. Me and those shadow parameters… Had a thread about that quite a while ago.\u003cbr\u003e\nChanged the bias from 0.00000025 to 0.00002 and the stripes are gone.\u003cbr\u003e\nIs there some kind of rule of thumb how to set those parameters? Now the shadows are starting too far away from the model (peter paning) and that’s quite depending on the looking angle and position (flickering).\u003cbr\u003e\nCurrently my parameters are\u003cbr\u003e\nlight-\u0026gt;SetShadowBias(BiasParameters(0.00002f,0.5f));\u003cbr\u003e\nlight-\u0026gt;SetShadowCascade(CascadeParameters(10.0f,50.0f,200.0f,400.0f,0.8f));\u003cbr\u003e\nIf the first parameter is higher (like 0.0002) there are no more shadows. If it’s lower (like 0.000002) the stripes are there again.\u003cbr\u003e\nThe second bias parameter doesn’t seem to change anything.\u003cbr\u003e\nFound this: \u003ca href=\"http://docs.unity3d.com/Manual/ShadowOverview.html\" rel=\"nofollow noopener\"\u003edocs.unity3d.com/Manual/ShadowOverview.html\u003c/a\u003e Though in my case there are either stripes or peter paning, or both at the same time. Is there still no solution to this?\u003c/p\u003e\n\u003cp\u003eLooking into the error issue later.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:08:41.186Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":13,"readers_count":12,"score":7.6,"yours":false,"topic_id":1581,"topic_slug":"shader-and-shadow-issues-in-directx-11-urho-1-5-stable","display_username":"gawag AKA damu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://docs.unity3d.com/Manual/ShadowOverview.html","internal":false,"reflection":false,"title":"Unity - Manual: Shadows","clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":206,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":9080,"name":"","username":"bvanevery","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png","created_at":"2015-12-17T05:32:30.000Z","cooked":"\u003cp\u003eBTW I definitely had a CMake stale build issue on this today, on my cheesiest Intel integrated GPU laptop.  Pulled what I thought was new Urho3D, built and installed it but not cleanly.  Ended up with a log full of errors about read-only depth stencil.  Knew that was impossible for a recent build because my other machine had those demoted to warnings only and rendered fine.  Nuked my Urho3D build and install directories, nuked UrhoSampleProject build directory, built everything from scratch.  Now everything works fine.\u003c/p\u003e\n\u003cp\u003eMoral of the story is CMake can only handle so much “automatic” adjustment of the build.  I think, especially if the CMake build itself changes much, it’ll eventually just barf.  That’s why one does out-of-source builds, so it’s easy to nuke the build and start over clean.\u003c/p\u003e\n\u003cp\u003eI’m surprised that both the AMD and Intel integrated GPUs are running at 10 FPS, whether in Debug or Release.  The AMD part has been consistently 2x faster than the Intel on other tests, like Unigine Valley.  I suppose it’s possible that Urho3D’s shadowing exercises GPU capabilities that are equally crappy on both though.  I will drag out my bigger laptop that has a dedicated NVIDIA GeForce 8600M GT in it, to see if it runs any faster.  All 3 machines have roughly similar CPU-side capabilities.\u003c/p\u003e\n\u003cp\u003eGeForce does 15+ FPS in Debug and Release.  So, faster, but not fast.  I know this is old HW but I had hoped for better on seemingly such a trivial demo.  I do recall various DirectX SDK demos that choked the crap out of that card back in the day though.  Now I suppose I can learn what all my cheesy old HW can and cannot do.\u003c/p\u003e\n\u003cp\u003eI don’t know if it’s related to the performance, but this is all DX10 or DX10.1 class HW, running a DX11 API on top of it.  \u003ca href=\"https://mynameismjp.wordpress.com/2010/11/14/d3d11-features/\" data-bbcode=\"true\" rel=\"nofollow noopener\"\u003eThis says\u003c/a\u003e read-only depth-stencil views were introduced in DX11, so my HW may not be able to support simultaneous writeable and read-only views.\u003c/p\u003e\n\u003cp\u003e[quote]\u003cbr\u003e\n4. Read-only depth-stencil views: D3D10 let you bind depth-stencil buffers as shader resource views so that you could sample them in the pixel shader, but came with the restriction that you couldn?t have them simultaneously bound to the pipeline as both views simultaneously. That?s fine for SSAO or depth of field, but not so fine if you want to do deferred rendering and use depth-stencil culling. D3D10.1 added the ability to let you copy depth buffers asynchronously using the GPU, but that?s still not optimal. D3D11 finally makes everything right in the world by letting you create depth-stencil views with a read-only flag. So basically you can just create two DSV?s for your depth buffer, and switch to the read-only one when you want to do depth readback.[/quote]\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:08:43.092Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":12,"readers_count":11,"score":12.4,"yours":false,"topic_id":1581,"topic_slug":"shader-and-shadow-issues-in-directx-11-urho-1-5-stable","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://mynameismjp.wordpress.com/2010/11/14/d3d11-features/","internal":false,"reflection":false,"clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":294,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[9043,9044,9054,9080]},"timeline_lookup":[[1,2535],[3,2534],[4,2533]],"suggested_topics":[{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7146,"title":"How create affordable comfortable and modern terrain?","fancy_title":"How create affordable comfortable and modern terrain?","slug":"how-create-affordable-comfortable-and-modern-terrain","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-01-21T15:20:08.910Z","last_posted_at":"2022-01-21T21:51:58.799Z","bumped":true,"bumped_at":"2022-01-21T22:03:14.896Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7127,"title":"Switching ribbon trails emission glitches transparent materials","fancy_title":"Switching ribbon trails emission glitches transparent materials","slug":"switching-ribbon-trails-emission-glitches-transparent-materials","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-01-13T17:17:46.847Z","last_posted_at":"2022-02-10T08:10:49.330Z","bumped":true,"bumped_at":"2022-02-10T08:10:49.330Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":323,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1188,"username":"Taqer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]}],"tags_descriptions":{},"id":1581,"title":"Shader and shadow issues in DirectX 11 (Urho 1.5 Stable)","fancy_title":"Shader and shadow issues in DirectX 11 (Urho 1.5 Stable)","posts_count":4,"created_at":"2015-12-15T04:51:59.000Z","views":1222,"reply_count":0,"like_count":0,"last_posted_at":"2015-12-17T05:32:30.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"shader-and-shadow-issues-in-directx-11-urho-1-5-stable","category_id":10,"word_count":1013,"deleted_at":null,"user_id":206,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1581","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":206,"username":"gawag","name":"gawag AKA damu","avatar_template":"/user_avatar/discourse.urho3d.io/gawag/{size}/68_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":3,"username":"cadaver","name":"Lasse Öörni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":294,"username":"bvanevery","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":206,"username":"gawag","name":"gawag AKA damu","avatar_template":"/user_avatar/discourse.urho3d.io/gawag/{size}/68_2.png"},"last_poster":{"id":294,"username":"bvanevery","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/c77e96/{size}.png"},"links":[{"url":"https://github.com/gawag/UrhoSampleProject","title":"GitHub - damu/UrhoSampleProject","internal":false,"attachment":false,"reflection":false,"clicks":13,"user_id":206,"domain":"github.com","root_domain":"github.com"},{"url":"http://docs.unity3d.com/Manual/ShadowOverview.html","title":"Unity - Manual: Shadows","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":206,"domain":"docs.unity3d.com","root_domain":"unity3d.com"}]}}