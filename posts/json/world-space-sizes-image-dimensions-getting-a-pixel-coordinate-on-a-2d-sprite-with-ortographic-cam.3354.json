{"post_stream":{"posts":[{"id":19417,"name":"","username":"bremby","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/e19adc/{size}.png","created_at":"2017-07-14T20:11:36.185Z","cooked":"\u003cp\u003eHello,\u003c/p\u003e\n\u003cp\u003eNewbie here, please be patient with me \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e. I have an image as a static 2D sprite and ortographic camera pointed at it. The ortosize of the camera is set up the same way like in the samples - using PIXEL_SIZE and the height from the graphics subsystem (which is the height of the window in pixels). When I click on that sprite, I need to calculate the pixel coordinates under the mouse pointer on that image. If the camera was static and unable to zoom, the calculation could be somewhat simple, but if I use camera zoom, then I have to first recalculate the mouse coordinates to a point in the world space (following the 2D Constraints sample). To get the coordinates of the pixel under the mouse cursor I multiply the world coordinates by the dimensions of the image and some magic constant 0.05f (and I add an offset depending on what is the position of the sprite in worldspace). This works well, but I want to understand how the calculation should be done properly.\u003c/p\u003e\n\u003cp\u003eSo can anyone suggest a better way? Or explain what is going on with PIXEL_SIZE, world space coordinates and that magic constant 0.05f?\u003c/p\u003e\n\u003cp\u003eThank you.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-07-14T20:11:36.185Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":107,"reads":38,"readers_count":37,"score":547.6,"yours":false,"topic_id":3354,"topic_slug":"world-space-sizes-image-dimensions-getting-a-pixel-coordinate-on-a-2d-sprite-with-ortographic-cam","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":776,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":19420,"name":"Ricardo Abreu","username":"ricab","avatar_template":"/user_avatar/discourse.urho3d.io/ricab/{size}/398_2.png","created_at":"2017-07-15T14:26:16.398Z","cooked":"\u003cp\u003eIf I understand properly, what you are looking for is \u003ca href=\"https://urho3d.github.io/documentation/1.6/class_urho3_d_1_1_viewport.html#a03a1325f33ff1ef8b3af90fade4bdbc9\" rel=\"nofollow noopener\"\u003eViewport::ScreenToWorldPoint\u003c/a\u003e\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-07-15T14:26:16.398Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":31,"readers_count":30,"score":11.2,"yours":false,"topic_id":3354,"topic_slug":"world-space-sizes-image-dimensions-getting-a-pixel-coordinate-on-a-2d-sprite-with-ortographic-cam","display_username":"Ricardo Abreu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://urho3d.github.io/documentation/1.6/class_urho3_d_1_1_viewport.html#a03a1325f33ff1ef8b3af90fade4bdbc9","internal":false,"reflection":false,"title":"Urho3D - Documentation - Urho3D::Viewport Class Reference","clicks":24}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":642,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":19421,"name":"","username":"bremby","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/e19adc/{size}.png","created_at":"2017-07-15T16:22:28.271Z","cooked":"\u003cp\u003eHow is that different from Camera::ScreenToWorldPoint()? I still get some point in world space, but I don’t understand how to translate it into pixel coordinates on a static 2D sprite that the camera is looking at.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-07-15T16:22:28.271Z","reply_count":1,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":2,"reads":30,"readers_count":29,"score":21.0,"yours":false,"topic_id":3354,"topic_slug":"world-space-sizes-image-dimensions-getting-a-pixel-coordinate-on-a-2d-sprite-with-ortographic-cam","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"ricab","name":"Ricardo Abreu","avatar_template":"/user_avatar/discourse.urho3d.io/ricab/{size}/398_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":776,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":19422,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2017-07-15T17:42:23.930Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"bremby\" data-post=\"1\" data-topic=\"3354\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/b/e19adc/40.png\" class=\"avatar\"\u003e bremby:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eOr explain what is going on with PIXEL_SIZE, world space coordinates and that magic constant 0.05f?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003e0.01f\u003c/p\u003e\n\u003cp\u003eFloat loses precision for large values (and camera begins to vibrate when its very far from center of scene). You can not use same units of measurement for screen and scene. 1920x1080 is ULTRA BIG scene… but only single screen. So pixels just are multiplied to some small value when convert to scene coords (it just random const)\u003c/p\u003e\n\u003cp\u003eEDIT: some note about big float (camera pos) + small float (offset) that cause camera vibrations\u003cbr\u003e\n\u003ca href=\"https://stackoverflow.com/questions/22186589/why-does-adding-a-small-float-to-a-large-float-just-drop-the-small-one\" class=\"inline-onebox\"\u003ec - Why does adding a small float to a large float just drop the small one? - Stack Overflow\u003c/a\u003e\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-07-15T18:27:48.888Z","reply_count":1,"reply_to_post_number":3,"quote_count":1,"incoming_link_count":1,"reads":27,"readers_count":26,"score":15.4,"yours":false,"topic_id":3354,"topic_slug":"world-space-sizes-image-dimensions-getting-a-pixel-coordinate-on-a-2d-sprite-with-ortographic-cam","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://stackoverflow.com/questions/22186589/why-does-adding-a-small-float-to-a-large-float-just-drop-the-small-one","internal":false,"reflection":false,"title":"c - Why does adding a small float to a large float just drop the small one? - Stack Overflow","clicks":10}],"read":true,"user_title":null,"reply_to_user":{"username":"bremby","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/e19adc/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":19425,"name":"","username":"bremby","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/e19adc/{size}.png","created_at":"2017-07-15T18:26:50.094Z","cooked":"\u003cp\u003e1vanK: Alright, I think I get it now, thanks!\u003c/p\u003e\n\u003cp\u003eSolved!\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-07-15T18:26:50.094Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":5.0,"yours":false,"topic_id":3354,"topic_slug":"world-space-sizes-image-dimensions-getting-a-pixel-coordinate-on-a-2d-sprite-with-ortographic-cam","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":776,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[19417,19420,19421,19422,19425]},"timeline_lookup":[[1,1957],[4,1956]],"suggested_topics":[{"id":7074,"title":"First Person and 3rd person camera and water reflections","fancy_title":"First Person and 3rd person camera and water reflections","slug":"first-person-and-3rd-person-camera-and-water-reflections","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-01T18:37:28.669Z","last_posted_at":"2021-12-01T21:19:51.519Z","bumped":true,"bumped_at":"2021-12-01T21:19:51.519Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":158,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7146,"title":"How create affordable comfortable and modern terrain?","fancy_title":"How create affordable comfortable and modern terrain?","slug":"how-create-affordable-comfortable-and-modern-terrain","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-01-21T15:20:08.910Z","last_posted_at":"2022-01-21T21:51:58.799Z","bumped":true,"bumped_at":"2022-01-21T22:03:14.896Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7160,"title":"RayCast trouble","fancy_title":"RayCast trouble","slug":"raycast-trouble","posts_count":17,"reply_count":9,"highest_post_number":19,"image_url":null,"created_at":"2022-01-29T00:06:00.367Z","last_posted_at":"2022-01-30T00:29:39.356Z","bumped":true,"bumped_at":"2022-01-30T00:29:39.356Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":260,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7178,"title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","fancy_title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","slug":"medium-quality-technique-for-semi-reflective-specular-glass-in-urho","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/51408fe152ba02eb8b92237cc9a9411c8ee922e6.jpeg","created_at":"2022-01-31T22:57:50.134Z","last_posted_at":"2022-02-01T04:32:37.418Z","bumped":true,"bumped_at":"2022-02-01T04:32:37.418Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":154,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]}],"tags_descriptions":{},"id":3354,"title":"World space, sizes, image dimensions - getting a pixel coordinate on a 2D sprite with ortographic cam","fancy_title":"World space, sizes, image dimensions - getting a pixel coordinate on a 2D sprite with ortographic cam","posts_count":5,"created_at":"2017-07-14T20:11:36.114Z","views":604,"reply_count":3,"like_count":0,"last_posted_at":"2017-07-15T18:26:50.094Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"world-space-sizes-image-dimensions-getting-a-pixel-coordinate-on-a-2d-sprite-with-ortographic-cam","category_id":10,"word_count":393,"deleted_at":null,"user_id":776,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3354","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":4,"username":"1vanK","excerpt":"0.01f \nFloat loses precision for large values (and camera begins to vibrate when its very far from center of scene). You can not use same units of measurement for screen and scene. 1920x1080 is ULTRA BIG scene… but only single screen. So pixels just are multiplied to some small value when convert t\u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":776,"username":"bremby","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/e19adc/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":4},{"id":642,"username":"ricab","name":"Ricardo Abreu","avatar_template":"/user_avatar/discourse.urho3d.io/ricab/{size}/398_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":776,"username":"bremby","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/e19adc/{size}.png"},"last_poster":{"id":776,"username":"bremby","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/e19adc/{size}.png"},"links":[{"url":"https://urho3d.github.io/documentation/1.6/class_urho3_d_1_1_viewport.html#a03a1325f33ff1ef8b3af90fade4bdbc9","title":"Urho3D - Documentation - Urho3D::Viewport Class Reference","internal":false,"attachment":false,"reflection":false,"clicks":24,"user_id":642,"domain":"urho3d.github.io","root_domain":"urho3d.github.io"},{"url":"https://stackoverflow.com/questions/22186589/why-does-adding-a-small-float-to-a-large-float-just-drop-the-small-one","title":"c - Why does adding a small float to a large float just drop the small one? - Stack Overflow","internal":false,"attachment":false,"reflection":false,"clicks":10,"user_id":263,"domain":"stackoverflow.com","root_domain":"stackoverflow.com"}]}}