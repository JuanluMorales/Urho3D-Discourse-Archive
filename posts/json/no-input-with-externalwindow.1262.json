{"post_stream":{"posts":[{"id":7208,"name":"","username":"thebluefish","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","created_at":"2015-08-15T23:31:14.000Z","cooked":"\u003cp\u003eI’m having an odd issue with ExternalWindow. I’m working with wxWidgets + Urho3D using a custom wxPanel to provide a HWND that I sent to Urho3D. It renders perfectly, but I seem to get no input. In fact, only SDL_WINDOWEVENT gets fired.\u003c/p\u003e\n\u003cp\u003eThinking that this was some input handling issue, I attempted to manually process events as so:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid wxUrho3D::OnKeyUp(wxKeyEvent\u0026amp; event)\n\t{\n\t\tSDL_Event sdlEvent;\n\t\tsdlEvent.type = SDL_KEYUP;\n\t\tsdlEvent.key.keysym.sym = event.GetKeyCode();\n\t\tsdlEvent.key.keysym.mod = event.GetModifiers();\n\t\tSDL_PushEvent(\u0026amp;sdlEvent);\n\t}\n\n\tvoid wxUrho3D::OnKeyDown(wxKeyEvent\u0026amp; event)\n\t{\n\t\tSDL_Event sdlEvent;\n\t\tsdlEvent.type = SDL_KEYDOWN;\n\t\tsdlEvent.key.keysym.sym = event.GetKeyCode();\n\t\tsdlEvent.key.keysym.mod = event.GetModifiers();\n\t\tSDL_PushEvent(\u0026amp;sdlEvent);\n\t}\n\n\tvoid wxUrho3D::OnMouseUp(wxMouseEvent\u0026amp; event)\n\t{\n\t\tSDL_Event sdlEvent;\n\t\tsdlEvent.type = SDL_MOUSEBUTTONUP;\n\t\tsdlEvent.button.state = SDL_RELEASED;\n\t\tsdlEvent.button.button = SDL_BUTTON_LEFT;\n\n\t\tauto position = event.GetPosition();\n\t\tsdlEvent.button.x = position.x;\n\t\tsdlEvent.button.y = position.y;\n\n\t\tSDL_PushEvent(\u0026amp;sdlEvent);\n\t}\n\n\tvoid wxUrho3D::OnMouseDown(wxMouseEvent\u0026amp; event)\n\t{\n\t\tSDL_Event sdlEvent;\n\t\tsdlEvent.type = SDL_MOUSEBUTTONDOWN;\n\t\tsdlEvent.button.state = SDL_PRESSED;\n\t\tsdlEvent.button.button = SDL_BUTTON_LEFT;\n\n\t\tauto position = event.GetPosition();\n\t\tsdlEvent.button.x = position.x;\n\t\tsdlEvent.button.y = position.y;\n\n\t\tSDL_PushEvent(\u0026amp;sdlEvent);\n\t}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThese functions \u003cem\u003eare\u003c/em\u003e firing correctly, however Urho3D doesn’t seem to be processing the SDL events. Any ideas on what’s going on?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:06:29.031Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":30,"reads":8,"readers_count":7,"score":151.6,"yours":false,"topic_id":1262,"topic_slug":"no-input-with-externalwindow","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":80,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7217,"name":"","username":"thebluefish","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","created_at":"2015-08-16T13:55:39.000Z","cooked":"\u003cp\u003eThanks for the bit on ‘inputFocus_’, that led me to what I was looking for!\u003c/p\u003e\n\u003cp\u003eSo I changed the following in Input.cpp:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eif (inputFocus_ \u0026amp;\u0026amp; (flags \u0026amp; SDL_WINDOW_INPUT_FOCUS) == 0 \u0026amp;\u0026amp; inputFocus_ \u0026amp;\u0026amp; (flags \u0026amp; SDL_WINDOW_MOUSE_FOCUS) == 0)\n            LoseFocus();\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHowever I don’t know if there’s any downside to this approach. It seems that using a wxWidgets panel as an external window, the window doesn’t have SDL_WINDOW_INPUT_FOCUS but \u003cem\u003edoes\u003c/em\u003e have SDL_WINDOW_MOUSE_FOCUS.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:06:29.730Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":1262,"topic_slug":"no-input-with-externalwindow","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":80,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7226,"name":"","username":"thebluefish","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","created_at":"2015-08-17T03:03:53.000Z","cooked":"\u003cp\u003eThere was still the issue of “gaining” focus. That is, the first event causing focus (tab, mouse click) will give the window focus but not register as input. I’m playing around with a forceFocus_ flag, which Input automatically sets when there’s an external handle. So far, it seems to work find for all cases I’ve tested. However right now my Linux install is jacked and I don’t have a Mac, so who knows if it will work properly across all platforms.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:06:30.355Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":1262,"topic_slug":"no-input-with-externalwindow","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":80,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[7208,7217,7226]},"timeline_lookup":[[1,2656],[3,2655]],"suggested_topics":[{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7081,"title":"Install Urho3D Library - Windows 10 - rake build - \"project does not exist\"","fancy_title":"Install Urho3D Library - Windows 10 - rake build - \u0026ldquo;project does not exist\u0026rdquo;","slug":"install-urho3d-library-windows-10-rake-build-project-does-not-exist","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-03T03:06:40.974Z","last_posted_at":"2021-12-03T17:53:10.844Z","bumped":true,"bumped_at":"2021-12-03T17:53:10.844Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":190,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}}]},{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}],"tags_descriptions":{},"id":1262,"title":"No input with ExternalWindow","fancy_title":"No input with ExternalWindow","posts_count":3,"created_at":"2015-08-15T23:31:14.000Z","views":281,"reply_count":0,"like_count":0,"last_posted_at":"2015-08-17T03:03:53.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"no-input-with-externalwindow","category_id":10,"word_count":354,"deleted_at":null,"user_id":80,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1262","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":1,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":80,"username":"thebluefish","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":80,"username":"thebluefish","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png"},"last_poster":{"id":80,"username":"thebluefish","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/f04885/{size}.png"}}}