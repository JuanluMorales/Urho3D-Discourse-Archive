{"post_stream":{"posts":[{"id":29096,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-03-29T07:13:24.264Z","cooked":"\u003cp\u003eI’m unhappy with the character controller in the Sample. It’s been around a month since I decided to have a crack at improving it - I opted to use the AnimationController component, rather than deal with driving the animations myself, which it seems was my first mistake, at least with respect to the local player character. My second mistake, it seems to me, was to adopt Dynamic physics as the driver for controlling the player character - in both cases, we get less control, and run into lots of unhandled corner cases.\u003c/p\u003e\n\u003cp\u003eI’m tempted to scrap my current implementation of character controller, switch to a kinematic controller for the character (which means more work for me on the physics side, at the least), and use a small FSM for animation controller (data driven, of course).\u003c/p\u003e\n\u003cp\u003eDoes anyone have some words of wisdom with respect to controlling non-trivial characters? Especially interested in what you may have to say about root-motions, and velocity-versus-force based motion approaches, but interested generally in hearing about non-trivial control schemes for player characters.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-03-29T07:24:50.804Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":42,"reads":49,"readers_count":48,"score":219.8,"yours":false,"topic_id":5052,"topic_slug":"a-more-advanced-character-controller","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29097,"name":"","username":"smellymumbler","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png","created_at":"2019-03-29T13:46:15.893Z","cooked":"\u003caside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"3625\"\u003e\n  \u003cdiv class=\"title\"\u003e\n    \u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n    \u003cimg loading=\"lazy\" alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/e/f9ae1b/40.png\" class=\"avatar\"\u003e\n    \u003ca href=\"https://discourse.urho3d.io/t/dynamic-kinematic-character-demo/3625\"\u003eDynamic \"Kinematic\" Character Demo\u003c/a\u003e \u003ca class=\"badge-wrapper  bullet\" href=\"/c/showcase/code-exchange/13\"\u003e\u003cspan class=\"badge-category-parent-bg\" style=\"background-color: #F1592A;\"\u003e\u003c/span\u003e\u003cspan class=\"badge-category-bg\" style=\"background-color: #231F20;\"\u003e\u003c/span\u003e\u003cspan style=\"\" data-drop-close=\"true\" class=\"badge-category clear-badge\" title=\"Share your helpful Urho3D code snippets, samples and tutorials here.\"\u003eCode Exchange\u003c/span\u003e\u003c/a\u003e\n  \u003c/div\u003e\n  \u003cblockquote\u003e\n    Hello, \nWhile exploring the \u003ca href=\"https://github.com/urho3d/Urho3D/tree/master/Source/Samples/18_CharacterDemo\" rel=\"noopener nofollow ugc\"\u003eCharacter Demo\u003c/a\u003e I’ve ended up wanting a more “kinematic” movement (specially going up/down slopes), similar to raycast movement, but without losing the benefits of the dynamic character controller, the collision detection and physics overall. \nAfter a lot of trial and error, I’ve managed to tinker the Character Demo and got pretty interesting results. The character no longer \u003ca href=\"https://discourse.urho3d.io/t/down-hill-movement-on-the-physics-simulation/3612\"\u003ebounces\u003c/a\u003e when going up/down a slope, neither slide when stopped, while still being able to jump …\n  \u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003caside class=\"quote quote-modified\" data-post=\"2\" data-topic=\"1468\"\u003e\n  \u003cdiv class=\"title\"\u003e\n    \u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n    \u003cimg loading=\"lazy\" alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/enhex/40/81_2.png\" class=\"avatar\"\u003e\n    \u003ca href=\"https://discourse.urho3d.io/t/character-controller/1468/2\"\u003eCharacter Controller\u003c/a\u003e \u003ca class=\"badge-wrapper  bullet\" href=\"/c/discussions/general-discussion/9\"\u003e\u003cspan class=\"badge-category-parent-bg\" style=\"background-color: #25AAE2;\"\u003e\u003c/span\u003e\u003cspan class=\"badge-category-bg\" style=\"background-color: #652D90;\"\u003e\u003c/span\u003e\u003cspan style=\"\" data-drop-close=\"true\" class=\"badge-category clear-badge\" title=\"General discussion around Urho3D.\"\u003eGeneral Discussion\u003c/span\u003e\u003c/a\u003e\n  \u003c/div\u003e\n  \u003cblockquote\u003e\n    [quote=“JamesK89”]The character demo is nice and all but as most of us may know dynamic force based character controllers are highly unpredictable and don’t feel natural unless that is what you are going for. \nThat being said I’m just wondering if anyone has come up with a kinematic character controller that uses custom movement and collision logic for that traditional FPS feel and control (? la Quake, Half-Life, Unreal, etc…)? \nI’ve been tinkering with Urho3D seeing if I can come up with someth…\n  \u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003caside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"3791\"\u003e\n  \u003cdiv class=\"title\"\u003e\n    \u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n    \u003cimg loading=\"lazy\" alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/f05b48/40.png\" class=\"avatar\"\u003e\n    \u003ca href=\"https://discourse.urho3d.io/t/kinematic-character-control-with-bullet/3791\"\u003eKinematic character control with Bullet\u003c/a\u003e \u003ca class=\"badge-wrapper  bullet\" href=\"/c/discussions/support/10\"\u003e\u003cspan class=\"badge-category-parent-bg\" style=\"background-color: #25AAE2;\"\u003e\u003c/span\u003e\u003cspan class=\"badge-category-bg\" style=\"background-color: #92278F;\"\u003e\u003c/span\u003e\u003cspan style=\"\" data-drop-close=\"true\" class=\"badge-category clear-badge\" title=\"Someone can help you.\"\u003eSupport\u003c/span\u003e\u003c/a\u003e\n  \u003c/div\u003e\n  \u003cblockquote\u003e\n    i am trying to implement character control with bullet \ni use the following code to initialise the ghost object \nconst Vector3 \u0026amp;postion = _cameraNode-\u0026gt;GetWorldPosition();\nconst Quaternion \u0026amp;rot = _cameraNode-\u0026gt;GetWorldRotation();\nstartTransform.setOrigin (ToBtVector3(postion + rot * Vector3::ZERO));\nstartTransform.setRotation(ToBtQuaternion(rot));\nphysicsWorld_-\u0026gt;GetWorld()-\u0026gt;getPairCache()-\u0026gt;setInternalGhostPairCallback(new btGhostPairCallback());\nghostObject = new btPairCachingGhostObject();\nghostO…\n  \u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003caside class=\"quote\" data-post=\"1\" data-topic=\"3555\"\u003e\n  \u003cdiv class=\"title\"\u003e\n    \u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n    \u003cimg loading=\"lazy\" alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/1vank/40/768_2.png\" class=\"avatar\"\u003e\n    \u003ca href=\"https://discourse.urho3d.io/t/kinematic-character-controllers/3555\"\u003eKinematic Character Controllers\u003c/a\u003e \u003ca class=\"badge-wrapper  bullet\" href=\"/c/showcase/code-exchange/13\"\u003e\u003cspan class=\"badge-category-parent-bg\" style=\"background-color: #F1592A;\"\u003e\u003c/span\u003e\u003cspan class=\"badge-category-bg\" style=\"background-color: #231F20;\"\u003e\u003c/span\u003e\u003cspan style=\"\" data-drop-close=\"true\" class=\"badge-category clear-badge\" title=\"Share your helpful Urho3D code snippets, samples and tutorials here.\"\u003eCode Exchange\u003c/span\u003e\u003c/a\u003e\n  \u003c/div\u003e\n  \u003cblockquote\u003e\n    First experiments. Any help is welcome \n\u003ca href=\"https://github.com/1vanK/Urho3DKinematicCharacterController\" rel=\"noopener nofollow ugc\"\u003ehttps://github.com/1vanK/Urho3DKinematicCharacterController\u003c/a\u003e\n  \u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003caside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://github.com/hdunderscore/Urho3D-FPS-Controller\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003cimg src=\"https://github.githubassets.com/favicons/favicon.svg\" class=\"site-icon\" width=\"32\" height=\"32\"\u003e\n\n      \u003ca href=\"https://github.com/hdunderscore/Urho3D-FPS-Controller\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eGitHub\u003c/a\u003e\n  \u003c/header\u003e\n\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003cdiv class=\"aspect-image\" style=\"--aspect-ratio:690/345;\"\u003e\u003cimg src=\"https://opengraph.githubassets.com/1af2232ce71eb8752984d5e35f64728a569b27171ed4efcccdd3f06289417945/hdunderscore/Urho3D-FPS-Controller\" class=\"thumbnail\" width=\"690\" height=\"345\"\u003e\u003c/div\u003e\n\n\u003ch3\u003e\u003ca href=\"https://github.com/hdunderscore/Urho3D-FPS-Controller\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eGitHub - hdunderscore/Urho3D-FPS-Controller\u003c/a\u003e\u003c/h3\u003e\n\n  \u003cp\u003eContribute to hdunderscore/Urho3D-FPS-Controller development by creating an account on GitHub.\u003c/p\u003e\n\n\n  \u003c/article\u003e\n\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n","post_number":2,"post_type":1,"updated_at":"2019-03-29T13:46:15.893Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":9,"reads":48,"readers_count":47,"score":74.6,"yours":false,"topic_id":5052,"topic_slug":"a-more-advanced-character-controller","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/hdunderscore/Urho3D-FPS-Controller","internal":false,"reflection":false,"title":"GitHub - hdunderscore/Urho3D-FPS-Controller","clicks":10},{"url":"https://discourse.urho3d.io/t/dynamic-kinematic-character-demo/3625","internal":true,"reflection":false,"title":"Dynamic \"Kinematic\" Character Demo","clicks":0},{"url":"https://discourse.urho3d.io/t/character-controller/1468/2","internal":true,"reflection":false,"title":"Character Controller","clicks":0},{"url":"https://discourse.urho3d.io/t/kinematic-character-control-with-bullet/3791","internal":true,"reflection":false,"title":"Kinematic character control with Bullet","clicks":0},{"url":"https://discourse.urho3d.io/t/kinematic-character-controllers/3555","internal":true,"reflection":false,"title":"Kinematic Character Controllers","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":674,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29104,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-03-30T04:33:07.642Z","cooked":"\u003cp\u003eHey thanks man, I processed all that, and unfortunately I am no better off - a wider search online for decent character controllers also turned up empty.\u003c/p\u003e\n\u003cp\u003eI think I should start by deriving a new AnimationController, one that operates as a finite state machine, and understands conditional state transitions. Once I’m happy with that, I can look at implementing a kinematic character controller, combined with a dynamic ragdoll rig.\u003c/p\u003e\n\u003cp\u003eOur AnimationController is a manager for AnimationStates. But hardcoding logic switches on top of it is not as flexible as a data-driven approach.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2019-03-30T04:33:07.642Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":40,"readers_count":39,"score":8.0,"yours":false,"topic_id":5052,"topic_slug":"a-more-advanced-character-controller","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"reply_to_user":{"username":"smellymumbler","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[29096,29097,29104]},"timeline_lookup":[[1,1335],[3,1334]],"suggested_topics":[{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11？","fancy_title":"Do we give up supporting dx11？","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7262,"title":"iOS build cannot be installed on sim or device","fancy_title":"iOS build cannot be installed on sim or device","slug":"ios-build-cannot-be-installed-on-sim-or-device","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d889ae74b8b75bfe705a15b4cee71e82faea0f4d.png","created_at":"2022-05-12T15:33:33.531Z","last_posted_at":"2022-05-12T16:13:22.078Z","bumped":true,"bumped_at":"2022-05-12T16:13:22.078Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":95,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1340,"username":"KatekovAnton","name":"KatekovAnton","avatar_template":"/user_avatar/discourse.urho3d.io/katekovanton/{size}/2988_2.png"}}]},{"id":7063,"title":"Quadspinner Gaea support on Urho?","fancy_title":"Quadspinner Gaea support on Urho?","slug":"quadspinner-gaea-support-on-urho","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2021-11-23T23:30:45.335Z","last_posted_at":"2021-11-23T23:30:45.396Z","bumped":true,"bumped_at":"2021-11-23T23:30:45.396Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":150,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]}],"tags_descriptions":{},"id":5052,"title":"A more advanced character controller","fancy_title":"A more advanced character controller","posts_count":3,"created_at":"2019-03-29T07:13:24.191Z","views":719,"reply_count":1,"like_count":1,"last_posted_at":"2019-03-30T04:33:07.642Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"a-more-advanced-character-controller","category_id":9,"word_count":322,"deleted_at":null,"user_id":1098,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_5052","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":674,"username":"smellymumbler","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/ad7895/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png"},"last_poster":{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png"},"links":[{"url":"https://github.com/hdunderscore/Urho3D-FPS-Controller","title":"GitHub - hdunderscore/Urho3D-FPS-Controller","internal":false,"attachment":false,"reflection":false,"clicks":10,"user_id":674,"domain":"github.com","root_domain":"github.com"}]}}