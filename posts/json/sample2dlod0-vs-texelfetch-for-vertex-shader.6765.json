{"post_stream":{"posts":[{"id":42175,"name":"Brian Knox","username":"najak3d","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png","created_at":"2021-03-21T20:21:52.078Z","cooked":"\u003ch1\u003eFor our Map Grid shader, in the vertex shader we are sampling the Height/Normal from the DiffMap, as follows:\u003c/h1\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eTexture2D tDiffMap : register(t0);\nSamplerState sDiffMap : register(s0);\n\nvoid VS(....)\n{\n    ....\n    float2 diffVal = Sample2DLod0(DiffMap, iTexCoord).rg;\n    // 'r' component is our \"elevation value\"\n    // 'g' component encodes our normal - used for crude shadowing\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e===\u003cbr\u003e\nAnd it is working on Windows (haven‚Äôt tested Android/iOS mobile).   In order to avoid ‚Äòinterpolation‚Äô between adjacent pixel values, we offset our iTexCoord value with ‚Äúhalf Pixel size‚Äù to guarantee we‚Äôre sampling in the exact center of each pixel - -and so there is no interpolation.  This is a bit awkward, but works.\u003c/p\u003e\n\u003cp\u003eI have seen talk of a alternate method called ‚ÄútexelFetch‚Äù which may be more suited for the Vertex Shader, and grabbing pixel data without interpolation.\u003c/p\u003e\n\u003cp\u003eWe need this to work on Windows, UWP, iOS, and Android alike.   It‚Äôs OK if it only runs on newer mobile devices (2015 or newer).\u003c/p\u003e\n\u003cp\u003eMy Questions are:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDoes our current method ‚ÄòSample2DLod0‚Äô work for our targeted platforms? (e.g. non-old mobile)\u003c/li\u003e\n\u003cli\u003eIs the ‚ÄòtexelFetch‚Äô method a better choice?  And if so, what are the benefits?  (e.g. runs faster?)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eI was seeing talk from 2013 about some mobile devices not supporting texture sampling from the Vertex Shader.  I assume this is no longer an issue, yes?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2021-03-21T20:21:52.078Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":6,"reads":21,"readers_count":20,"score":39.2,"yours":false,"topic_id":6765,"topic_slug":"sample2dlod0-vs-texelfetch-for-vertex-shader","display_username":"Brian Knox","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1334,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42176,"name":"","username":"JSandusky","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png","created_at":"2021-03-22T03:12:28.967Z","cooked":"\u003cp\u003e\u003ccode\u003etexelFetch\u003c/code\u003e will not filter. It‚Äôs the best choice when appropriate. On GL (and on DX in Urho because of how samplers are implemented) it‚Äôs also your only option if you need to extract unfiltered data from a filtered texture, such as when packing data into channels or using the sign-bit as an extra bool where filtering will mung those values.\u003c/p\u003e\n\u003cp\u003eWebGL2 and GLES3 capable hardware have vertex texture support. It isn‚Äôt required for GLES2 but will likely be there on anything reasonable. For Apple it‚Äôs devices that shipped with iOS 7 and above IIRC, Samsung is S6 and above. Save some goats to sacrifice if you need to target hardware east of Greece where there‚Äôs more device diversity per year than the entire lifetime of smartphones in the west.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-03-22T08:21:36.910Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":20,"readers_count":19,"score":24.0,"yours":false,"topic_id":6765,"topic_slug":"sample2dlod0-vs-texelfetch-for-vertex-shader","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1358,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":42179,"name":"Brian Knox","username":"najak3d","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png","created_at":"2021-03-22T08:24:31.796Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"najak3d\" data-post=\"1\" data-topic=\"6765\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/40.png\" class=\"avatar\"\u003e najak3d:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003efloat2 diffVal = Sample2DLod0(DiffMap, iTexCoord).rg;\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eBTW, I am using this now inside my Vertex Shader, and it‚Äôs accurate, no interpolation/filtering.  I seem to be getting the raw texture data.   This was accomplished by ensuring my texCoord values sample the ‚Äúexact center‚Äù of each pixel. (using half-pixel-size offsets for each ‚Äì e.g. to get pixel 0,0 on a texture size 256, I sample texCoord (1/512, 1/512), rather than 0,0,  and for 1,1 I sample (3/512, 3/512) and so on, up to 255, 255 sampling at (511/512, 511/512) to get the last pixel‚Äôs center.\u003c/p\u003e\n\u003cp\u003eNo matter, I think I‚Äôll be switching it to ‚ÄútexelFetch‚Äù, because it‚Äôs more appropriate for this task. (and I‚Äôm guessing it probably runs faster, since it has no logic to ‚Äúsample 4 pixels and interpolate/blend‚Äù).\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-03-22T08:27:14.642Z","reply_count":0,"reply_to_post_number":2,"quote_count":1,"incoming_link_count":0,"reads":17,"readers_count":16,"score":3.4,"yours":false,"topic_id":6765,"topic_slug":"sample2dlod0-vs-texelfetch-for-vertex-shader","display_username":"Brian Knox","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1334,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[42175,42176,42179]},"timeline_lookup":[[1,611]],"suggested_topics":[{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7104,"title":"Bug in my partial-model copying code","fancy_title":"Bug in my partial-model copying code","slug":"bug-in-my-partial-model-copying-code","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5367e370779d64989e5c3ff2c1ebfb0689908c87.png","created_at":"2021-12-17T03:50:19.405Z","last_posted_at":"2021-12-17T13:50:49.662Z","bumped":true,"bumped_at":"2021-12-17T13:50:49.662Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7129,"title":"Best Model Import Pipeline as of Jan 2022?","fancy_title":"Best Model Import Pipeline as of Jan 2022?","slug":"best-model-import-pipeline-as-of-jan-2022","posts_count":7,"reply_count":0,"highest_post_number":7,"image_url":null,"created_at":"2022-01-17T09:27:23.432Z","last_posted_at":"2022-01-17T20:37:59.458Z","bumped":true,"bumped_at":"2022-01-17T20:37:59.458Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":170,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}}]},{"id":7156,"title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","fancy_title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","slug":"manual-mesh-part-animation-e-g-rotate-a-propeller","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-26T23:50:29.343Z","last_posted_at":"2022-01-27T05:31:02.766Z","bumped":true,"bumped_at":"2022-01-27T05:31:02.766Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":155,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]}],"tags_descriptions":{},"id":6765,"title":"Sample2DLod0 vs 'texelFetch' for Vertex Shader","fancy_title":"Sample2DLod0 vs \u0026lsquo;texelFetch\u0026rsquo; for Vertex Shader","posts_count":3,"created_at":"2021-03-21T20:21:51.996Z","views":205,"reply_count":1,"like_count":1,"last_posted_at":"2021-03-22T08:24:31.796Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"sample2dlod0-vs-texelfetch-for-vertex-shader","category_id":10,"word_count":512,"deleted_at":null,"user_id":1334,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6765","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":2,"username":"JSandusky","excerpt":"texelFetch will not filter. It‚Äôs the best choice when appropriate. On GL (and on DX in Urho because of how samplers are implemented) it‚Äôs also your only option if you need to extract unfiltered data from a filtered texture, such as when packing data into channels or using the sign-bit as an extra bo\u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0}],"created_by":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"},"last_poster":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}}}