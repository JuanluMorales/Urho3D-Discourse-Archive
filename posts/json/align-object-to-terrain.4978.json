{"post_stream":{"posts":[{"id":28617,"name":"QB'k Games","username":"QBkGames","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png","created_at":"2019-02-28T03:08:34.664Z","cooked":"\u003cp\u003eI’m trying to align a static object that has a random rotation and scale to the terrain at a random location. Is there a way to get the AABB of a game object, that has a static mesh and collision shape/rigid body? I’m pretty sure both the Octree and Bullet calculate it (somewhere, somehow), so does anyone know how to get the world transform based AABB from either the Octree or physics (preferably physics)?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-03-05T07:34:53.056Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":5,"reads":30,"readers_count":29,"score":36.0,"yours":false,"topic_id":4978,"topic_slug":"align-object-to-terrain","display_username":"QB'k Games","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":780,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28619,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-02-28T03:14:21.768Z","cooked":"\u003cp\u003eBullet CollisionShape class has getAABB() method that you can call at runtime, it is (I believe) dynamic, ie its the oriented aabb, likely what you wanted… not sure if Urho’s CollisionShape wrapper class has this, but it does have CollisionShape::GetCollisionShape() which returns the underlying bullet CollisionShape object.\u003cbr\u003e\nBut for object placement on a terrain, I generally like to create my objects somewhere high up in Y, cast a sphere down to the terrain, and set the Y position to the origin of the sphere with respect to the collision result (contact point).\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2019-02-28T03:16:47.103Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":31,"readers_count":30,"score":6.2,"yours":false,"topic_id":4978,"topic_slug":"align-object-to-terrain","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28630,"name":"","username":"I3DB","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png","created_at":"2019-02-28T17:21:53.798Z","cooked":"\u003caside class=\"quote no-group\" data-post=\"1\" data-topic=\"4978\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/qbkgames/40/646_2.png\" class=\"avatar\"\u003e QBkGames:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI’m trying to align a static object that has a random rotation and scale to the terrain at a random location.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIn \u003ca href=\"https://github.com/urho3d/Urho3D/blob/9e48a8e02d4c68852dca7f09c76b67b782504043/Source/Samples/23_Water/Water.cpp#L131\" rel=\"nofollow noopener\"\u003ethe water feature sample\u003c/a\u003e blocks are placed at random locations over the terrain and aligned normally and height-wise with the terrain. \u003ca href=\"https://github.com/urho3d/Urho3D/blob/9e48a8e02d4c68852dca7f09c76b67b782504043/Source/Urho3D/Graphics/Terrain.cpp#L555\" rel=\"nofollow noopener\"\u003eThose functions are here.\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://urho3d.github.io/samples/Urho3DPlayer.html?Scripts/23_Water.as\" rel=\"nofollow noopener\"\u003eThis shows that sample running\u003c/a\u003e, and you can see how the blocks are aligned, if that is what you’re looking for.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2019-02-28T17:23:29.094Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":26,"readers_count":25,"score":20.2,"yours":false,"topic_id":4978,"topic_slug":"align-object-to-terrain","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/9e48a8e02d4c68852dca7f09c76b67b782504043/Source/Urho3D/Graphics/Terrain.cpp#L555","internal":false,"reflection":false,"title":"Urho3D/Terrain.cpp at 9e48a8e02d4c68852dca7f09c76b67b782504043 · urho3d/Urho3D · GitHub","clicks":5},{"url":"https://github.com/urho3d/Urho3D/blob/9e48a8e02d4c68852dca7f09c76b67b782504043/Source/Samples/23_Water/Water.cpp#L131","internal":false,"reflection":false,"title":"Urho3D/Water.cpp at 9e48a8e02d4c68852dca7f09c76b67b782504043 · urho3d/Urho3D · GitHub","clicks":2},{"url":"https://urho3d.github.io/samples/Urho3DPlayer.html?Scripts/23_Water.as","internal":false,"reflection":false,"title":"Emscripten-Generated Code","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1086,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28648,"name":"QB'k Games","username":"QBkGames","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png","created_at":"2019-03-01T09:10:43.745Z","cooked":"\u003cp\u003eThanks guys for the reply.\u003c/p\u003e\n\u003cp\u003eThe problem is that if you have a rectangular box (not cubic), which could be rotated around any axis (say 90 deg for simplicity sake) and also scaled, then neither casting a sphere nor the simple functions in the Water sample would work. You can align to the terrain slope but how high should the box be positioned so that it neither sink in the ground nor levitate above the ground? You really need the AABB with all the node transformed applied to it. I could calculate it out myself, but the engine should already calculate it (possibly in 2 separate places), so it seems reasonable that you should be able to just get it and not calculate it a third time.\u003c/p\u003e\n\u003cp\u003eI’ll check out the getAABB()  of the Bullet CollisionShape to see if it helps.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2019-03-01T09:10:43.745Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":4978,"topic_slug":"align-object-to-terrain","display_username":"QB'k Games","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":780,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28671,"name":"Leith Ketchell","username":"Leith","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","created_at":"2019-03-02T03:22:57.334Z","cooked":"\u003cp\u003eIt doesn’t need to be a sphere - spheres are more accurate than raycasts on uneven terrain, but bullet has a ConvexCast method to cast any (convex) shape in some direction. Not sure that Urho has support for it, but you can get to the underlying bullet objects, so you can definitely do it yourself (just not in script, only in c++). Also, rotating a cube by 90 degrees was a pretty poor example lol.\u003cimg src=\"//cdck-file-uploads-global.s3.dualstack.us-west-2.amazonaws.com/standard17/uploads/urho3d/original/2X/a/a9f5c004632d391bff52281631c85a4333c07613.jpeg\" alt=\"Screenshot%20from%202019-03-02%2013-16-41\" width=\"690\" height=\"403\"\u003e\u003cbr\u003e\nim not far out but im not getting love and support.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2019-03-02T05:32:20.789Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":1,"reads":22,"readers_count":21,"score":9.4,"yours":false,"topic_id":4978,"topic_slug":"align-object-to-terrain","display_username":"Leith Ketchell","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":4,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"suspended user","title_is_group":false,"reply_to_user":{"username":"QBkGames","name":"QB'k Games","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1098,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":28765,"name":"QB'k Games","username":"QBkGames","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png","created_at":"2019-03-05T04:29:10.779Z","cooked":"\u003cp\u003eLooks like I end up answering my own question. The Drawable has a function GetWorldBoundingBox() which gets me what I want (though now I’m not sure if this is what I really need \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=6\" title=\":stuck_out_tongue:\" class=\"emoji\" alt=\":stuck_out_tongue:\"\u003e).\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2019-03-05T04:29:10.779Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":19.2,"yours":false,"topic_id":4978,"topic_slug":"align-object-to-terrain","display_username":"QB'k Games","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":780,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[28617,28619,28630,28648,28671,28765]},"timeline_lookup":[[1,1364],[3,1363],[5,1362],[6,1359]],"suggested_topics":[{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7092,"title":"Finding the World Space Coordinates of the Screen Edges","fancy_title":"Finding the World Space Coordinates of the Screen Edges","slug":"finding-the-world-space-coordinates-of-the-screen-edges","posts_count":6,"reply_count":2,"highest_post_number":6,"image_url":null,"created_at":"2021-12-07T20:53:49.453Z","last_posted_at":"2021-12-08T12:33:52.510Z","bumped":true,"bumped_at":"2021-12-08T12:33:52.510Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":210,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"魔大农 𝞍𝞎𝝳 現招蜍","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7176,"title":"Orthographic scene slowing down when zooming out","fancy_title":"Orthographic scene slowing down when zooming out","slug":"orthographic-scene-slowing-down-when-zooming-out","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-30T10:05:50.218Z","last_posted_at":"2022-01-30T10:05:50.294Z","bumped":true,"bumped_at":"2022-01-30T10:05:50.294Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":127,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1351,"username":"Haukinger","name":"Haukinger","avatar_template":"/user_avatar/discourse.urho3d.io/haukinger/{size}/3670_2.png"}}]},{"id":7185,"title":"Update Ray ray direction","fancy_title":"Update Ray ray direction","slug":"update-ray-ray-direction","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-02-05T00:28:45.414Z","last_posted_at":"2022-02-05T20:19:51.238Z","bumped":true,"bumped_at":"2022-02-05T20:19:51.238Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7186,"title":"Best way to do Blob Shadows in Urho","fancy_title":"Best way to do Blob Shadows in Urho","slug":"best-way-to-do-blob-shadows-in-urho","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/22e3dc1892512375cae09bf84fd92071a1ae27d8.png","created_at":"2022-02-05T04:59:31.388Z","last_posted_at":"2022-02-05T13:29:22.054Z","bumped":true,"bumped_at":"2022-02-05T13:31:44.299Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":179,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":4978,"title":"Align object to terrain","fancy_title":"Align object to terrain","posts_count":6,"created_at":"2019-02-28T03:08:34.556Z","views":400,"reply_count":1,"like_count":2,"last_posted_at":"2019-03-05T04:29:10.779Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"align-object-to-terrain","category_id":10,"word_count":560,"deleted_at":null,"user_id":780,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_4978","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":780,"username":"QBkGames","name":"QB'k Games","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":1098,"username":"Leith","name":"Leith Ketchell","avatar_template":"/user_avatar/discourse.urho3d.io/leith/{size}/2384_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":1086,"username":"I3DB","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/i/3ec8ea/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":780,"username":"QBkGames","name":"QB'k Games","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png"},"last_poster":{"id":780,"username":"QBkGames","name":"QB'k Games","avatar_template":"/user_avatar/discourse.urho3d.io/qbkgames/{size}/646_2.png"},"links":[{"url":"https://github.com/urho3d/Urho3D/blob/9e48a8e02d4c68852dca7f09c76b67b782504043/Source/Urho3D/Graphics/Terrain.cpp#L555","title":"Urho3D/Terrain.cpp at 9e48a8e02d4c68852dca7f09c76b67b782504043 · urho3d/Urho3D · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":1086,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/urho3d/Urho3D/blob/9e48a8e02d4c68852dca7f09c76b67b782504043/Source/Samples/23_Water/Water.cpp#L131","title":"Urho3D/Water.cpp at 9e48a8e02d4c68852dca7f09c76b67b782504043 · urho3d/Urho3D · GitHub","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":1086,"domain":"github.com","root_domain":"github.com"}]}}